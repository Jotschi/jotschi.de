<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 <title>Jotschi.de</title>
 <link href="http://www.jotschi.de/atom.xml" rel="self"/>
 <link href="http://www.jotschi.de/"/>
 <updated>2015-12-13T23:47:38+00:00</updated>
 <id>http://www.jotschi.de/</id>
 <author>
   <name>Jotschi</name>
   <email>webmaster@jotschi.de</email>
 </author>
 
 <entry>
   <title>SVP with Wine on Linux</title>
   <link href="http://www.jotschi.de/2015/08/12/svp-wine-linux.html"/>
   <updated>2015-08-12T18:00:00+00:00</updated>
   <id>http://www.jotschi.de/2015/08/12/svp-wine-linux</id>
   <content type="html">&lt;h1&gt;Guide on how to use &lt;span class=&quot;caps&quot;&gt;SVP&lt;/span&gt; (Smooth Video Project) with AVISynth under linux using wine.&lt;/h1&gt;
&lt;h2&gt;Requirements:&lt;/h2&gt;
&lt;ul&gt;
	&lt;li&gt;Wine&lt;/li&gt;
	&lt;li&gt;avconv&lt;/li&gt;
	&lt;li&gt;libx264&lt;/li&gt;
	&lt;li&gt;The installed tools and plugins below&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Install &lt;span class=&quot;caps&quot;&gt;SVP&lt;/span&gt; using wine&lt;/h2&gt;
&lt;p&gt;Download and install &lt;a href=&quot;http://www.svp-team.com/wiki/Download&quot;&gt;&lt;span class=&quot;caps&quot;&gt;SVP&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;
Don&amp;#8217;t install &lt;span class=&quot;caps&quot;&gt;MPC&lt;/span&gt; or SVPTube. We&amp;#8217;ll not need those tools.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
wine SVP_3.1.7.exe
&lt;/pre&gt;&lt;p&gt;For some reason the installation process has not updated the system32 lib. We need to overwrite the dll with the one that was provided by &lt;span class=&quot;caps&quot;&gt;SVP&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
cp ~/.wine/drive_c/Program Files/SVP/Resources/Avisynth/avisynth.dll ~/.wine/drive_c/windows/system32
&lt;/pre&gt;&lt;h2&gt;Download &lt;a href=&quot;http://akuvian.org/src/avisynth/avs2yuv/&quot;&gt;avs2yuv.exe&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;Download the &lt;a href=&quot;https://github.com/FFMS/ffms2/releases&quot;&gt;ffms2 plugin&lt;/a&gt; for avisynth from github.&lt;/h2&gt;
&lt;p&gt;I used ffms2-2.21-icl.7z and extract the ffms2.dll that matches your architecture.&lt;/p&gt;
&lt;h2&gt;Download the &lt;span class=&quot;caps&quot;&gt;SVP&lt;/span&gt; MVTools&lt;/h2&gt;
&lt;p&gt;I used the &lt;a href=&quot;http://www.svp-team.com/wiki/Plugins:_MVTools2#Downloads&quot;&gt;mvtools-2.5.11.9-svp tools&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We&amp;#8217;ll need the following &lt;span class=&quot;caps&quot;&gt;DLL&lt;/span&gt; files from that archiv:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;libflowsse.dll&lt;/li&gt;
	&lt;li&gt;mvtools2.dll&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Place all the mentioned dll&amp;#8217;s in one folder.&lt;/p&gt;
&lt;p&gt;The folder should now contain:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;libflowsse.dll&lt;/li&gt;
	&lt;li&gt;mvtools2.dll&lt;/li&gt;
	&lt;li&gt;avs2yuv.exe&lt;/li&gt;
	&lt;li&gt;ffms2.dll&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create a avs script called script.avs which has this content:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
SetMemoryMax(1024)

pel=2
recalc=true

svp_flow_lib=&amp;quot;libflowsse.dll&amp;quot;
LoadPlugin(&amp;quot;ffms2.dll&amp;quot;)
LoadPlugin(&amp;quot;mvtools2.dll&amp;quot;)

SetMTMode(3,10)

FFVideoSource(&amp;quot;YOUR_VIDEO.mkv&amp;quot;).ConvertToYV12()

SetMTMode(2)

super=MSuper(pel=pel)
finest=pel==1 ? super : MFinest(super)

backward_vec=MAnalyse(super, isb=true, blksize=16, overlap=4)
forward_vec=MAnalyse(super, isb=false, blksize=16, overlap=4)

# I don&amp;#39;t know why but these lines are not working for me. My avisync can&amp;#39;t parse those lines and aborts
#backward_vec = recalc == 0 ? backward_vec : MRecalculate(super, backward_vec, blksize=8, overlap=2)
#forward_vec  = recalc == 0 ? forward_vec  : MRecalculate(super, forward_vec, blksize=8, overlap=2)

MSmoothFps(super, backward_vec, forward_vec, finest=finest, num=60, den=1, algo=13, sadml=200, blend=false)
&lt;/pre&gt;&lt;p&gt;Update the placeholder in the script and trigger the processing using:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;wine avs2yuv script.avs - | avconv -i - -c:v libx264 -crf 20 -tune film -preset slow -y output.mp4 -f yuv4mpegpipe&lt;/pre&gt;&lt;p&gt;The smoothed video will directly be encoded using libx264 and the result will be written to output.mp4. This process only works for the video and you would need to muxin the sound after this process.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Graph Database Java OGM Comparison</title>
   <link href="http://www.jotschi.de/2015/06/10/graphdb-ogm-comparison.html"/>
   <updated>2015-06-10T18:00:00+00:00</updated>
   <id>http://www.jotschi.de/2015/06/10/graphdb-ogm-comparison</id>
   <content type="html">&lt;p&gt;I have been using graph databases for a while (mostly Neo4j) and i thought it might be a good idea to write down some of the things i noted while using &lt;a href=&quot;http://neo4j.com/&quot;&gt;Neo4j&lt;/a&gt; in combination with &lt;a href=&quot;http://projects.spring.io/spring-data-neo4j/&quot; title=&quot;SDN&quot;&gt;Spring Data Neo4j&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I also compiled a comparision of various graph databases a while ago. My list only includes Java based graph databases that allow embedding. I won&amp;#8217;t go into details about the feature sets and how those differ between each of those databases. Instead i just point out the most important aspects i noticed while using the OGM&amp;#8217;s and graph databases.&lt;/p&gt;
&lt;h1&gt;Graph Databases&lt;/h1&gt;
&lt;h2&gt;Neo4j&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://neo4j.com/&quot;&gt;Neo4j&lt;/a&gt; was the first graph database i have ever used. It is &lt;a href=&quot;https://github.com/neo4j&quot;&gt;open source&lt;/a&gt; and very fast. It also ships directly with a neat little admin ui which can be used to visualize your graph data.&lt;br /&gt;
The database is very easy to embedd and comes with a powerful query language (cypher). I don&amp;#8217;t know whether there are any other dedicated &lt;span class=&quot;caps&quot;&gt;OGM&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;ORM&lt;/span&gt; layers for Neo4j besides of &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; and blueprint based OGMs.&lt;br /&gt;
The licensing on the other hand is not very useful once you decide to embedd Neo4j in your application.&lt;br /&gt;
Neo4j Community Edition is licensed under &lt;span class=&quot;caps&quot;&gt;GPL&lt;/span&gt;. MySQL is also licensed under &lt;span class=&quot;caps&quot;&gt;GPL&lt;/span&gt;.&lt;br /&gt;
This means when you would not embedd the database and only use the provided Neo4j &lt;span class=&quot;caps&quot;&gt;REST&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; you would not need to license your application under &lt;span class=&quot;caps&quot;&gt;GPL&lt;/span&gt;.&lt;br /&gt;
Once you embedd the database in your application you must license your application under &lt;span class=&quot;caps&quot;&gt;GPL&lt;/span&gt;. This gets even worse when you decide to utilze the clustering features. In this case you would need to license your application under &lt;span class=&quot;caps&quot;&gt;AGPL&lt;/span&gt; (even if you would use Neo4j though the &lt;span class=&quot;caps&quot;&gt;REST&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;)&lt;/p&gt;
&lt;p&gt;The High Availability mode (Master/Slave Replication) can also be used when embedding the database. I wrote a &lt;a href=&quot;https://github.com/Jotschi/neo4j-ha-example&quot;&gt;dummy project&lt;/a&gt; a while ago that contains a working example.&lt;/p&gt;
&lt;h2&gt;OrientDB&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://orientdb.com/&quot;&gt;OrientDB&lt;/a&gt; is also open source. There is no cypher but you can use Orient &lt;span class=&quot;caps&quot;&gt;SQL&lt;/span&gt;. Embedding is also very easy and the licensing with Apache 2 license is very developer friendly. Tinkerpop support is very good.&lt;/p&gt;
&lt;p&gt;The blueprint &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; is the nativ &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; for orientdb. This means no additional blueprint &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; implementation is needed when using a blueprint based &lt;span class=&quot;caps&quot;&gt;OGM&lt;/span&gt;.&lt;/p&gt;
&lt;h2&gt;Sparsity Sparksee&lt;/h2&gt;
&lt;p&gt;I have never used &lt;a href=&quot;http://www.sparsity-technologies.com/&quot;&gt;Sparsity Sparksee&lt;/a&gt; but feature wise it is compareable to the other big graph databases.&lt;/p&gt;
&lt;h2&gt;Titan DB&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://thinkaurelius.github.io/titan/&quot;&gt;Titan DB&lt;/a&gt; is an interessting database. The storage layer for this graph database is interchangeable. You can use &lt;a href=&quot;http://en.wikipedia.org/wiki/Berkeley_DB&quot;&gt;Berkeley DB&lt;/a&gt; which is quiet fast but it basically limits the size of nodes you can store and you can&amp;#8217;t use clustering.&lt;br /&gt;
Alternativly you can also use &lt;a href=&quot;http://cassandra.apache.org/&quot;&gt;Cassandra&lt;/a&gt;. Cassandra is slower compared to BerkeleyDB but it supports replication.&lt;/p&gt;
&lt;h2&gt;Hypergraphdb&lt;/h2&gt;
&lt;p&gt;I have never used this database and can&amp;#8217;t say much about it but my impression is that it is very small and the feature set is limited.&lt;/p&gt;
&lt;h1&gt;Performance comparison&lt;/h1&gt;
&lt;p&gt;The performance comparision is very superficial and you should keep in mind that the usecase for the database should always dictate the choice.&lt;br /&gt;
I have just compared low level read and write speed because i was interested in those. The benchmark does not cover any kind of graph traversals. I was merely interessted in the speed it takes each database to output a single node.&lt;/p&gt;
&lt;p&gt;All tests were executed within in a &lt;span class=&quot;caps&quot;&gt;JVM&lt;/span&gt; that also excuted the graph database. I created 10k nodes and read those 10k nodes sequentially and in random order. No warmup phase was added.&lt;br /&gt;
As a baseline i choose Neo4j because it got the overall best performance. (less % is better)&lt;/p&gt;
&lt;table&gt;
	&lt;tr&gt;
		&lt;th&gt;DB                  &lt;/th&gt;
		&lt;th&gt;write 10k &lt;/th&gt;
		&lt;th&gt;read 10k seq &lt;/th&gt;
		&lt;th&gt;read 10k random &lt;/th&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt; Neo4j                 &lt;/td&gt;
		&lt;td&gt; 100%        &lt;/td&gt;
		&lt;td&gt; 100%           &lt;/td&gt;
		&lt;td&gt; 100%              &lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt; OrientDB              &lt;/td&gt;
		&lt;td&gt; 171%        &lt;/td&gt;
		&lt;td&gt; 101%           &lt;/td&gt;
		&lt;td&gt; 104%              &lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt; Titan DB (Cassandra)  &lt;/td&gt;
		&lt;td&gt; 314%        &lt;/td&gt;
		&lt;td&gt; 502%           &lt;/td&gt;
		&lt;td&gt; 510%              &lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt; Titan DB (BerkeleyDB) &lt;/td&gt;
		&lt;td&gt; &amp;#8211;           &lt;/td&gt;
		&lt;td&gt; 200%           &lt;/td&gt;
		&lt;td&gt; 205%              &lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;span class=&quot;caps&quot;&gt;OGM&lt;/span&gt; &amp;#8211; Object Graph Mapping&lt;/h1&gt;
&lt;p&gt;I created a &lt;a href=&quot;https://github.com/Jotschi/graph-ogm-examples&quot;&gt;github project&lt;/a&gt; that contains examples for all mentioned OGM&amp;#8217;s and graph databases.&lt;/p&gt;
&lt;h2&gt;Spring Data Neo4j&lt;/h2&gt;
&lt;p&gt;I have used &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; a lot and i&amp;#8217;m quiet impressed by it. Getting started is quiet easy and there are a lot of examples out there.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; uses annotations to map the entities and relationships. Inheritance of objects is direcly mapped to the labels of a node. It is possible to create Spring Data Repositories that retrieve objects by using property values or by specifying cypher statements.&lt;/p&gt;
&lt;p&gt;What i like is the paging cypher support. What i do not like is the amount of classes and interfaces you need to create to interface with your objects but i guess this is always application specific.&lt;/p&gt;
&lt;p&gt;When mentioning &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; it is important to note the differences between the versions.&lt;/p&gt;
&lt;h3&gt;3.3.x&lt;/h3&gt;
&lt;p&gt;[Example project](https://github.com/Jotschi/graph-ogm-examples/tree/master/spring-data-neo4j-3.x)&lt;/p&gt;
&lt;p&gt;Example usecase:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;User.java &amp;#8211; Defines the entity&lt;/li&gt;
	&lt;li&gt;UserRepository.java &amp;#8211; Defines the &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; user repository&lt;/li&gt;
	&lt;li&gt;UserRepositoryImpl.java &amp;#8211; Defines a &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; repository implementation that may contain custom repository method implementations&lt;/li&gt;
	&lt;li&gt;UserActions.java &amp;#8211; Interface that contains the methods (is extendes by UserRepository and implemented by UserRepositoryImpl)&lt;/li&gt;
	&lt;li&gt;UserService      &amp;#8211; Defines methods that the implementation may use to manipulate user objects.&lt;/li&gt;
	&lt;li&gt;UserServiceImpl  &amp;#8211; Implements the defined methods.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Another point that caused a lot of trouble for me was the @Fetch annotation. The getGroups() method would load the full entities (groups) when adding the @Fetch annotation to the method. This could cause to infinitive recursions or huge loading times. At the end i removed nearly all @Fetch annotations from my projects.&lt;/p&gt;
&lt;p&gt;Instead i used the &lt;a href=&quot;http://docs.spring.io/autorepo/docs/spring-data-neo4j/current/api/org/springframework/data/neo4j/support/Neo4jTemplate.html&quot;&gt;Neo4jTemplate&lt;/a&gt; class in order to populate the returned enitity. When no @Fetch was specified only a shallow object with no properties is returned. Using the neo4jTemplate.fetch() this shallow object could be loaded.&lt;/p&gt;
&lt;p&gt;Additionally &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; 3.x was/is slow as hell when using a remote Neo4j instead of the embedded one. This is another reason why &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; 4.x was developed.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped java&quot;&gt;
@NodeEntity
public class User extends AbstractPersistable {

	private String lastname;

	private String firstname;

	@Indexed(unique = true)
	private String username;

  @RelatedTo(type = &amp;quot;MEMBER_OF&amp;quot;, direction = Direction.OUTGOING, elementClass = Group.class)
	private Set&amp;lt;Group&amp;gt; groups = new HashSet&amp;lt;&amp;gt;();
}
&lt;/pre&gt;&lt;h3&gt;4.x&lt;/h3&gt;
&lt;p&gt;[Example project](https://github.com/Jotschi/graph-ogm-examples/tree/master/spring-data-neo4j-4.x)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; 4.x is still in development and is currently not using the Neo4j Core &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; directly. Instead it relies on the Neo4j &lt;span class=&quot;caps&quot;&gt;REST&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;. The overall performance for remote connected neo4j servers is faster (compared to &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; 3.3 in remote mode).&lt;br /&gt;
I can only guess why Neo4j/Pivotal Software choose this approach but my guess is that they started a rewrite of &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; in preparation for the binary protocol support for neo4j and to speedup &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; when using a remote Neo4j.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://docs.spring.io/spring-data/neo4j/docs/4.0.0.M1/reference/html/&quot;&gt;Documentation 4.0.0.M1&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Tinkerpop&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://tinkerpop.incubator.apache.org/&quot;&gt;Tinkerpop&lt;/a&gt; is a collection of APIs that allow transparent and easy interfacing with graph databases. The blueprint &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; is the most low level api which is used to wrap the graph databases native &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;. By doing so it provides a standarized &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; which other APIs can use to interface with a graph db through this &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; layer. The &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; layer is very thin. There are various wrappers for many graph databases. I have used the &lt;a href=&quot;https://github.com/tinkerpop/blueprints/tree/master/blueprints-neo4j2-graph&quot;&gt;blueprint neo4j implementation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Tinkerpop Blueprint is generally a good choice when you want to develop your application but you are not yet sure what graph database you will use at the end.&lt;/p&gt;
&lt;p&gt;There are three OGM&amp;#8217;s that are based upon the blueprint &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; i have looked at.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/freemo/Ferma-benchmark&quot;&gt;Ferma Benchmark&lt;/a&gt; contains mesurements for Frames, Totorom and Ferma.&lt;/p&gt;
&lt;h3&gt;Tinkerpop 2 &amp;#8211; Frames&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Jotschi/graph-ogm-examples/tree/master/frames&quot;&gt;Example project&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Frames &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; uses annotations similar to &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; and thus switching from &lt;span class=&quot;caps&quot;&gt;SDN&lt;/span&gt; to Frames is not that hard. Indices have to be created seperatly. Tinkerpop does not support cypher. You would need to write your &lt;a href=&quot;http://sql2gremlin.com/&quot;&gt;statements in gremlin&lt;/a&gt; instead. The project seems not very active and Frames will not be part of Tinkerpop 3.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped java&quot;&gt;
public interface User extends AbstractPersistable {

        @Property(&amp;quot;firstname&amp;quot;)
        public String getFirstname();

        @Property(&amp;quot;firstname&amp;quot;)
        public void setFirstname(String name);

        @Property(&amp;quot;lastname&amp;quot;)
        public String getLastname();

        @Property(&amp;quot;lastname&amp;quot;)
        public void setLastname(String name);

        @Property(&amp;quot;username&amp;quot;)
        public String getUsername();

        @Property(&amp;quot;username&amp;quot;)
        public void setUsername(String name);

        @Adjacency(label = &amp;quot;HAS_USER&amp;quot;, direction = Direction.OUT)
        public Iterable&amp;lt;Group&amp;gt; getGroups();
}
&lt;/pre&gt;&lt;h3&gt;Tinkerpop &amp;#8211; Totorom&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Jotschi/graph-ogm-examples/tree/master/totorom&quot;&gt;Example project&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I guess &lt;a href=&quot;https://github.com/BrynCooke/totorom&quot;&gt;Totorom&lt;/a&gt; could be seen as a successor to Frames. It is faster compared to Frames and it nativly interfaces with the tinkerpop gremlin query &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;.&lt;br /&gt;
The whole &lt;span class=&quot;caps&quot;&gt;OGM&lt;/span&gt; is also very small. Many (all?) annotations are gone. Instead of interfaces you write classes which make things a lot easier compared to frames. In frames custom method handlers would need a special annotation (@JavaHandler) and a dedicated handler implementation for the method. With Totorom you just add your custom method.&lt;br /&gt;
Unfortunately the project itself is not very active (as for 06/2015).&lt;/p&gt;
&lt;pre class=&quot;syntax escaped java&quot;&gt;
public class User extends AbstractPersistable {

        public static String FIRSTNAME_KEY = &amp;quot;firstname&amp;quot;;

        public static String LASTNAME_KEY = &amp;quot;lastname&amp;quot;;

        public static String USERNAME_KEY = &amp;quot;username&amp;quot;;

        public String getFirstname() {
                return getProperty(FIRSTNAME_KEY);
        }

        public void setFirstname(String name) {
                setProperty(FIRSTNAME_KEY, name);
        }

        public String getLastname() {
                return getProperty(LASTNAME_KEY);
        }

        public void setLastname(String name) {
                setProperty(LASTNAME_KEY, name);
        }

        public String getUsername() {
                return getProperty(USERNAME_KEY);
        }

        public void setUsername(String name) {
                setProperty(USERNAME_KEY, name);
        }

        public List&amp;lt;Group&amp;gt; getGroups() {
                return out(&amp;quot;HAS_USER&amp;quot;).toList(Group.class);
        }

}
&lt;/pre&gt;&lt;h3&gt;Ferma&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Jotschi/graph-ogm-examples/tree/master/ferma&quot;&gt;Example projects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; of &lt;a href=&quot;https://github.com/Syncleus/Ferma&quot;&gt;Ferma&lt;/a&gt; is very similar to Totorom. Ferma has various operation modes. It also supports the Frames annotations.&lt;/p&gt;
&lt;p&gt;What i found useful:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Ferma is exposing the raw graph &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;.&lt;/li&gt;
	&lt;li&gt;The project is active as of 06/2015&lt;/li&gt;
	&lt;li&gt;The &lt;a href=&quot;http://wiki.syncleus.com/index.php/Ferma&quot;&gt;documentation&lt;/a&gt; is quite good.&lt;/li&gt;
	&lt;li&gt;The &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; contains useful method that can improve performance or prevent boilerplate code (e.g: toListExplicit, nextExplicit, nextOrDefault)&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;syntax escaped java&quot;&gt;
public class User extends AbstractPersistable {

        public static String FIRSTNAME_KEY = &amp;quot;firstname&amp;quot;;

        public static String LASTNAME_KEY = &amp;quot;lastname&amp;quot;;

        public static String USERNAME_KEY = &amp;quot;username&amp;quot;;

        public String getFirstname() {
                return getProperty(FIRSTNAME_KEY);
        }

        public void setFirstname(String name) {
                setProperty(FIRSTNAME_KEY, name);
        }

        public String getLastname() {
                return getProperty(LASTNAME_KEY);
        }

        public void setLastname(String name) {
                setProperty(LASTNAME_KEY, name);
        }

        public String getUsername() {
                return getProperty(USERNAME_KEY);
        }

        public void setUsername(String name) {
                setProperty(USERNAME_KEY, name);
        }

        public List&amp;lt;Group&amp;gt; getGroups() {
                return out(&amp;quot;HAS_USER&amp;quot;).toList(Group.class);
        }

}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Temporary Server Portforward</title>
   <link href="http://www.jotschi.de/2015/05/27/portforward-to-another-webserver.html"/>
   <updated>2015-05-27T21:30:26+00:00</updated>
   <id>http://www.jotschi.de/2015/05/27/portforward-to-another-webserver</id>
   <content type="html">&lt;p&gt;Sometimes it is useful to redirect all tcp traffic to port 80 from one server to another. This can be important when you decide to change your &lt;span class=&quot;caps&quot;&gt;DNS&lt;/span&gt; entries from one server to another and you don&amp;#8217;t want to leave the old webserver server running.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward
  iptables -F
  iptables -t nat -F
  iptables -X
  iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to-destination SOURCE_IP:80
  iptables -t nat -A POSTROUTING -p tcp -d SOURCE_IP --dport 80 -j SNAT --to-source DESTINATIONIP
  iptables -t nat -A POSTROUTING -j MASQUERADE
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>GlusterFS / Async Writes</title>
   <link href="http://www.jotschi.de/2015/05/27/glusterfs-async-write.html"/>
   <updated>2015-05-27T20:30:26+00:00</updated>
   <id>http://www.jotschi.de/2015/05/27/glusterfs-async-write</id>
   <content type="html">&lt;p&gt;Over the weekend i decided to experiment and setup a glusterfs between my root server(plexus) and my fileserver at home(hydra).&lt;/p&gt;
&lt;p&gt;I won&amp;#8217;t describe how to setup glustefs. There are various good guides &lt;a href=&quot;http://www.gluster.org/community/documentation/index.php/QuickStart&quot;&gt;available&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  gluster volume create gv0 replica 2 hydra:/opt/gfs/brick1/gv0 plexus:/gfs/brick1/gv0
  gluster volume set gv0 network.ping-timeout 5
  gluster volume start gv0

  root@plexus:/gfs# mount -t glusterfs localhost:/gv0 gv0/
  root@hydra:/gfs# mount -t glusterfs localhost:/gv0 gv0/
&lt;/pre&gt;&lt;p&gt;At first glance i hoped that small writes would be cached and asynchronously flushed to the filesystem. I tried to increase the performance.cache-size and performance.write-behind-window-size option but did not succeed in increasing the write performance.&lt;/p&gt;
&lt;p&gt;As you can see the write performance is basically predetermined by my max upload speed.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  # Write 1MB
  root@hydra:/gfs/gv0# dd if=/dev/zero  of=testfile bs=1K count=1024
  1024+0 records in
  1024+0 records out
  1048576 bytes (1.0 MB) copied, 3.36612 s, 312 kB/s
&lt;/pre&gt;&lt;p&gt;But luckily there are branching filesystems like &lt;a href=&quot;http://en.wikipedia.org/wiki/UnionFS&quot;&gt;unionfs&lt;/a&gt; that is for example used for live CDs. Such filesystems work in that way that they overlay multiple filesystems into a single virtual one.&lt;/p&gt;
&lt;p&gt;I created a new gv0-writecache folder which can be written to. The follow command creates a unionfs filesystem that is mounted to the /gv0/union folder.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  mkdir -p /gfs/union
  unionfs-fuse  -o default_permissions -o allow_other /gfs/gv0-writecache=RW:/gfs/gv0=RO /gfs/union/
&lt;/pre&gt;&lt;p&gt;Succeeding writes to the union folder are now very fast and the files are stored within the /gfs/gv0-writecache folder.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  root@hydra:/gfs/union# dd if=/dev/zero of=test2 bs=1M count=10
  10+0 records in
  10+0 records out
  10485760 bytes (10 MB) copied, 0.0454509 s, 231 MB/s
&lt;/pre&gt;&lt;p&gt;After that step we only need to make sure to sync those files from the writecache to the glusterfs mount.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  root@hydra:/gfs/gv0-writecache# rsync  --remove-source-files -av /gfs/gv0-writecache/* /gfs/gv0
&lt;/pre&gt;&lt;p&gt;I also tried to use aufs instead of unionfs-fuse but i got various strange errors.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Resizing raid5 with mdadm, lvm and luks for encryption on debian wheezy</title>
   <link href="http://www.jotschi.de/2014/02/09/lvm-mdadm-resizing-debian-wheezy.html"/>
   <updated>2014-02-09T15:31:26+00:00</updated>
   <id>http://www.jotschi.de/2014/02/09/lvm-mdadm-resizing-debian-wheezy</id>
   <content type="html">&lt;p&gt;This guide will show you how to setup a simple mdadm, lvm test environment in which you can experiment with changes you want to execute on a real disk system.&lt;/p&gt;
&lt;h2&gt;Setup the test environment&lt;/h2&gt;
&lt;p&gt;You can of course use your own disks. In my case i did a trial run of the needed steps by using losetup to map a data file to a loop device.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  dd if=/dev/zero of=diska bs=1M count=300
  dd if=/dev/zero of=diskb bs=1M count=300
  dd if=/dev/zero of=diskc bs=1M count=300
  dd if=/dev/zero of=diskd bs=1M count=300
  losetup /dev/loop0 diska
  losetup /dev/loop1 diskb
  losetup /dev/loop2 diskc
  losetup /dev/loop3 diskd

  # Create raid 5 with one disk missing
  mdadm -Cv /dev/md2 -l5 -n3 /dev/loop0 /dev/loop1 missing

  # Add luks cryptolayer ontop
  cryptsetup luksFormat /dev/md2
  cryptsetup luksOpen /dev/md2 cryptotest

  # Add lvm structure 
  pvcreate /dev/mapper/cryptotest
  vgcreate testvg /dev/mapper/cryptotest
  lvcreate -l 100%FREE -n testlv testvg

  # Create filesystem
  mkfs.ext3  /dev/mapper/testvg-testlv
  mount /dev/mapper/testvg-testlv test/
&lt;/pre&gt;&lt;p&gt;You can now copy your data onto the raid 5 and when done add the missing disk to the final raid. You can of course use three disks from the start.&lt;/p&gt;
&lt;h2&gt;Add missing disk to the raid 5&lt;/h2&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  # Add missing device
  mdadm --add /dev/md2 /dev/loop2
&lt;/pre&gt;&lt;h2&gt;Growing the raid 5 by adding a forth disk&lt;/h2&gt;
&lt;p&gt;Once your data has been copied you may want to add the now free disk to the raid of md2.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  # Add disk and resize md2
  mdadm --add /dev/md2 /dev/loop3
  mdadm --grow --raid-devices=4 /dev/md2

  # Check the sync process and the final result
  cat /proc/mdstat
  mdadm --detail /dev/md2
  umount /tmp/test/test

  # Resize the crypt layer and check the result
  cryptsetup resize cryptotest
  fdisk -l /dev/mapper/cryptotest

  # Resize physical volume and check the result
  pvresize /dev/mapper/cryptotest 
  pvdisplay

  # Resize logical volume and check result
  lvextend -l +100%FREE /dev/mapper/testvg-testlv
  lvdisplay 

  # Resize filesystem
  e2fsck -f /dev/mapper/testvg-testlv
  resize2fs /dev/mapper/testvg-testlv
  mount /dev/mapper/testvg-testlv test
&lt;/pre&gt;&lt;h2&gt;Cleanup of the test environment&lt;/h2&gt;
&lt;p&gt;Of course you should not do these steps on the real raid. These steps are just needed when you want to cleanup your testenvironment.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
  umount /tmp/test/test
  lvremove testvg testlv
  vgremove testvg
  pvremove  /dev/mapper/cryptotest 
  cryptsetup close /dev/mapper/cryptotest 
  mdadm --manage /dev/md2 --stop
  losetup -d /dev/loop0
  losetup -d /dev/loop1
  losetup -d /dev/loop2
  losetup -d /dev/loop3
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>MySQL 5.6 Debian Wheezy Installation</title>
   <link href="http://www.jotschi.de/2014/02/07/mysql-5.6-debian-wheezy-installation.html"/>
   <updated>2014-02-07T11:48:46+00:00</updated>
   <id>http://www.jotschi.de/2014/02/07/mysql-5.6-debian-wheezy-installation</id>
   <content type="html">&lt;p&gt;Just a small snippet on how to setup the MySQL 5.6 database on debian wheezy.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get install libaio1
groupadd mysql
useradd -r -g mysql mysql
wget -O mysql-5.6.16-debian6.0-x86_64.deb http://downloads.mysql.com/archives/mysql-5.6/mysql-5.6.16-debian6.0-x86_64.deb
dpkg -i mysql-5.6.16-debian6.0-x86_64.deb
cd /usr/local
ln -s /opt/mysql/server-5.6 mysql
cd mysql
scripts/mysql_install_db --user=mysql
chown -R root .
chown -R mysql data
cp support-files/mysql.server /etc/init.d/mysql
mkdir -p /etc/mysql/conf.d/
cp my.cnf /etc/mysql/
echo $&amp;#39;!include /etc/mysql/my.cnf\n!includedir /etc/mysql/conf.d/&amp;#39; &amp;gt; my.cnf
update-rc.d mysql-5.7 defaults
service mysql start
./bin/mysql_secure_installation
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>High Performance MySQL Test Database Setup</title>
   <link href="http://www.jotschi.de/2014/02/03/high-performance-mysql-testdatabase.html"/>
   <updated>2014-02-03T19:05:46+00:00</updated>
   <id>http://www.jotschi.de/2014/02/03/high-performance-mysql-testdatabase</id>
   <content type="html">&lt;p&gt;Sometimes your unit tests have run against a real database server. This post will not discuss the question whether this is avoidable or not. Please take a look at embedded database server (e.g: &lt;span class=&quot;caps&quot;&gt;HSQLDB&lt;/span&gt; for Java and mocking techniques e.g: mockito) if you want to remove this dependency from your test environment.&lt;/p&gt;
&lt;p&gt;Instead this post will show how to setup a blazing fast MySQL Server against which you can run your unit tests.&lt;/p&gt;
&lt;p&gt;The main performance bonus is gained by the innodb_flush_log_at_trx_commit setting. This setting will change the flush behavior for the mysql server. Additionally linux tmpfs will be used to put the mysql data files directly into ram.&lt;/p&gt;
&lt;p&gt;The mysql-tmpfs-wrapper.sh script will be used to replace the /etc/init.d/mysql start script. Symlink this file to /etc/init.d/myql-tmpfs.sh and use the sysv-rc-conf tool to remove the autostart/stop of the original /etc/init.d/mysql script. I used insserv /etc/init.d/mysql-tmpfs.sh to enable autostart for my wrapper script.&lt;br /&gt;
&lt;script src=&#39;https://gist.github.com/8792727.js?file=&#39;&gt;&lt;/script&gt;&lt;div&gt;&lt;noscript&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;The recreate_mysql_frombarecopy.sh will recreate the tmpfs ramdisk by using a bare copy of the mysql data directory.&lt;br /&gt;
&lt;script src=&#39;https://gist.github.com/8792866.js?file=&#39;&gt;&lt;/script&gt;&lt;div&gt;&lt;noscript&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Add this mountpoint to your /etc/fstab file to define the mysql data tmpfs. You can use the stat tool to check the uid and gid for your mysql data directory (e.g: stat /opt/mysql/server-5.6/data)&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
none            /opt/mysql/server-5.6/data  tmpfs   defaults,size=1000M,uid=999,gid=1000,mode=0700          0       0
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;I suggest to not directly modify the my.cnf file. Instead use the default my.cnf file and add a includedir section to include files in /etc/mysql/conf.d). This step is of course not needed when you use the original debian mysql server.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;[mysqld]&lt;br /&gt;
bind-address             = 0.0.0.0&lt;/p&gt;
&lt;p&gt;thread_cache_size        = 8&lt;br /&gt;
query_cache_size         = 32M&lt;br /&gt;
thread_concurrency       = 8&lt;br /&gt;
key_buffer_size          = 256M&lt;br /&gt;
max_allowed_packet       = 500M&lt;br /&gt;
table_open_cache         = 512&lt;br /&gt;
sort_buffer_size         = 256M&lt;br /&gt;
net_buffer_length        = 8K&lt;br /&gt;
read_buffer_size         = 256K&lt;br /&gt;
read_rnd_buffer_size     = 8M&lt;br /&gt;
myisam_sort_buffer_size  = 64M&lt;/p&gt;
&lt;p&gt;innodb_use_native_aio          = false&lt;br /&gt;
innodb_data_file_path          = ibdata1:10M:autoextend:max:15360M&lt;br /&gt;
innodb_file_format             = Barracuda&lt;br /&gt;
innodb_flush_method            = O_DIRECT&lt;br /&gt;
innodb_write_io_threads        = 64&lt;br /&gt;
innodb_read_io_threads         = 64&lt;/p&gt;
&lt;p&gt;#innodb_additional_mem_pool_size = 20M&lt;br /&gt;
innodb_buffer_pool_size        = 2G&lt;br /&gt;
innodb_log_files_in_group      = 2&lt;br /&gt;
innodb_log_buffer_size         = 8M&lt;br /&gt;
innodb_log_file_size           = 128M&lt;/p&gt;
&lt;p&gt;innodb_flush_log_at_trx_commit = 2&lt;br /&gt;
innodb_lock_wait_timeout = 50&lt;/p&gt;
&lt;p&gt;max_connect_errors       = 1000000&lt;br /&gt;
max_connections          = 350&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;The last important step is to create the bare copy. I suggest that you stripdown your mysql as much as possible. &lt;br /&gt;
Example:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;1. Drop all databases except (mysql, perfomance_schema, information_schema)&lt;/li&gt;
	&lt;li&gt;2. /etc/init.d/mysql stop&lt;/li&gt;
	&lt;li&gt;3. Remove the ibdata and iblogfiles&lt;/li&gt;
	&lt;li&gt;4. /etc/init.d/mysql start&lt;/li&gt;
	&lt;li&gt;5. Mysql should work and should have recreated the ibdata and logfiles&lt;/li&gt;
	&lt;li&gt;6. /etc/init.d/mysql stop&lt;/li&gt;
	&lt;li&gt;7. cp -ra /opt/mysql/server-5.6/data /opt/mysql/server-5.6/databarecopy&lt;/li&gt;
	&lt;li&gt;8. rm -rf /opt/mysql/server-5.6/data/*&lt;/li&gt;
	&lt;li&gt;9. /etc/init.d/mysql-tmpfs.sh start&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When put into lxc container a jenkins job can be created to restart the container on a regular basis and thus keep the mysql data directoy clean.&lt;/p&gt;
&lt;p&gt;Happy testing!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wordpress to Jekyll Migration</title>
   <link href="http://www.jotschi.de/2013/01/12/wordpress-to-jekyll.html"/>
   <updated>2013-01-12T00:05:46+00:00</updated>
   <id>http://www.jotschi.de/2013/01/12/wordpress-to-jekyll</id>
   <content type="html">&lt;p&gt;I just finished my migration from wordpress to jekyll.&lt;/p&gt;
&lt;h2&gt;Before you start&lt;/h2&gt;
&lt;p&gt;Make yourself familiar with the &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Liquid-Extensions&quot;&gt;Jekyll liquid template info page&lt;/a&gt; and the &lt;a href=&quot;https://github.com/shopify/liquid/wiki/liquid-for-designers&quot;&gt;Liquid for Designers&lt;/a&gt; wiki page.&lt;/p&gt;
&lt;p&gt;It is also very helpful to take a look at the sources for one of the &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;listed jekyll sites&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Splitting up your wordpress theme template&lt;/h2&gt;
&lt;p&gt;I save the index page into a dummy file and started to split the contents of that file up into manageable parts. At the end i got the following files:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;head-includes.html &amp;#8211; A include file that contains all the css and javascript includes for my blog&lt;/li&gt;
	&lt;li&gt;default.html &amp;#8211; The default template file that contains the raw html skeleton for my blog. It also contained include tags for the head-includes.html.&lt;/li&gt;
	&lt;li&gt;post.html &amp;#8211; The post template is a child of the &lt;i&gt;default.html&lt;/i&gt; template. This template adds those html parts to the default.html that is needed to frame a post. It also contains various includes for widgets &amp;#8211; such as the tag cloud widget and so on.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Exporting Wordpress Posts&lt;/h2&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
$ ruby -rubygems -e &#39;require &quot;jekyll/migrators/wordpress&quot;; Jekyll::WordPress.process(&quot;database&quot;, &quot;user&quot;, &quot;pass&quot;, &quot;127.0.0.1&quot;)&#39;
&lt;/pre&gt;
&lt;p&gt;I had to fix a lot of encoding issues in the generated post files. I used &lt;i&gt;sed&lt;/i&gt; to correct those encoding issues. There might by way configuring the encoding format for the exporter.&lt;/p&gt;
&lt;h3&gt;Plugins&lt;/h3&gt;
&lt;p&gt;I added some plugins to handle youtube videos, adding code snippets etc. Please note that you mostly can&amp;#8217;t use such plugins with github pages because github is only allowing building jekyll pages with &lt;i&gt;safe&lt;/i&gt; plugins.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/Jotschi/jotschi.github.com/blob/master/_plugins/youtube.rb&quot;&gt;Youtube&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://gist.github.com/1027674&quot;&gt;Gist&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/Jotschi/jotschi.github.com/blob/master/_plugins/snippet.rb&quot;&gt;Code Snippets&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://gist.github.com/2290195&quot;&gt;Tag Clouds&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://recursive-design.com/projects/jekyll-plugins/&quot;&gt;Categories&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;RSS&lt;/span&gt; Feed&lt;/h2&gt;
&lt;ul&gt;
	&lt;li&gt;/feed/index.html&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
---
layout: nil
---
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;feed xmlns=&amp;quot;http://www.w3.org/2005/Atom&amp;quot;&amp;gt;
 &amp;lt;title&amp;gt;Jotschi.de&amp;lt;/title&amp;gt;
 &amp;lt;link href=&amp;quot;http://www.jotschi.de/atom.xml&amp;quot; rel=&amp;quot;self&amp;quot;/&amp;gt;
 &amp;lt;link href=&amp;quot;http://www.jotschi.de/&amp;quot;/&amp;gt;
 &amp;lt;updated&amp;gt;{{ site.time | date_to_xmlschema }}&amp;lt;/updated&amp;gt;
 &amp;lt;id&amp;gt;http://www.jotschi.de/&amp;lt;/id&amp;gt;
 &amp;lt;author&amp;gt;
   &amp;lt;name&amp;gt;Jotschi&amp;lt;/name&amp;gt;
   &amp;lt;email&amp;gt;webmaster@jotschi.de&amp;lt;/email&amp;gt;
 &amp;lt;/author&amp;gt;
 {% for post in site.posts %}
 &amp;lt;entry&amp;gt;
   &amp;lt;title&amp;gt;{{ post.title }}&amp;lt;/title&amp;gt;
   &amp;lt;link href=&amp;quot;http://www.jotschi.de{{ post.url }}&amp;quot;/&amp;gt;
   &amp;lt;updated&amp;gt;{{ post.date | date_to_xmlschema }}&amp;lt;/updated&amp;gt;
   &amp;lt;id&amp;gt;http://www.jotschi.de{{ post.id }}&amp;lt;/id&amp;gt;
   &amp;lt;content type=&amp;quot;html&amp;quot;&amp;gt;{{ post.content | xml_escape }}&amp;lt;/content&amp;gt;
 &amp;lt;/entry&amp;gt;
 {% endfor %}
&amp;lt;/feed&amp;gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Importing Comments to Disqus&lt;/h3&gt;
&lt;p&gt;I choose &lt;a href=&quot;http://disqus.com/&quot;&gt;disqus&lt;/a&gt; to handle comments on my blog. I created a comments-widget.html file which i placed within my ___includes__ directory. That file &lt;a href=&quot;https://github.com/Jotschi/jotschi.github.com/blob/master/_includes/widgets/comments-widget.html&quot;&gt;contains the needed javascript&lt;/a&gt; that is used to embed disqus within my website.&lt;/p&gt;
&lt;p&gt;It is possible to import your wordpress comments into your disqus account. I created a Intense Debate xml template and Wordpress export template.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;IntenseDebate.xml&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
---
layout: nil
---
&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;output&amp;gt;
  {% for post in site.posts %}
  {% if post.comments.size &amp;gt; 0 %}
  &amp;lt;blogpost&amp;gt;
    &amp;lt;url&amp;gt;http://www.jotschi.de{{ post.url }}&amp;lt;/url&amp;gt;
    &amp;lt;title&amp;gt;{{ post.title }}&amp;lt;/title&amp;gt;
    &amp;lt;guid&amp;gt;http://www.jotschi.de{{ post.url }}&amp;lt;/guid&amp;gt;
    &amp;lt;comments&amp;gt;
      {% for comment in post.comments %}
      &amp;lt;comment&amp;gt;
        &amp;lt;isAnon&amp;gt;1&amp;lt;/isAnon&amp;gt;
        &amp;lt;score&amp;gt;1&amp;lt;/score&amp;gt;
        &amp;lt;name&amp;gt;{{ comment.author | xml_escape }}&amp;lt;/name&amp;gt;
        &amp;lt;email&amp;gt;{{ comment.author_email }}&amp;lt;/email&amp;gt;
        &amp;lt;url&amp;gt;{{ comment.author_url }}&amp;lt;/url&amp;gt;
        &amp;lt;ip&amp;gt;127.0.0.1&amp;lt;/ip&amp;gt;
        &amp;lt;date&amp;gt;{{ comment.date }}&amp;lt;/date&amp;gt;
        &amp;lt;gmt&amp;gt;{{ comment.date_gmt }}&amp;lt;/gmt&amp;gt;
        &amp;lt;comment&amp;gt;{{ comment.content |xml_escape }}&amp;lt;/comment&amp;gt;
      &amp;lt;/comment&amp;gt;
     {% endfor %}
    &amp;lt;/comments&amp;gt;
  &amp;lt;/blogpost&amp;gt;
  {% endif %}
  {% endfor %}
&amp;lt;/output&amp;gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;Wordpress.xml&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
---
layout: nil
---
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&amp;lt;rss version=&amp;quot;2.0&amp;quot;
  xmlns:content=&amp;quot;http://purl.org/rss/1.0/modules/content/&amp;quot;
  xmlns:dsq=&amp;quot;http://www.disqus.com/&amp;quot;
  xmlns:dc=&amp;quot;http://purl.org/dc/elements/1.1/&amp;quot;
  xmlns:wp=&amp;quot;http://wordpress.org/export/1.0/&amp;quot;&amp;gt;
  &amp;lt;channel&amp;gt;
        {% for post in site.posts %}
  		{% if post.comments.size &amp;gt; 0 %}
		&amp;lt;item&amp;gt;
		  &amp;lt;title&amp;gt;{{ post.title }}&amp;lt;/title&amp;gt;
		  &amp;lt;link&amp;gt;http://www.jotschi.de{{ post.url }}&amp;lt;/link&amp;gt;
		  &amp;lt;content:encoded&amp;gt;&amp;lt;/content:encoded&amp;gt;
		  &amp;lt;!-- value used within disqus_identifier; usually internal identifier of article --&amp;gt;
		  &amp;lt;dsq:thread_identifier&amp;gt;237&amp;lt;/dsq:thread_identifier&amp;gt;
		  &amp;lt;wp:post_date_gmt&amp;gt;{{ comment.date_gmt }}&amp;lt;/wp:post_date_gmt&amp;gt;
		  &amp;lt;wp:comment_status&amp;gt;open&amp;lt;/wp:comment_status&amp;gt;
		  {% for comment in post.comments %}
		  &amp;lt;wp:comment&amp;gt;
			&amp;lt;!-- internal id of comment --&amp;gt;
			&amp;lt;wp:comment_id&amp;gt;{{ comment.id }}&amp;lt;/wp:comment_id&amp;gt;
			&amp;lt;wp:comment_author&amp;gt;{{ comment.author | xml_escape }}&amp;lt;/wp:comment_author&amp;gt;
			&amp;lt;wp:comment_author_email&amp;gt;{{ comment.author_email }}&amp;lt;/wp:comment_author_email&amp;gt;
			&amp;lt;wp:comment_author_url&amp;gt;{{ comment.author_url }}&amp;lt;/wp:comment_author_url&amp;gt;
			&amp;lt;wp:comment_author_IP&amp;gt;127.0.0.1&amp;lt;/wp:comment_author_IP&amp;gt;
			&amp;lt;wp:comment_date_gmt&amp;gt;{{ comment.date_gmt }}&amp;lt;/wp:comment_date_gmt&amp;gt;
			&amp;lt;wp:comment_content&amp;gt;{{ comment.content | xml_escape }}&amp;lt;/wp:comment_content&amp;gt;
			&amp;lt;wp:comment_approved&amp;gt;1&amp;lt;/wp:comment_approved&amp;gt;
			&amp;lt;wp:comment_parent&amp;gt;0&amp;lt;/wp:comment_parent&amp;gt;
		&amp;lt;/wp:comment&amp;gt;
		{% endfor %}
		&amp;lt;/item&amp;gt;
		{% endif %}
		{% endfor %}
&amp;lt;/channel&amp;gt;
&amp;lt;/rss&amp;gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Somehow the generated &lt;i&gt;IntenseDebate.xml&lt;/i&gt; file could not be successfully imported in disqus. I therefore created the Wordpress.xml export file. This file was successfully imported.&lt;/p&gt;
&lt;h2&gt;Search engine optimization&lt;/h2&gt;
&lt;p&gt;The sitemap.xml will help the search engine crawler to find your content as fast as possible.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;sitemap.xml&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
---
---
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;?xml-stylesheet type=&amp;quot;text/xsl&amp;quot; href=&amp;quot;/sitemap.xsl&amp;quot;?&amp;gt;
&amp;lt;urlset xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd&amp;quot; xmlns=&amp;quot;http://www.sitemaps.org/schemas/sitemap/0.9&amp;quot;&amp;gt;    
  &amp;lt;url&amp;gt;
    &amp;lt;loc&amp;gt;http://www.jotschi.de/&amp;lt;/loc&amp;gt;
    &amp;lt;lastmod&amp;gt;{{ site.time | date_to_xmlschema }}&amp;lt;/lastmod&amp;gt;
    &amp;lt;changefreq&amp;gt;daily&amp;lt;/changefreq&amp;gt;
    &amp;lt;priority&amp;gt;1.0&amp;lt;/priority&amp;gt;
  &amp;lt;/url&amp;gt;
  {% for post in site.posts %}
  &amp;lt;url&amp;gt;
    &amp;lt;loc&amp;gt;http://www.jotschi.de{{ post.url }}/&amp;lt;/loc&amp;gt;
    &amp;lt;lastmod&amp;gt;{{ post.date | date_to_xmlschema }}&amp;lt;/lastmod&amp;gt;
    &amp;lt;changefreq&amp;gt;weekly&amp;lt;/changefreq&amp;gt;
    &amp;lt;priority&amp;gt;0.8&amp;lt;/priority&amp;gt;
  &amp;lt;/url&amp;gt;
  {% endfor %}
&amp;lt;/urlset&amp;gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;robots.xml&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
User-agent: *
Disallow:
Sitemap: http://www.jotschi.de/sitemap.xml
&lt;/pre&gt;&lt;h2&gt;Google Search for Jekyll&lt;/h2&gt;
&lt;p&gt;I create a &lt;a href=&quot;https://github.com/Jotschi/jotschi.github.com/blob/master/_includes/widgets/search-widget.html&quot;&gt;small template for a search widget&lt;/a&gt;. This template adds a search form that will use the google jsapi to provide search capability for my blog.&lt;/p&gt;
&lt;h2&gt;Handling wordpress urls&lt;/h2&gt;
&lt;p&gt;I wrote two templates that create a set of rewrite rules that can be used to redirect request to the old wordpress urls to the new jekyll urls.&lt;/p&gt;
&lt;h3&gt;Apache2&lt;/h3&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
---
layout: nil
---
&amp;lt;IfModule mod_rewrite.c&amp;gt;
RewriteEngine on
{% for post in site.posts %}
{% if post.wordpress_url %}
# Rule for {{ post.title }}
RewriteCond %{QUERY_STRING} ^{{ post.wordpress_url }}$
RewriteRule ^$ http://www.jotschi.de{{ post.url }}? [R=302,NC,L]
{% endif %}
{% endfor %}
&amp;lt;/IfModule&amp;gt;
&lt;/pre&gt;&lt;h3&gt;Nginx&lt;/h3&gt;
&lt;p&gt;This template create a list of rewrite rules for nginx to handle wordpress shorturls so that those urls can be remapped for jekyll.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
---
layout: nil
---
  {% for post in site.posts %}{% if post.wordpress_url %}
  # Rule for {{ post.title }}
  if ($args ~ &amp;quot;^p={{ post.wordpress_id }}$&amp;quot;) {
    rewrite ^.*$ http://www.jotschi.de{{ post.url }}? permanent;
    break;
  }{% endif %}{%
   endfor %}
&lt;/pre&gt;&lt;p&gt;Include the generated file within a &lt;i&gt;location /&lt;/i&gt; section of your nginx site configuration file like this:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
location / {
  try_files $uri $uri/ /index.html;
  include /etc/nginx/sites-extra/wordpress-rewrites.conf;
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Raspberry PI 433MHz Remote Controlled Power Plugs</title>
   <link href="http://www.jotschi.de/technik/2012/12/05/raspberry-pi-433mhz-remote-controlled-power-plugs.html"/>
   <updated>2012-12-05T00:18:40+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/12/05/raspberry-pi-433mhz-remote-controlled-power-plugs</id>
   <content type="html">&lt;h2&gt;Hardware&lt;/h2&gt;
&lt;p&gt;First you&amp;#8217;ll need to buy a set of remote controlled power plugs. I got mine from &lt;a href=&quot;http://www.pollin.de/shop/dt/MzMzOTQ0OTk-/Haustechnik/Installationsmaterial/Schalter_Steckdosen/Funk_Steckdosen_Set_2605.html&quot;&gt;pollin.de&lt;/a&gt; for around 10 €.&lt;br /&gt;
&lt;a href=&quot;/images/hx2262-remote/G550666.jpg&quot;&gt;&lt;img src=&quot;/images/hx2262-remote/G550666.jpg&quot; alt=&quot;&quot; title=&quot;G550666&quot; width=&quot;300&quot; height=&quot;225&quot; class=&quot;aligncenter size-full wp-image-854&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Connect your 5V &lt;span class=&quot;caps&quot;&gt;VCC&lt;/span&gt; from the &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; pins of your Raspberry PI to the positiv terminal of your remote control. &lt;br /&gt;
Connect the &lt;span class=&quot;caps&quot;&gt;GCN&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; pin to the negativ terminal of your remote control.&lt;br /&gt;
Connect the &lt;span class=&quot;caps&quot;&gt;PIN&lt;/span&gt; 17 &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; pin to a 8k Ohm resistor and the resistor to pin P1 of the remote control.&lt;br /&gt;
I drilled a hole trough the existing via and scrapped away the soldermask to expose the copper for soldering a connection in place.&lt;br /&gt;
&lt;a href=&quot;/images/hx2262-remote/hx2262-remote.jpg&quot;&gt;&lt;img src=&quot;/images/hx2262-remote/hx2262-remote.jpg&quot; alt=&quot;&quot; title=&quot;hx2262-remote&quot; width=&quot;1024&quot; height=&quot;742&quot; class=&quot;aligncenter size-full wp-image-855&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Software&lt;/h2&gt;
&lt;p&gt;1. Install wiringpi&lt;br /&gt;
&lt;a href=&quot;https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/&quot;&gt;https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2. Install rcswitch-pi&lt;br /&gt;
&lt;a href=&quot;https://github.com/r10r/rcswitch-pi&quot;&gt;https://github.com/r10r/rcswitch-pi&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3. Execute test command&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
// Send off command to plug 4 with system id 11111&lt;br /&gt;
./send 11111 4 0&lt;br /&gt;
// Send on command to plug 4 with system id 11111&lt;br /&gt;
./send 11111 4 1&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>NFS Debian Squeeze CheatSheet</title>
   <link href="http://www.jotschi.de/technik/2012/11/12/nfs-debian-squeeze-cheatsheet.html"/>
   <updated>2012-11-12T23:20:35+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/11/12/nfs-debian-squeeze-cheatsheet</id>
   <content type="html">&lt;p&gt;1. Install nfs&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get install nfs-kernel-server 
&lt;/pre&gt;&lt;p&gt;2. Add the export&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
 echo &amp;quot;/media/nfs-share 192.168.0.15(rw,no_subtree_check)&amp;quot; &amp;gt;&amp;gt; /etc/exports
&lt;/pre&gt;&lt;p&gt;3. Update your exports&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
exportfs -a
&lt;/pre&gt;&lt;p&gt;4. Change the following line in /etc/default/nfs-kernel-server&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
RPCMOUNTDOPTS=&amp;quot;--manage-gids&amp;quot;
&lt;/pre&gt;&lt;p&gt;to&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
RPCMOUNTDOPTS=&amp;quot;-p 32767 --manage-gids&amp;quot;
&lt;/pre&gt;&lt;p&gt;This will bind the nfs to the given port. Otherwise i guess you would have to use portmap.&lt;/p&gt;
&lt;p&gt;Finally mount your data:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
sudo mount -t nfs YOURNFSSERVERIP:/media/nfs-share nfs-share
&lt;/pre&gt;&lt;p&gt;A fstab entry could look like this:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
YOURNFSSERVERIP:/media/nfs-share /media/nfs-share nfs rw,rsize=4096,wsize=4096,hard,intr,async,nodev,nosuid 0 0
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>DIY Dual Screen HMD</title>
   <link href="http://www.jotschi.de/2012/09/23/oculus-rift-diy-dual-screen-clone.html"/>
   <updated>2012-09-23T18:18:01+00:00</updated>
   <id>http://www.jotschi.de/2012/09/23/oculus-rift-diy-dual-screen-clone</id>
   <content type="html">&lt;p&gt;This page will contain images and descriptions of my current &lt;span class=&quot;caps&quot;&gt;DIY&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; project that was inspired by the Oculus Rift. Please note that this rift clone will most likely not be compatible with any &amp;#8220;Rift Ready&amp;#8221; Game.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Used Parts:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Displays: 2x HV056WX1-100&lt;/li&gt;
	&lt;li&gt;Driver Boards: NT68674.5X, Unknown 7+1 Driver Board&lt;/li&gt;
	&lt;li&gt;Tracking: The &lt;a href=&quot;https://www.sparkfun.com/products/10736&quot;&gt;9 DoF Razor &lt;span class=&quot;caps&quot;&gt;IMU&lt;/span&gt; from Sparkfun&lt;/a&gt; in addition to the WiiMote Pixart sensor (connected via I2C).&lt;/li&gt;
	&lt;li&gt;Dual Head Setup: &lt;a href=&quot;http://www.matrox.com/graphics/en/products/gxm/dh2go/digital_se/&quot;&gt;Matrox Dual Head 2 Go Digital Edition&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Lenses: &lt;a href=&quot;http://bit.ly/Tyt7sA&quot;&gt;2x 2 inch 5x pocket loupe magnifier with Aspheric Lens&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Hardware TODOs:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;IR &lt;span class=&quot;caps&quot;&gt;LED&lt;/span&gt; mounting outside the goggles&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;Mouting fixture for the &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; Panels inside the goggles&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;span class=&quot;caps&quot;&gt;IMU&lt;/span&gt; mounting inside the goggles&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;External Pixart sensor mounting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Software TODOs:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;OpenGL ES Demo Code&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;WiiMote I2C WiringPi (Example + Code)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;Raspberry PI &lt;span class=&quot;caps&quot;&gt;UART&lt;/span&gt; &amp;#8594; Razor &lt;span class=&quot;caps&quot;&gt;IMU&lt;/span&gt; (Example + Code)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My rift inpired &lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; will use two HV056WX1-100 &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; panels. Each display has an active area of 120.960 mm by 75.600 mm. My setup will utilizes around 75.00 mm by 75.00 mm of each lcd screen per eye.&lt;/p&gt;
&lt;h2&gt;Driver Box&lt;/h2&gt;
&lt;p&gt;I finally put all the pices together for my driver box. It houses two driver board. The 7+1 Board which i bought from &lt;a href=&quot;http://www.ebay.com.au/itm/5-6inch-TFT-LCD-Module-1280-800-HV056WX1-100-/300598400802?pt=LH_DefaultDomain_0&amp;hash=item45fd0f9722#ht_5639wt_1187&quot;&gt;eBay (vitrolight)&lt;/a&gt; and the smaller NT68674.5X.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/driverboard_box-top.jpg&quot;&gt;&lt;br /&gt;
&lt;img src=&quot;/images/hmd/driverboard_box-top.jpg&quot; alt=&quot;&quot; title=&quot;driverboard_box-top&quot; width=&quot;600&quot; class=&quot;aligncenter size-full wp-image-842&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/driverboard_box-side.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/driverboard_box-side.jpg&quot; alt=&quot;&quot; title=&quot;driverboard_box-side&quot; width=&quot;600&quot; class=&quot;aligncenter size-full wp-image-843&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; &amp;lt;&amp;#8594; &lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; Breakout Boards&lt;/h2&gt;
&lt;p&gt;Both boards use a &lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt;&amp;#8594;&lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; breakout adapter. The 7+1 board uses a adapter which i build from an spare &lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; cable with an female connector. The smaller NT68674.5X uses a breakout board which i build from an &lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; terminal block.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/hdmi-layout-v9_pcb.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/hdmi-layout-v9_pcb.jpg&quot; alt=&quot;&quot; title=&quot;hdmi-layout-v9_pcb&quot; width=&quot;444&quot; height=&quot;840&quot; class=&quot;aligncenter size-full wp-image-844&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Note: The &amp;#8220;blon&amp;#8221; label is not positioned correctly. It should be moved down to the other pin.&lt;/p&gt;
&lt;p&gt;The new adapter works better when compared with the adapter that utilizes a hdmi cable. Soldering fine cables to a &lt;span class=&quot;caps&quot;&gt;PCB&lt;/span&gt; is never a good idea. I ran into trouble with loose or broken connections. Nevertheless.. the adapter which i use for the 7+1 board works well for the moment.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/pcb-breakoutboard-notetched.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/pcb-breakoutboard-notetched.jpg&quot; alt=&quot;&quot; title=&quot;pcb-breakoutboard-notetched&quot; width=&quot;345&quot; height=&quot;514&quot; class=&quot;aligncenter size-full wp-image-845&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/pcb-breakoutboard-etched-cleaned.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/pcb-breakoutboard-etched-cleaned.jpg&quot; alt=&quot;&quot; title=&quot;pcb-breakoutboard-etched-cleaned&quot; width=&quot;347&quot; height=&quot;465&quot; class=&quot;aligncenter size-full wp-image-846&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Failed attempts:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/pinheader_spacer.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/pinheader_spacer.jpg&quot; alt=&quot;&quot; title=&quot;pinheader_spacer&quot; width=&quot;600&quot;  class=&quot;aligncenter wp-image-794&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Display driver board + breakout board:&lt;br /&gt;
&lt;a href=&quot;/images/hmd/board_pinheader_spacer.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/board_pinheader_spacer.jpg&quot; alt=&quot;&quot; title=&quot;board_pinheader_spacer&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-796&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Notes About Boards And Cables&lt;/h2&gt;
&lt;p&gt;I tried various &lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; cables to connect my &lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; breakout boards. It turns out that Amazon basic cables work very well. I also tried super thin &lt;span class=&quot;caps&quot;&gt;HDMI&lt;/span&gt; cables. Those also work but it really depends on the &lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; cable that was shipped with the display. I got two different &lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; cables because i bought two different boards.&lt;/p&gt;
&lt;p&gt;The &lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; board which was included with my NT68674.5X has a better quality than the one i got with the 7+1 board. &lt;br /&gt;
&lt;a href=&quot;/images/hmd/DriverBoard-NT68674.5X.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/DriverBoard-NT68674.5X.jpg&quot; alt=&quot;&quot; title=&quot;DriverBoard-NT68674.5X&quot; width=&quot;600&quot;  class=&quot;aligncenter size-full wp-image-850&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
The cable that was included with my 7+1 board got some unpopulated pins for &lt;span class=&quot;caps&quot;&gt;VCC&lt;/span&gt; and Ground where the other cable was completely populated. Maybe it uses ground from the &lt;span class=&quot;caps&quot;&gt;BLON&lt;/span&gt; pin for the backlight connection?&lt;/p&gt;
&lt;p&gt;I also got the impression that the 7+1 board provides a better signal to the display in comparison to the NT68674.5X. Overall the 7+1 Board could handle longer cables.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; Unit &amp;#8211; Paper Prototype&lt;/h2&gt;
&lt;p&gt;At the first step i build a paper model for the &lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; so that i could get an idea how the screens would fit inside the case and what the dimensions would be.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/paper_proto1.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/paper_proto1.jpg&quot; alt=&quot;&quot; title=&quot;paper_proto1&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-806&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The unpainted paper model:&lt;br /&gt;
&lt;a href=&quot;/images/hmd/paper_proto2.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/paper_proto2.jpg&quot; alt=&quot;&quot; title=&quot;paper_proto2&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-805&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; Lense Mount&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/skigoggles_painted.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/skigoggles_painted.jpg&quot; alt=&quot;&quot; title=&quot;skigoggles_painted&quot; width=&quot;600&quot;  class=&quot;aligncenter wp-image-802&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/skigoggles_unpainted.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/skigoggles_unpainted.jpg&quot; alt=&quot;&quot; title=&quot;skigoggles_unpainted&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-795&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
The goggles. Somehow they remind me of the goggles that Abe Sapien wears.&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; Renderings&lt;/h2&gt;
&lt;p&gt;A simple rendering that shows how the screens will be positioned inside the case:&lt;br /&gt;
&lt;a href=&quot;/images/hmd/view-wire1.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/view-wire1.jpg&quot; alt=&quot;&quot; title=&quot;view-wire1&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-797&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/images/hmd/view-bare.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/view-bare.jpg&quot; alt=&quot;&quot; title=&quot;view-bare&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-816&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/images/hmd/view-inside1.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/view-inside1.jpg&quot; alt=&quot;&quot; title=&quot;view-inside1&quot; width=&quot;600&quot; class=&quot;aligncenter wp-image-815&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; Unit &amp;#8211; Plastic Model&lt;/h2&gt;
&lt;p&gt;I measured the paper model and cut some plastic sheets that were hot glued + cable tied + scotch taped together.&lt;br /&gt;
&lt;a href=&quot;/images/hmd/plastic_proto2.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/plastic_proto2.jpg&quot; alt=&quot;&quot; title=&quot;plastic_proto2&quot; width=&quot;600&quot;  class=&quot;aligncenter wp-image-830&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/hmd/plastic_proto1.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/plastic_proto1.jpg&quot; alt=&quot;&quot; title=&quot;plastic_proto1&quot; width=&quot;600&quot;  class=&quot;aligncenter wp-image-831&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The backside of the &lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt; can be opened for easy access to displays and other internal wiring. The displays are placed in between two guide rails and affixed using a plastic plate that is connected to a screw that can be fastened.&lt;br /&gt;
&lt;a href=&quot;/images/hmd/HMD-open.jpg&quot;&gt;&lt;img src=&quot;/images/hmd/HMD-open.jpg&quot; alt=&quot;&quot; title=&quot;HMD-open&quot; width=&quot;1024&quot; height=&quot;768&quot; class=&quot;aligncenter size-full wp-image-849&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Raspberry PI - 25LC010A EEPROM Howto</title>
   <link href="http://www.jotschi.de/technik/2012/09/06/raspberry-pi-25lc010a-eeprom-howto.html"/>
   <updated>2012-09-06T22:00:37+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/09/06/raspberry-pi-25lc010a-eeprom-howto</id>
   <content type="html">&lt;p&gt;This article will explain how to get a &lt;span class=&quot;caps&quot;&gt;SPI&lt;/span&gt; connection working using the Raspberry PI &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; pins.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-784&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hardware:&lt;br /&gt;
I used the &lt;a href=&quot;http://learn.adafruit.com/adafruit-pi-cobbler-kit/overview&quot;&gt;Adafruit pi cobbler&lt;/a&gt; to connect the &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; header with my breadboard.&lt;br /&gt;
The 25LC010a eeprom chip is a small eeprom chip. The datasheet can be found &lt;a href=&quot;http://ww1.microchip.com/downloads/en/devicedoc/21832c.pdf&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Software:&lt;br /&gt;
I used the default raspbian image for the raspberry pi. The &lt;a href=&quot;https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/&quot;&gt;wiringpi toolchain&lt;/a&gt; contains some neat little programs and libraries to get I2C and &lt;span class=&quot;caps&quot;&gt;SPI&lt;/span&gt; working with the raspberry pi.&lt;/p&gt;
&lt;p&gt;1. Disable the blacklist by adding a # in front of each line because you will need the &lt;span class=&quot;caps&quot;&gt;SPI&lt;/span&gt; kernel module:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
/etc/modprobe.d/raspi-blacklist.conf &lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
2. Reboot the PI&lt;br /&gt;
3. Install wiringPI as described &lt;a href=&quot;https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/&quot;&gt;here&lt;/a&gt;. &lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
sudo apt-get install git-core&lt;br /&gt;
git clone git://git.drogon.net/wiringPi&lt;br /&gt;
cd wiringPi&lt;br /&gt;
./build&lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
4. Use the build gpio tool to load and setup &lt;span class=&quot;caps&quot;&gt;SPI&lt;/span&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
gpio load spi&lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
5. Connect the IC as shown in this image:&lt;br /&gt;
&lt;a href=&quot;/images/25LC010/raspberry_pi-spi-25LC010a_bb.jpg&quot;&gt;&lt;img src=&quot;/images/25LC010/raspberry_pi-spi-25LC010a_bb.jpg&quot; alt=&quot;&quot; title=&quot;raspberry_pi-spi-25LC010a_bb&quot; width=&quot;1024&quot; height=&quot;726&quot; class=&quot;aligncenter size-full wp-image-787&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
The two resistors are very important because they are used to pullup the &lt;span class=&quot;caps&quot;&gt;SCK&lt;/span&gt; and &lt;span class=&quot;caps&quot;&gt;MOSI&lt;/span&gt; pin. The eeprom works with 5V or 3.3V. I used 3.3V because the &lt;span class=&quot;caps&quot;&gt;GPIO&lt;/span&gt; pins only tolerate 3.3V input. Higher voltage might damage your board.&lt;br /&gt;
&lt;a href=&quot;http://twitpic.com/arlj3z&quot; title=&quot;Just got SPI communication with an 25lc010a and my raspberry ... on Twitpic&quot;&gt;&lt;br /&gt;
&lt;img src=&quot;http://twitpic.com/show/thumb/arlj3z.jpg&quot; width=&quot;150&quot; height=&quot;150&quot; alt=&quot;Just got SPI communication with an 25lc010a and my raspberry ... on Twitpic&quot;&gt;&lt;br /&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;6. Compile the source file. You can use this make file:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#DEBUG  = -g -O0
DEBUG   = -O3
CC      = gcc
INCLUDE = -I/usr/local/include
CFLAGS  = $(DEBUG) -Wall $(INCLUDE) -Winline -pipe

LDFLAGS = -L/usr/local/lib
LIBS    = -lwiringPi

# Should not alter anything below this line
###############################################################################

SRC     =       rpi_spi_eepromtest.c

OBJ     =       rpi_spi_eepromtest.o 

all:            rpi_spi_eepromtest

rpi_spi_eepromtest:        rpi_spi_eepromtest.o
        @echo [link]
        $(CC) -o $@ rpi_spi_eepromtest.o $(LDFLAGS) $(LIBS)
        
.c.o:
        @echo [CC] $&amp;lt;
        @$(CC) -c $(CFLAGS) $&amp;lt; -o $@

clean:
        rm -f $(OBJ) *~ core tags rpi_spi_eepromtest

tags:   $(SRC)
        @echo [ctags]
        @ctags $(SRC)

depend:
        makedepend -Y $(SRC)

# DO NOT DELETE
&lt;/pre&gt;
&lt;p&gt;Sources: rpi_spi_eepromtest.c]&lt;br /&gt;
&lt;script src=&#39;https://gist.github.com/3659646.js?file=&#39;&gt;&lt;/script&gt;&lt;div&gt;&lt;noscript&gt;&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/25LC010/raspberry_pi-spi-25LC010a_schem.jpg&quot;&gt;&lt;img src=&quot;/images/25LC010/raspberry_pi-spi-25LC010a_schem.jpg&quot; alt=&quot;&quot; title=&quot;raspberry_pi-spi-25LC010a_schem&quot; width=&quot;1024&quot; height=&quot;548&quot; class=&quot;aligncenter size-full wp-image-786&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>WiiMote PixArt Sensor Testing Via Bus Pirate </title>
   <link href="http://www.jotschi.de/technik/2012/08/26/wiimote-pixart-sensor-testing-via-bus-pirate.html"/>
   <updated>2012-08-26T15:52:18+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/08/26/wiimote-pixart-sensor-testing-via-bus-pirate</id>
   <content type="html">&lt;p&gt;The WiiMote PixArt sensor can be unsoldered and used as a regular I2C device. Here you can find some information on how to get it working with the buspirate.&lt;/p&gt;
&lt;p&gt;Unsoldering tip: Disconnect the two metal clips that are connected to the case of the sensor. You can carefully lift the sensor after that has been done. The connection wires can easily be reinserted into the sensor housing.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-780&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/pixart/pixart_pinout.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/pixart/pixart_pinout_2.jpg&quot;/&gt;&lt;/p&gt;
&lt;p&gt;IR Camera pin configuration:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;1: 3.3V &amp;#8594; BusPirate 3.3V &amp;amp; BusPirate &lt;span class=&quot;caps&quot;&gt;VPU&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;2: &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt; &amp;#8594; BusPirate &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;3: &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt; &amp;#8594; BusPirate &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;4: NC&lt;/li&gt;
	&lt;li&gt;5: &lt;span class=&quot;caps&quot;&gt;SCL&lt;/span&gt; &amp;#8594; BusPirate &lt;span class=&quot;caps&quot;&gt;CLK&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;6: &lt;span class=&quot;caps&quot;&gt;SDA&lt;/span&gt; &amp;#8594; BusPirate &lt;span class=&quot;caps&quot;&gt;MOSI&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;7: &lt;span class=&quot;caps&quot;&gt;CLK&lt;/span&gt; &amp;#8594; Connect to pin 8 of an 25MHz quartz oscillator&lt;/li&gt;
	&lt;li&gt;8: Reset &amp;#8594; Pull Up with 22k Resistor to 3.3V&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Additionally you have to provide voltage and ground for your quartz oscillator. Connect the buspirate &lt;span class=&quot;caps&quot;&gt;VPU&lt;/span&gt; pin to &lt;span class=&quot;caps&quot;&gt;VCC&lt;/span&gt; 3.3V.&lt;/p&gt;
&lt;p&gt;BusPirate Commands:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
// Reset the bus pirate&lt;br /&gt;
#&lt;br /&gt;
// Switch to I2C mode&lt;br /&gt;
m4&lt;br /&gt;
// Select I2C speed&lt;br /&gt;
3&lt;br /&gt;
// Turn off the voltage &lt;br /&gt;
w&lt;br /&gt;
// Turn on the voltage&lt;br /&gt;
W&lt;br /&gt;
// Turn on the Pulldown resistor&lt;br /&gt;
P&lt;br /&gt;
// Print the voltages&lt;br /&gt;
v&lt;br /&gt;
// Control byte, allows modification of settings / Turn camera on&lt;br /&gt;
[0xB0 0&amp;#215;30 0&amp;#215;01]&lt;br /&gt;
[0xB0 0&amp;#215;30 0&amp;#215;08]&lt;br /&gt;
 // 10 &lt;span class=&quot;caps&quot;&gt;MAXSIZE&lt;/span&gt; &amp;#8211; Maximum blob size. Wii uses values from 0&amp;#215;62 to 0xc8.&lt;br /&gt;
[0xB0 0&amp;#215;06 0&amp;#215;90]&lt;br /&gt;
// 15 &lt;span class=&quot;caps&quot;&gt;GAIN&lt;/span&gt; &amp;#8211; Sensor Gain. Smaller values = higher gain. Numerical gain is proportional to 1/2^(n/16) for n&amp;lt;0&amp;#215;40&lt;br /&gt;
[0xB0 0&amp;#215;08 0xC0]&lt;br /&gt;
// 10 &lt;span class=&quot;caps&quot;&gt;GAINLIMIT&lt;/span&gt; &amp;#8211; Sensor Gain Limit. Must be less than &lt;span class=&quot;caps&quot;&gt;GAIN&lt;/span&gt; for camera to function.&lt;br /&gt;
[0xB0 0&amp;#215;1A 0&amp;#215;40]&lt;br /&gt;
[0xB0 0&amp;#215;33 0&amp;#215;33]&lt;/p&gt;
&lt;p&gt;// Request data&lt;br /&gt;
[0xB0 0&amp;#215;36]&lt;br /&gt;
// Read 16 bytes of data&lt;br /&gt;
[0xB1 r:16]&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Forward TCP Connections with Iptables</title>
   <link href="http://www.jotschi.de/uncategorized/2012/05/01/forward-tcp-connections-with-iptables.html"/>
   <updated>2012-05-01T11:49:47+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2012/05/01/forward-tcp-connections-with-iptables</id>
   <content type="html">&lt;p&gt;Sometimes it is useful to forward a tcp connection to another server. For example if you want to switch a web service to another servers with no &lt;span class=&quot;caps&quot;&gt;DNS&lt;/span&gt; delay.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-776&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You have to enable ip_forward and nat for the given port using iptables.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/li&gt;
	&lt;li&gt;iptables -t nat -A &lt;span class=&quot;caps&quot;&gt;PREROUTING&lt;/span&gt; -p tcp &amp;#8212;dport 80 -j &lt;span class=&quot;caps&quot;&gt;DNAT&lt;/span&gt; &amp;#8212;to-destination someip:80&lt;/li&gt;
	&lt;li&gt;iptables -t nat -A &lt;span class=&quot;caps&quot;&gt;POSTROUTING&lt;/span&gt; -j &lt;span class=&quot;caps&quot;&gt;MASQUERADE&lt;/span&gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Fail2Ban Debian Cheat Sheet</title>
   <link href="http://www.jotschi.de/uncategorized/2012/04/29/fail2ban-debian-cheat-sheet.html"/>
   <updated>2012-04-29T11:21:58+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2012/04/29/fail2ban-debian-cheat-sheet</id>
   <content type="html">&lt;pre class=&quot;syntax c&quot;&gt;
apt-get install fail2ban
&lt;/pre&gt;
&lt;p&gt;Set the LogLevel parameter within /etc/ssh/sshd_config from &lt;span class=&quot;caps&quot;&gt;INFO&lt;/span&gt; to &lt;span class=&quot;caps&quot;&gt;VERBOSE&lt;/span&gt;. This allows fail2ban to read failed login attempts.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
LogLevel &lt;span class=&quot;caps&quot;&gt;VERBOSE&lt;/span&gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Restart sshd&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
/etc/init.d/ssh restart&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Change the action parameter within the jail.conf to action_mwl. Otherwise you will not get any e-mail notification about banned ips.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
action = %(action_mwl)s&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Finally make sure that your ssh section within jail.conf is enabled and points to the correct logfile.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Arduino Ethernet Shield Simple REST API Example</title>
   <link href="http://www.jotschi.de/technik/2012/04/21/arduino-ethernet-shield-simple-rest-api-example.html"/>
   <updated>2012-04-21T12:59:27+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/04/21/arduino-ethernet-shield-simple-rest-api-example</id>
   <content type="html">&lt;p&gt;I&amp;#8217;m currently developing a small home security system. The arduino + ethernet shield will provide the rest api control interface for the system. Later on that interface will be controllable with my android phone. (I&amp;#8217;ll probably write another post about that).&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-769&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I took the &lt;a href=&quot;http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1284844153&quot;&gt;webserver example&lt;/a&gt; from Hari Wiguna and modified it a little bit. Currently the implementation is not able the handle &lt;br /&gt;
 &lt;span class=&quot;caps&quot;&gt;POST&lt;/span&gt; request or query parameters. At the moment only path segments are identified and separated.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#include &amp;lt;SPI.h&amp;gt;
#include &amp;lt;Ethernet.h&amp;gt;

// Enter a MAC address and IP address for your controller below.
// The IP address will be dependent on your local network:
byte mac[] = { 
  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };
IPAddress ip(192,168,10, 177);

char cmd[15];
char param1[15];
boolean systemArmed = true;

#define STRING_BUFFER_SIZE 128
char buffer[STRING_BUFFER_SIZE];

EthernetServer server(80);

void setup() {
  Serial.begin(9600);
  // start the Ethernet connection and the server:
  Ethernet.begin(mac, ip);
  server.begin();
  Serial.print(&quot;server is at &quot;);
  Serial.println(Ethernet.localIP());
}

void send404(EthernetClient client) {
     client.println(&quot;HTTP/1.1 404 OK&quot;);
     client.println(&quot;Content-Type: text/html&quot;);
     client.println(&quot;Connnection: close&quot;);
     client.println();
     client.println(&quot;&amp;lt;!DOCTYPE HTML&amp;gt;&quot;);
     client.println(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;404&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;);
}

void sendStatus(EthernetClient client) {
 
   // Send a standard http response header
   client.println(&quot;HTTP/1.1 200 OK&quot;);
   client.println(&quot;Content-Type: application/json&quot;);
   client.println(&quot;Connnection: close&quot;);
   client.println();
   client.println(&quot;{&quot;);

   // Output the value of each analog input pin
   for (int analogChannel = 0; analogChannel &amp;lt; 6; analogChannel++) {
       int sensorReading = analogRead(analogChannel);
       client.print(&quot;\&quot;analog_in_&quot;);
       client.print(analogChannel);
       client.print(&quot;\&quot;: &quot;);
       client.print(sensorReading);
       
//       if (analogChannel != 5) {
           client.println(&quot;,&quot;);  
//       }
   }
   client.print(&quot;\&quot;system_armed\&quot;: &quot;);
   client.print( systemArmed );
   client.println(&quot;\n}&quot;);
}

/**
 * Parse the string and return an array which contains all path segments
 */
char** parse(char* str) {

	char ** messages;
	messages = (char**)malloc(sizeof(char *));
	char *p;
	p = strtok(str, &quot; &quot;);
	unsigned int i = 0;
	while (p != NULL) {
	  p = strtok(NULL, &quot;/&quot;);
	  char *sp;
	  boolean last = false;
	  sp = strchr(p, &#39; &#39;);
	  if (sp != NULL) {
            *sp++ = &#39;\0&#39;;
	    last = true;
	  }
	  messages[i] = p;
	  i++;
	  if (last) {
	    break;
	  }
	  messages = (char**)realloc(messages, sizeof(char *) * i + 1);
	}

	messages[i] = &#39;\0&#39;;
	return messages;
}

void armSystem() {
  systemArmed = true;
}

void disarmSystem() {
  systemArmed = false;
}

void handleCommand(EthernetClient client, char* cmd, char* param) {
    if (strcmp(cmd, &quot;status&quot;) == 0) {
      Serial.println(&quot;status&quot;);
      sendStatus(client); 
    } else if (strcmp(cmd, &quot;arm&quot;) == 0) {
      armSystem();
      sendStatus(client);
      Serial.println(&quot;arm&quot;);
    } else if (strcmp(cmd, &quot;disarm&quot;) == 0) {
      disarmSystem();
      sendStatus(client);
      Serial.println(&quot;disarm&quot;);
    } else {
      send404(client);
    }  
}

int countSegments(char* str) {
  int p = 0;
  int count = 0;
  while (str[p] != &#39;\0&#39;) {
    if (str[p] == &#39;/&#39;) {
      count++;
    }
    p++;
  }
  // We don&#39;t want to count the / in &#39;HTTP/1.1&#39;
  count--;
  return count;
}

void loop() {
  // listen for incoming clients
  EthernetClient client = server.available();
  if (client) {
    // an http request ends with a blank line
    boolean currentLineIsBlank = true;
    while (client.connected()) {
      if (client.available()) {
        
        char c;
        int bufindex = 0; // reset buffer
        buffer[0] = client.read();
        buffer[1] = client.read();
        bufindex = 2;
        // Read the first line to determin the request page
        while (buffer[bufindex-2] != &#39;\r&#39; &amp;amp;&amp;amp; buffer[bufindex-1] != &#39;\n&#39;) { 
            // read full row and save it in buffer
            c = client.read();
            if (bufindex&amp;lt;STRING_BUFFER_SIZE) {
              buffer[bufindex] = c;
            }
            bufindex++;
        }
        // Clean buffer for next row
        bufindex = 0;
 
        // Parse the query string
        int nSegments = countSegments(buffer);
        char **pathsegments = parse(buffer);
 
        int i = 0;
        for(i=0; i&amp;lt;nSegments; i++) {
          Serial.println(pathsegments[i]);
        }

        if (c == &#39;\n&#39; &amp;amp;&amp;amp; currentLineIsBlank) {
          handleCommand(client, pathsegments[0], pathsegments[1]);
          break;
        }

        if (c == &#39;\n&#39;) {
          currentLineIsBlank = true;
        } else if (c != &#39;\r&#39;) {
          currentLineIsBlank = false;
        }
      }
    }
    // Give the web browser time to receive the data
    delay(1);
    // Close the connection:
    client.stop();
    Serial.println(&quot;Client disonnected&quot;);
  }
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Hetzner LXC Linux Subnet Configuration</title>
   <link href="http://www.jotschi.de/technik/2012/04/17/hetzner-lxc-linux-subnet-configuration.html"/>
   <updated>2012-04-17T23:50:10+00:00</updated>
   <id>http://www.jotschi.de/technik/2012/04/17/hetzner-lxc-linux-subnet-configuration</id>
   <content type="html">&lt;p&gt;This article will explain how to setup the configuration for a hetzner server that will expose &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; guests to the &lt;span class=&quot;caps&quot;&gt;WAN&lt;/span&gt; with a provided subnet ip.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-755&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;IP Summary&lt;/h1&gt;
&lt;p&gt;Host IP: &lt;strong&gt;78.46.xx.98&lt;/strong&gt;&lt;br /&gt;
Host Gateway: &lt;strong&gt;78.46.xx.97&lt;/strong&gt;&lt;br /&gt;
Container IP: &lt;strong&gt;78.46.zz.116&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Host Configuration&lt;/h1&gt;
&lt;p&gt;At first we have to configure the bridge. The the normal settings like gateway and netmask were just copied from the existing eth0 configuration.  Please take a look at &lt;a href=&quot;http://www.jotschi.de/?p=554&quot;&gt;my other post on &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt;&lt;/a&gt; if you want to know how to setup lxc and bridging itself. &lt;br /&gt;
The pointopoint setting is the key to your routing between our host server and our lxc guests. As you can see the pointopoint points to the gateway server.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
### Hetzner Online AG - installimage
# Loopback device:
auto lo
iface lo inet loopback

# device: eth0
#auto  eth0
#iface eth0 inet static
#  address   78.46.xx.98
#  broadcast 78.46.xx.127
#  netmask   255.255.255.224
#  gateway   78.46.xx.97

auto  br0
iface br0 inet static
  bridge_ports eth0
  bridge_fd 0
  address   78.46.xx.98
  broadcast 78.46.xx.127
  netmask   255.255.255.224
  pointopoint 78.46.xx.97
  gateway   78.46.xx.97
  
  # container 1
  up route add -host 78.46.zz.116 dev br0
  # container 2
  up route add -host 78.46.zz.118 dev br0
  # container 3
  up route add -host 78.46.zz.119 dev br0

# default route to access subnet
up route add -net 78.46.xx.96 netmask 255.255.255.224 gw 78.46.xx.97 br0
&lt;/pre&gt;
&lt;p&gt;Don&amp;#8217;t forget to enable routing on your host:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
  echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;h1&gt;&lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; Configuration&lt;/h1&gt;
&lt;p&gt;We need to modify the &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; container specific configuration. Adding the lxc.network.ipv4 will result in lxc to provide the correct routes within the container when it is starting up. Otherwise you have to tweak your routes within your container.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;network&lt;br /&gt;
lxc.network.type = veth&lt;br /&gt;
lxc.network.flags = up&lt;br /&gt;
lxc.network.link = br0&lt;br /&gt;
lxc.network.veth.pair = veth_cms&lt;br /&gt;
lxc.network.ipv4 = 78.46.zz.116/32&lt;br /&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Guest Configuration&lt;/h1&gt;
&lt;p&gt;The &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; container network configuration file (/etc/network/interfaces) need to be modified as well. We have to add the pointopoint setting. The host server will be used as a pointopoint endpoint and gateway.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
auto lo&lt;br /&gt;
iface lo inet loopback&lt;/p&gt;
&lt;p&gt;auto eth0&lt;br /&gt;
iface eth0 inet static&lt;br /&gt;
    address 78.46.zz.116&lt;br /&gt;
    netmask 255.255.255.255&lt;br /&gt;
    pointopoint 78.46.xx.98&lt;br /&gt;
    gateway 78.46.xx.98&lt;br /&gt;
    up route add default gw 78.46.xx.98&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;h1&gt;Routes&lt;/h1&gt;
&lt;p&gt;The container route should look like this once the container is started.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
root@container1:/# route -n&lt;br /&gt;
Kernel IP routing table&lt;br /&gt;
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface&lt;br /&gt;
78.46.xx.98     0.0.0.0         255.255.255.255 UH    0      0        0 eth0&lt;br /&gt;
0.0.0.0         78.46.xx.98     0.0.0.0         UG    0      0        0 eth0&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Your host server root should look like this:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
root@host /# route -n&lt;br /&gt;
Kernel IP routing table&lt;br /&gt;
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface&lt;br /&gt;
78.46.zz.116    0.0.0.0         255.255.255.255 UH    0      0        0 br0&lt;br /&gt;
78.46.zz.118    0.0.0.0         255.255.255.255 UH    0      0        0 br0&lt;br /&gt;
78.46.zz.119    0.0.0.0         255.255.255.255 UH    0      0        0 br0&lt;br /&gt;
78.46.xx.96     78.46.xx.97     255.255.255.224 UG    0      0        0 br0&lt;br /&gt;
78.46.xx.96     0.0.0.0         255.255.255.224 U     0      0        0 br0&lt;br /&gt;
0.0.0.0         78.46.xx.97     0.0.0.0         UG    0      0        0 br0&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;A german tutorial which explains this concept in combination with kvm can be found &lt;a href=&quot;http://wiki.hetzner.de/index.php/KVM_mit_Nutzung_aller_IPs_aus_Subnetz&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>rsync to ftp - Operation not supported (95)</title>
   <link href="http://www.jotschi.de/uncategorized/2012/04/17/rsync-to-ftp-operation-not-supported-95.html"/>
   <updated>2012-04-17T21:58:07+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2012/04/17/rsync-to-ftp-operation-not-supported-95</id>
   <content type="html">&lt;p&gt;If you try to sync some files to an ftp mount you might get the Operation not supported (95) error.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-749&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
 # cd /media/ftpmountpoint/
 # rsync -rav /tmp/somedata .
 rsync: mkstemp &quot;/media/ftpmountpoint/.somefile.ext.FbGJUT&quot; failed: Operation not supported (95)
 sent 526833 bytes  received 119 bytes  1053904.00 bytes/sec
 total size is 526334  speedup is 1.00
 rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1060) [sender=3.0.7]
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
# mkdir -p /var/tmp/rsync
# rsync -rav --temp-dir=/var/tmp/rsync /tmp/somedata .
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Explanation:&lt;/strong&gt;&lt;br /&gt;
The ftp system does not allow creation of temp files. Instead you can direct rsync to create those files locally.&lt;/p&gt;
&lt;p&gt;Mouting ftp sites can be done this way:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
curlftpfs my.host.tdl /media/ftpmountpoint -o user=username:password
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Realtime Webserver Access Monitoring For Linux Users</title>
   <link href="http://www.jotschi.de/uncategorized/2011/10/23/realtime-webserver-access-monitoring-for-linux-users.html"/>
   <updated>2011-10-23T12:53:05+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/10/23/realtime-webserver-access-monitoring-for-linux-users</id>
   <content type="html">&lt;p&gt;For my arduino project i needed to find a way of monitoring webserver requests in realtime. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-713&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;This is how it works:&lt;/h2&gt;
&lt;p&gt;On the server side i start a script that monitors the apache access log. The script just pipes useful lines into ncat to send them to connected client. &lt;a href=&quot;http://nmap.org/ncat/&quot;&gt;ncat&lt;/a&gt; is similar to netcat but it allows multiple connections. ncat is included in the nmap package. You can also use netcat but this would limit you to one client connection.&lt;br /&gt;
The stdbuf command is very important since it changes the output buffering. Otherwise you would receive big chucks of data instead of discrete lines.&lt;/p&gt;
&lt;h2&gt;On the server side:&lt;/h2&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
#!/bin/bash
LOG=/var/log/apache2/blog_access.log
tail -f -n 20 $LOG | stdbuf -oL awk &#39;{print $7 &quot; &quot;  $9}&#39;  | stdbuf -oL  grep &quot;/?p&quot; |  ncat -l 2222 -m 20 -k
&lt;/pre&gt;
&lt;h2&gt;On the client side you need the following script:&lt;/h2&gt;
&lt;p&gt;On the client side a script is used that connects to the ncat server and reads the piped lines. Those lines are then passed to the notify-send command which is a neat small command that displays a notification message on your desktop.&lt;br /&gt;
I don&amp;#8217;t recommend that you open the port 2222 to access it from the internet. Instead you could use openvpn to keep a open connection to your server or use ssh port forward.&lt;/p&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
#!/bin/bash
nc yourwebserver 2222 | while read line  ; do
  echo $line
  notify-send &quot;Blog: $line&quot;
done
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>AVR Dragon Write Arduino Bootloader On Linux To ATMega328p</title>
   <link href="http://www.jotschi.de/uncategorized/2011/10/18/avr-dragon-linux-write-arduino-bootloader.html"/>
   <updated>2011-10-18T22:27:35+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/10/18/avr-dragon-linux-write-arduino-bootloader</id>
   <content type="html">&lt;p&gt;This article will contain a small summary on how to write an arduino bootloader to an &lt;span class=&quot;caps&quot;&gt;AVR&lt;/span&gt; ATMega328p on Debian linux using the &lt;span class=&quot;caps&quot;&gt;AVR&lt;/span&gt; Dragon.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-700&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Get an &lt;span class=&quot;caps&quot;&gt;AVR&lt;/span&gt; Dragon&lt;br /&gt;
I got mine from &lt;a href=&quot;http://www.watterott.com/de/Atmel-AVR-Dragon&quot;&gt;watterott.com&lt;/a&gt;.&lt;/h2&gt;
&lt;h2&gt;Solder a 40pin &lt;span class=&quot;caps&quot;&gt;ZIF&lt;/span&gt; socket to your &lt;span class=&quot;caps&quot;&gt;AVR&lt;/span&gt; Dragon as described &lt;a href=&quot;http://www.youtube.com/watch?v=yJo29VMXt90&quot;&gt;here&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;h2&gt;3. Wire the pins using the following diagram.&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;/images/avr-dragon/pinout_dw.png&quot;&gt;&lt;img src=&quot;/images/avr-dragon/pinout_dw.png&quot; alt=&quot;&quot; title=&quot;pinout_dw&quot; width=&quot;417&quot; height=&quot;365&quot; class=&quot;alignnone size-full wp-image-701&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Provide a external oscillator to your avr chip. Just connect connect pin 9 and 10 (XTAL1,XTAL2) to an 16 MHz crystal. &lt;br /&gt;
&lt;a href=&quot;/images/avr-dragon/Avr-atmega328-pins.png&quot;&gt;&lt;img src=&quot;/images/avr-dragon/Avr-atmega328-pins.png&quot; alt=&quot;&quot; title=&quot;Avr-atmega328-pins&quot; width=&quot;322&quot; height=&quot;207&quot; class=&quot;alignnone size-full wp-image-735&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Each of the two pins of the the quartz crystal should be connected to an 22pF capacitor. The capacitor then connects to &lt;span class=&quot;caps&quot;&gt;GND&lt;/span&gt; of the a avr dragon Ext_Power connector.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/avr-dragon/avrdragon_arduino.jpg&quot;&gt;&lt;img src=&quot;/images/avr-dragon/avrdragon_arduino.jpg&quot; alt=&quot;&quot; title=&quot;avrdragon_arduino&quot; width=&quot;320&quot;  class=&quot;alignnone size-full wp-image-733&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;br/&gt;
&lt;a href=&quot;/images/avr-dragon/avrdragon_arduino-top.jpg&quot;&gt;&lt;img src=&quot;/images/avr-dragon/avrdragon_arduino-top.jpg&quot; alt=&quot;&quot; title=&quot;avrdragon_arduino-top&quot; width=&quot;320&quot;  class=&quot;alignnone size-full wp-image-734&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I got the following error when trying to program the chip when using no external oscillator:&lt;/p&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
$  make atmega328_isp  ISPTOOL=dragon_isp
avrdude  -c dragon_isp -p atmega328p -P usb -b 115200 -e -u -U lock:w:0x3f:m -U efuse:w:0x05:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m
avrdude: jtagmkII_setparm(): bad response to set parameter command: RSP_FAILED
avrdude: jtagmkII_getsync(): ISP activation failed, trying debugWire
avrdude: jtagmkII_setparm(): bad response to set parameter command: RSP_DEBUGWIRE_SYNC_FAILED
avrdude: failed to sync with the AVR Dragon in ISP mode
avrdude: jtagmkII_close(): timeout/error communicating with programmer (status -1)

avrdude done.  Thank you.

make: *** [isp] Error 1
&lt;/pre&gt;
&lt;h2&gt;4. Create the following udev file within /etc/udev/rules.d to enable &lt;span class=&quot;caps&quot;&gt;AVR&lt;/span&gt; Dragon detection and restart your udev (or force a reload).&lt;/h2&gt;
&lt;p&gt;z60_avarice.rules:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
SUBSYSTEM!=&quot;usb_device&quot;, ACTION!=&quot;add&quot;, GOTO=&quot;avarice_end&quot;

# Atmel Corp. JTAG ICE mkII
SYSFS{idVendor}==&quot;03eb&quot;, SYSFS{idProduct}==&quot;2103&quot;, MODE=&quot;660&quot;, GROUP=&quot;dialout&quot;

# Atmel Corp. AVR Dragon
SYSFS{idVendor}==&quot;03eb&quot;, SYSFS{idProduct}==&quot;2107&quot;, MODE=&quot;660&quot;, GROUP=&quot;dialout&quot;

LABEL=&quot;avarice_end&quot;
&lt;/pre&gt;
&lt;p&gt;You can validate your rule by examining the output of the lsusb command:&lt;/p&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
   Bus 007 Device 008: ID 03eb:2107 Atmel Corp. AVR Dragon
&lt;/pre&gt;
&lt;h2&gt;5. Install avrdude&lt;/h2&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
apt-get install avrdude
&lt;/pre&gt;
&lt;h2&gt;6. Get the arduino bootloader and use avrdude to write it&lt;/h2&gt;
&lt;p&gt;Somehow the bootloaders which i found in the Arduino &lt;span class=&quot;caps&quot;&gt;SDK&lt;/span&gt; (0022) (eg. arduino-0022/hardware/arduino/bootloaders/atmega) did not work properly for my Arduino &lt;span class=&quot;caps&quot;&gt;UNO&lt;/span&gt; Board. I could not push sketches to the board when using those bootloaders.&lt;/p&gt;
&lt;p&gt;The optiboot bootloaders on the otherhand worked for me. They can be found here: arduino-0022/hardware/arduino/bootloaders/optiboot.&lt;/p&gt;
&lt;p&gt;You have two options:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;a) Use the build script provided. The buildscript within the optiboot folder is faulty since it contains comments after the fusebit settings. Those comments introduce a whitespace which messes up the avrdude command. You can also get an updated version of &lt;a href=&quot;http://code.google.com/p/optiboot/&quot;&gt;optiboot here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
make atmega328_isp  ISPTOOL=dragon_isp
&lt;/pre&gt;
&lt;p&gt;Possible issues: &lt;br /&gt;
The following error was caused by avrdude since the avr dragon was not directly ready to accept new commands after the fusebits have been set. You can just call the avrdude command manually. Perhaps there is a avrdude setting which fixes this issue.&lt;/p&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
avrdude  -c dragon_isp -p atmega328p -P usb -b 115200 -U flash:w:optiboot_atmega328.hex -U lock:w:0x2f:m
avrdude: usbdev_open(): did not find any USB device &quot;usb&quot;
make: *** [isp] Error 1
&lt;/pre&gt;
&lt;ul&gt;
	&lt;li&gt;b) Call the avrdude command manually:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;
avrdude  -c dragon_isp -p atmega328p -P usb -b 115200 -e -u -U lock:w:0x3f:m -U efuse:w:0x05:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m
avrdude  -c dragon_isp -p atmega328p -P usb -b 115200 -U flash:w:optiboot_atmega328.hex -U lock:w:0x2f:m
&lt;/pre&gt;
&lt;h2&gt;7. Test your arduino chip&lt;/h2&gt;
&lt;p&gt;I just removed the ATMega328p from the dragon and placed it in an arduino uno socket to test it.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Calculating The ModelView Matrix For OpenGL</title>
   <link href="http://www.jotschi.de/uncategorized/2011/10/12/calculating-the-modelview-matrix-for-opengl.html"/>
   <updated>2011-10-12T23:37:10+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/10/12/calculating-the-modelview-matrix-for-opengl</id>
   <content type="html">&lt;p&gt;Sometimes its very useful to create a modelview matrix without modifying the OpenGL matrix stack. Methods that will modify the matrix stack are for example gluLookAt or similar methods.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-697&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I wrote my own method that calculates the modelview matrix for java but i guess it can be easily adapted. Calculating a modelview matrix in this way allows one to pass the generated matrix to a glsl shader using a simple matrix uniform. Using vertex processing in a vertex shader is even the preferred way of dealing with modelview transformations in OpenGL 3.1.&lt;/p&gt;
&lt;p&gt;A full example can be found &lt;a href=&quot;https://github.com/Jotschi/jogl2-example&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;syntax java&quot;&gt;
	public float[] calculateModelViewMatrix(Vector3f eye, Vector3f center,
			Vector3f up) {

		// Create a new matrix that will hold the modelview matrix
		Matrix4fe mv = new Matrix4fe();

		// Set the identity matrix
		mv.setIdentity();

		// Calculate the forward vector
		Vector3f forward = new Vector3f();
		forward.sub(center, eye);
		forward.normalize();

		// Calculate the side vector by calculating the cross product of the
		// forward and up vector
		Vector3f side = new Vector3f();
		side.cross(forward, up);
		side.normalize();

		// Recalculate up
		up.cross(side, forward);

		// Set the matrix fields
		mv.setElement(0, 0, side.getX());
		mv.setElement(0, 1, side.getY());
		mv.setElement(0, 2, side.getZ());

		mv.setElement(1, 0, up.getX());
		mv.setElement(1, 1, up.getY());
		mv.setElement(1, 2, up.getZ());

		mv.setElement(2, 0, -forward.getX());
		mv.setElement(2, 1, -forward.getY());
		mv.setElement(2, 2, -forward.getZ());

		// Negate the eye vector and create a translation matrix
		eye.negate();
		Matrix4f translationMatrix = new Matrix4f();
		translationMatrix.setIdentity();
		translationMatrix.setTranslation(eye);

		// Apply the translation
		mv.mul(translationMatrix);

		return mv.getFloatArray();
	}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>JOGL 2 GLSL Example</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/28/jogl-2-glsl-example.html"/>
   <updated>2011-09-28T20:31:06+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/28/jogl-2-glsl-example</id>
   <content type="html">&lt;p&gt;This example shows how to use &lt;span class=&quot;caps&quot;&gt;GLSL&lt;/span&gt; in combination with &lt;a href=&quot;http://jogamp.org/wiki/index.php/Main_Page&quot;&gt;JOGL2&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-683&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JOGL2GLSLExample.java&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax java&quot;&gt;
package de.jotschi.jogl2.example;

import java.awt.Component;
import java.awt.Dimension;
import java.awt.Frame;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.io.IOException;
import java.io.InputStream;
import java.util.Scanner;

import javax.media.opengl.GL;
import javax.media.opengl.GL2;
import javax.media.opengl.GL2ES1;
import javax.media.opengl.GLAutoDrawable;
import javax.media.opengl.GLCapabilities;
import javax.media.opengl.GLEventListener;
import javax.media.opengl.GLProfile;
import javax.media.opengl.awt.GLCanvas;
import javax.media.opengl.fixedfunc.GLLightingFunc;
import javax.media.opengl.fixedfunc.GLMatrixFunc;
import javax.media.opengl.glu.GLU;

import com.jogamp.common.jvm.JNILibLoaderBase;
import com.jogamp.gluegen.runtime.NativeLibLoader;
import com.jogamp.opengl.util.FPSAnimator;

import demos.common.ClassPathLoader;

/*
 * Simple JOGL 2 - GLSL Example
 */
@SuppressWarnings(&quot;serial&quot;)
public class JOGL2GLSLExample extends Frame implements GLEventListener,
		KeyListener {
	private static final int CANVAS_WIDTH = 640; // Width of the drawable
	private static final int CANVAS_HEIGHT = 480; // Height of the drawable
	private static final int FPS = 60; // Animator&#39;s target frames per second
	float rotateT = 0.0f;
	static GLU glu = new GLU();
	int timeUniform;

	static {
		ClassPathLoader loader = new ClassPathLoader();
		loader.loadLibrary(&quot;gluegen-rt&quot;, true);
		JNILibLoaderBase.setLoadingAction(loader);
		NativeLibLoader.disableLoading();
	}

	// Constructor to create profile, caps, drawable, animator, and initialize
	// Frame
	public JOGL2GLSLExample() {
		// Get the default OpenGL profile that best reflect your running
		// platform.
		GLProfile glp = GLProfile.getDefault();
		// Specifies a set of OpenGL capabilities, based on your profile.
		GLCapabilities caps = new GLCapabilities(glp);
		// Allocate a GLDrawable, based on your OpenGL capabilities.
		GLCanvas canvas = new GLCanvas(caps);
		canvas.setPreferredSize(new Dimension(CANVAS_WIDTH, CANVAS_HEIGHT));
		canvas.addGLEventListener(this);

		// Create a animator that drives canvas&#39; display() at 60 fps.
		final FPSAnimator animator = new FPSAnimator(canvas, FPS);

		addWindowListener(new WindowAdapter() { // For the close button
			@Override
			public void windowClosing(WindowEvent e) {
				// Use a dedicate thread to run the stop() to ensure that the
				// animator stops before program exits.
				new Thread() {
					@Override
					public void run() {
						animator.stop();
						System.exit(0);
					}
				}.start();
			}
		});
		add(canvas);
		pack();
		setTitle(&quot;OpenGL 2 GLSL Test&quot;);
		setVisible(true);
		animator.start(); // Start the animator
	}

	public static void main(String[] args) {
		new JOGL2GLSLExample();
	}

	@Override
	public void init(GLAutoDrawable gLDrawable) {
		GL2 gl = gLDrawable.getGL().getGL2();

		gl.glShadeModel(GLLightingFunc.GL_SMOOTH);
		gl.glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
		gl.glClearDepth(1.0f);
		gl.glEnable(GL.GL_DEPTH_TEST);
		gl.glDepthFunc(GL.GL_LEQUAL);
		gl.glHint(GL2ES1.GL_PERSPECTIVE_CORRECTION_HINT, GL.GL_NICEST);
		((Component) gLDrawable).addKeyListener(this);

		try {
			initShaders(gl);
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	public static String readFromStream(InputStream ins) throws IOException {
		if (ins == null) {
			throw new IOException(&quot;Could not read from stream.&quot;);
		}
		StringBuffer buffer = new StringBuffer();
		Scanner scanner = new Scanner(ins);
		try {
			while (scanner.hasNextLine()) {
				buffer.append(scanner.nextLine() + &quot;\n&quot;);
			}
		} finally {
			scanner.close();
		}

		return buffer.toString();
	}

	public void initShaders(GL2 gl) throws IOException {
		int v = gl.glCreateShader(GL2.GL_VERTEX_SHADER);
		int f = gl.glCreateShader(GL2.GL_FRAGMENT_SHADER);

		String vsrc = readFromStream(JOGL2GLSLExample.class
				.getResourceAsStream(&quot;/demos/data/shaders/Vertex.glsl&quot;));
		gl.glShaderSource(v, 1, new String[] { vsrc }, (int[]) null, 0);
		gl.glCompileShader(v);

		String fsrc = readFromStream(JOGL2GLSLExample.class
				.getResourceAsStream(&quot;/demos/data/shaders/Fragment.glsl&quot;));
		gl.glShaderSource(f, 1, new String[] { fsrc }, (int[]) null, 0);
		gl.glCompileShader(f);

		int shaderprogram = gl.glCreateProgram();
		gl.glAttachShader(shaderprogram, v);
		gl.glAttachShader(shaderprogram, f);
		gl.glLinkProgram(shaderprogram);
		gl.glValidateProgram(shaderprogram);

		gl.glUseProgram(shaderprogram);

		timeUniform = gl.glGetUniformLocation(shaderprogram, &quot;time&quot;);

	}

	@Override
	public void display(GLAutoDrawable gLDrawable) {
		final GL2 gl = gLDrawable.getGL().getGL2();

		gl.glClear(GL.GL_COLOR_BUFFER_BIT);
		gl.glClear(GL.GL_DEPTH_BUFFER_BIT);
		gl.glUniform1f(timeUniform, (float) Math.random());
		gl.glLoadIdentity();
		gl.glTranslatef(0.0f, 0.0f, -5.0f);

		// rotate on the three axis
		gl.glRotatef(rotateT, 1.0f, 0.0f, 0.0f);
		gl.glRotatef(rotateT, 0.0f, 1.0f, 0.0f);
		gl.glRotatef(rotateT, 0.0f, 0.0f, 1.0f);

		// Draw A Quad
		gl.glBegin(GL2.GL_QUADS);
		gl.glColor3f(0.0f, 1.0f, 1.0f); // set the color of the quad
		gl.glVertex3f(-1.0f, 1.0f, 0.0f); // Top Left
		gl.glVertex3f(1.0f, 1.0f, 0.0f); // Top Right
		gl.glVertex3f(1.0f, -1.0f, 0.0f); // Bottom Right
		gl.glVertex3f(-1.0f, -1.0f, 0.0f); // Bottom Left
		// Done Drawing The Quad
		gl.glEnd();

		// increasing rotation for the next iteration
		rotateT += 0.2f;

		try {
			Thread.sleep(100);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
	}

	@Override
	public void reshape(GLAutoDrawable gLDrawable, int x, int y, int width,
			int height) {
		GL2 gl = gLDrawable.getGL().getGL2();
		if (height &amp;lt;= 0) {
			height = 1;
		}
		float h = (float) width / (float) height;
		gl.glMatrixMode(GLMatrixFunc.GL_PROJECTION);
		gl.glLoadIdentity();
		glu.gluPerspective(50.0f, h, 1.0, 1000.0);
		gl.glMatrixMode(GLMatrixFunc.GL_MODELVIEW);
		gl.glLoadIdentity();
	}

	@Override
	public void dispose(GLAutoDrawable drawable) {
		// Hardly used.
	}

	@Override
	public void keyTyped(KeyEvent e) {
		// TODO Auto-generated method stub
	}

	@Override
	public void keyPressed(KeyEvent e) {
		if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {
			exit();
		}
	}

	public void exit() {
		System.exit(0);
	}

	@Override
	public void keyReleased(KeyEvent e) {
		// TODO Auto-generated method stub
	}
}
&lt;/pre&gt;
&lt;p&gt;Just a simple fragment shader that uses the time as a seed to generate a random vec2 and to create a random color.&lt;br /&gt;
&lt;strong&gt;Fragment.glsl&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax  c&quot;&gt;
#version 120

uniform float time;

float rand(vec2 co){
    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453+ time);
}

void main(void)
{
    gl_FragColor = vec4(rand(vec2(1.0,1.0)), rand(vec2(0.0,1.0)), rand(vec2(1.0,0.0)), 1.0);
}
&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Vertex.glsl&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
void main(void)&lt;br /&gt;
{&lt;br /&gt;
    gl_Position = ftransform();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenStreetMap libTinyOSM & GeoConvert lon/lat to UTM</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/27/openstreetmap-libtinyosm-geoconvert-lonlat-to-utm.html"/>
   <updated>2011-09-27T00:21:25+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/27/openstreetmap-libtinyosm-geoconvert-lonlat-to-utm</id>
   <content type="html">&lt;p&gt;Some time ago i wrote a small library in someway similar to the osmParse library. It has a smaller footprint in comparison to the josm library. The sources can be found &lt;a href=&quot;https://github.com/Jotschi/libTinyOSM&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I also migrated a small ruby file to java which contains useful lon/lat to utm conversion methods. These sources can be found &lt;a href=&quot;https://github.com/Jotschi/geoconvert&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-670&quot;&gt;&lt;/a&gt;&lt;br /&gt;
The libTinyOSM contains a small example that shows how both (libTinyOSM and geoconvert) work together to get drawable data from the osm api.&lt;/p&gt;
&lt;p&gt;Here is a screenshot that shows the rendered data:&lt;br /&gt;
&lt;a href=&quot;/images/osm/osmUTMGeoconvert.png&quot;&gt;&lt;img src=&quot;/images/osm/osmUTMGeoconvert.png&quot; alt=&quot;&quot; title=&quot;osmUTMGeoconvert&quot; width=&quot;796&quot; height=&quot;510&quot; class=&quot;alignnone size-full wp-image-671&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenStreetMap osmParser Example</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/27/openstreetmap-osmparser-example.html"/>
   <updated>2011-09-27T00:05:46+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/27/openstreetmap-osmparser-example</id>
   <content type="html">&lt;p&gt;Just a simple OpenStreetMap Example for the &lt;a href=&quot;http://code.google.com/p/osm-parser/&quot;&gt;osmParser Library&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-668&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax java&quot;&gt;
import br.zuq.osm.parser.OSMParser;
import br.zuq.osm.parser.model.OSM;
import br.zuq.osm.parser.model.Way;

public class osmParserTest {

	/**
	 * @param args
	 * @throws Exception
	 */
	public static void main(String[] args) throws Exception {
		String left = &quot;16.35428&quot;;
		String bottom = &quot;48.20161&quot;;
		String right = &quot;16.36806&quot;;
		String top = &quot;48.20747&quot;;
		String url = &quot; http://api.openstreetmap.org/api/0.6/map?bbox=&quot; + left + &quot;,&quot; + bottom + &quot;,&quot; + right
				+ &quot;,&quot; + top;
		System.out.println(url);
		OSM osm = OSMParser.parse(url);
		for (Way way : osm.getWays()) {
			System.out.println(way.getName());
		}

	}

}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>JOGL2 Maven Examples (Linux i586)</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/26/jogl2-maven-example-linux-i586.html"/>
   <updated>2011-09-26T23:56:00+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/26/jogl2-maven-example-linux-i586</id>
   <content type="html">&lt;p&gt;I just uploaded a small maven project &lt;a href=&quot;https://github.com/Jotschi/jogl2-example&quot;&gt;to GitHub&lt;/a&gt; that shows how to work with &lt;a href=&quot;http://maven.apache.org&quot;&gt;Maven&lt;/a&gt; and &lt;a href=&quot;http://www.jogamp.org&quot;&gt;JOGL2&lt;/a&gt;. The example also make usage of the ClassPathLoader mechanism i decribed in &lt;a href=&quot;http://www.jotschi.de/?p=660&quot;&gt;my other post&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-666&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I added the jogl2 libraries by using the system scope since i could not find a maven repository with those libraries. The example currently works only with i586 linux. But i could be easily modified to handle other architectures as well.&lt;/p&gt;
&lt;p&gt;Update: I migrated the nehe jogl examples which i found &lt;a href=&quot;http://www.java-tips.org/other-api-tips/jogl/vertex-buffer-objects-nehe-tutorial-jogl-port-2.html&quot;&gt;here&lt;/a&gt; to make use of jogl2.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/opengl/JOGLQuadExample.png&quot;&gt;&lt;img src=&quot;/images/opengl/JOGLQuadExample.png&quot; alt=&quot;&quot; title=&quot;JOGLQuadExample&quot; width=&quot;271&quot; height=&quot;283&quot; class=&quot;alignnone size-full wp-image-674&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>JOGL2 (jogamp) ClassPathLoader For Native Libraries</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/26/jogl2-jogamp-classpathloader-for-native-libraries.html"/>
   <updated>2011-09-26T23:17:02+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/26/jogl2-jogamp-classpathloader-for-native-libraries</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;br /&gt;
The upcoming RC4 of JOGL2 will support loading of native libraries. I&amp;#8217;ll update this post as soon as i get time to take a look the new loading mechanism.&lt;br /&gt;
&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Usually native libraries are loaded by adding the system property java.library.path to the jvm arguments. Its also possible to change the java.library.path within a static block at runtime as described &lt;a href=&quot;http://fahdshariff.blogspot.com/2011/08/changing-java-library-path-at-runtime.html&quot;&gt;here&lt;/a&gt;. It&amp;#8217;s also possible to dynamically load the native libraries at runtime using the System.load method. I just wrote a small ClassPathLoader class that can be handed over to the JNILibLoaderBase class that is dealing with the loading of libraries. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-660&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The ClassPathLoader will allow extraction of the the native libraries from jars that contain all libraries. For jogl2 these jars are jogl-natives-linux-i586.jar and gluegen-rt-natives-linux-i586.jar for linux-i586.&lt;/p&gt;
&lt;p&gt;This static block can be embedded within your main class. It will disable the default loading mechanism and replace it with the classpath loader. Please note that is required that the native lib jars must be added to the classpath.&lt;/p&gt;
&lt;pre class=&quot;syntax java&quot;&gt;
static {
		ClassPathLoader loader = new ClassPathLoader();
		loader.loadLibrary(&quot;gluegen-rt&quot;, true);
		JNILibLoaderBase.setLoadingAction(loader);
		NativeLibLoader.disableLoading();
	}
&lt;/pre&gt;
&lt;p&gt;Here is the ClassPathLoader itself. No real magic here as well. Please note that the loader currently only works with linux libraries (&lt;strong&gt;.so). Adaption for windows libraries (&lt;/strong&gt;.dll) shouldn&amp;#8217;t be that hard.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped java&quot;&gt;
package de.jotschi.jogl2.example;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;

import com.jogamp.common.jvm.JNILibLoaderBase.LoaderAction;

public class ClassPathLoader implements LoaderAction {

	/**
	 * Loads the given library with the libname from the classpath root
	 */
	public boolean loadLibrary(String libname, boolean ignoreError) {
		String filename = &amp;quot;lib&amp;quot; + libname + &amp;quot;.so&amp;quot;;
		InputStream ins = ClassLoader.getSystemResourceAsStream(filename);
		
		try {
			File tmpFile = writeTmpFile(ins, filename);
			System.load(tmpFile.getAbsolutePath());
			tmpFile.delete();
		} catch (IOException e) {
			e.printStackTrace();
			return false;
		}

		return true;
	}

	/**
	 * Write the content of the inputstream into a tempfile with the given
	 * filename
	 * 
	 * @param ins
	 * @param filename
	 * @throws IOException
	 */
	private File writeTmpFile(InputStream ins, String filename)
			throws IOException {

		File tmpFile = new File(System.getProperty(&amp;quot;java.io.tmpdir&amp;quot;), filename);
		tmpFile.delete();
		FileOutputStream fos = null;
		try {
			fos = new FileOutputStream(tmpFile);

			byte[] buffer = new byte[1024];
			int len;
			while ((len = ins.read(buffer)) != -1) {

				fos.write(buffer, 0, len);
			}
		} finally {
			if (ins != null) {
				ins.close();
			}
			if (fos != null) {
				fos.close();
			}
		}
		return tmpFile;
	}

	public void loadLibrary(String libname, String[] preload,
			boolean preloadIgnoreError) {
		loadLibrary(libname, preloadIgnoreError);
	}

}
&amp;lt;/pre&amp;gt;
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>JavaCPP Examples</title>
   <link href="http://www.jotschi.de/neuronensturm/technik/2011/09/23/javacpp-examples.html"/>
   <updated>2011-09-23T21:10:34+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/technik/2011/09/23/javacpp-examples</id>
   <content type="html">&lt;p&gt;I finally found the time to write post about the javacpp &lt;a href=&quot;https://github.com/Jotschi/javacpp-examples&quot;&gt;examples&lt;/a&gt; i created since i wanted to explore the capabilities of the &lt;a href=&quot;http://code.google.com/p/javacpp/&quot;&gt;JavaCPP library&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-645&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;em&gt;Please note that the examples are only tested under linux and probably won&amp;#8217;t run on windows/mac.&lt;/em&gt;&lt;br /&gt;
The examples can be fetched from my &lt;a href=&quot;https://github.com/Jotschi/javacpp-examples&quot;&gt;github repository&lt;/a&gt;.&lt;br /&gt;
&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;So far i created four different examples. Each for a specific usecase:&lt;br /&gt;
&lt;h1&gt;javacpp-sharedlib-example&lt;/h1&gt;&lt;br /&gt;
This example shows how to use a own cpp shared library with the library.&lt;/p&gt;
&lt;p&gt;The example consists of multiple pieces that finally work together.&lt;/p&gt;
&lt;h3&gt;1. Cube.cpp&lt;/h3&gt;
&lt;p&gt;The shared lib will be created from the Cube cpp class.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#include &quot;Cube.h&quot;

void Cube::setSide(double s) {
	side = s &amp;lt;= 0 ? 1 : s;
}

double Cube::getSide() {
	return side;
}

double Cube::getArea() {
	return 6 * side * side;
}

double Cube::getVolume() {
	return side * side * side;
}
&lt;/pre&gt;
&lt;h3&gt;Cube.h&lt;/h3&gt;

&lt;pre class=&quot;syntax c&quot;&gt;
#ifndef CUBE_H
#define CUBE_H

class Cube {
	private:
		double side;
	public:
		Cube() {};
		~Cube() {};

		// copy constructor
		Cube(class Cube&amp;amp; cube) {
			side = cube.side;
		}

		void setSide(double s);
		double getSide();
		double getArea();
		double getVolume();
};

#endif
&lt;/pre&gt;
&lt;h3&gt;2. JavaCube.java&lt;/h3&gt; 
&lt;p&gt;The JavaCube java class acts as a wrapper/glue that fits between the gap of java and native code. Normally you would here defined your jni hooks which then would be implemented. Since i use JavaCPP this step is radically simplified. The annotations are used to give javacpp all the information it needs to prepare its g++ command that in the final compile step will create the library that can be shipped with the java program.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
package de.jotschi.javacpp.example;
import static com.googlecode.javacpp.Loader.load;

import com.googlecode.javacpp.Pointer;
import com.googlecode.javacpp.annotation.Name;
import com.googlecode.javacpp.annotation.Platform;

@Platform(include = &quot;Cube.h&quot;, link = &quot;Cube&quot;)
public class JavaCube {

	NativeCube cube;
	static {
		load();
	}

	public JavaCube() {
		cube = new NativeCube();
	}

	public void setSide(double s) {
		cube.setSide(s);

	}

	public double getArea() {
		return cube.getArea();
	}

	public double getSide() {
		return cube.getSide();
	}

	public double getVolume() {
		return cube.getVolume();
	}

	@Name(&quot;Cube&quot;)
	public static class NativeCube extends Pointer {

		static {
			load();
		}

		public NativeCube() {
			allocate();
		}

		public NativeCube(Pointer p) {
			super(p);
		}

		public native void setSide(double s);

		// this = new Cube()
		private native void allocate();

		private native double getArea();

		private native double getSide();

		private native double getVolume();

	}
}
&lt;/pre&gt;
&lt;p&gt;Once the java files have been compiled the exec-maven-plugin will be executed which itself executes the makefile that builds the shared library.&lt;/p&gt;
&lt;pre class=&quot;syntax xml&quot;&gt;
	&amp;lt;execution&amp;gt;
		&amp;lt;id&amp;gt;build-sharedlib&amp;lt;/id&amp;gt;
		&amp;lt;phase&amp;gt;process-classes&amp;lt;/phase&amp;gt;
		&amp;lt;goals&amp;gt;
			&amp;lt;goal&amp;gt;exec&amp;lt;/goal&amp;gt;
		&amp;lt;/goals&amp;gt;
		&amp;lt;configuration&amp;gt;
			&amp;lt;executable&amp;gt;make&amp;lt;/executable&amp;gt;
			&amp;lt;commandlineArgs&amp;gt;main&amp;lt;/commandlineArgs&amp;gt;
			&amp;lt;workingDirectory&amp;gt;${basedir}/src/main/jni&amp;lt;/workingDirectory&amp;gt;
		&amp;lt;/configuration&amp;gt;
	&amp;lt;/execution&amp;gt;
&lt;/pre&gt;
&lt;p&gt;This library will be used within the next execution of the exec-maven-plugin. This final execution step will invoke the javacpp builder which generated the jni headers from the java class annotations and it also compiles the jni header interface against the previously created library.&lt;/p&gt;
&lt;pre class=&quot;syntax xml&quot;&gt;
	&amp;lt;execution&amp;gt;
		&amp;lt;id&amp;gt;build-jnilib&amp;lt;/id&amp;gt;
		&amp;lt;phase&amp;gt;process-classes&amp;lt;/phase&amp;gt;
		&amp;lt;goals&amp;gt;
			&amp;lt;goal&amp;gt;exec&amp;lt;/goal&amp;gt;
		&amp;lt;/goals&amp;gt;
		&amp;lt;configuration&amp;gt;
			&amp;lt;executable&amp;gt;java&amp;lt;/executable&amp;gt;
			&amp;lt;commandlineArgs&amp;gt;-jar ../libs/javacpp.jar -Dcompiler.linkpath=${basedir}/target/classes/linux-x86 -Dcompiler.includepath=${basedir}/src/main/jni -classpath target/classes de.jotschi.javacpp.example.JavaCube&amp;lt;/commandlineArgs&amp;gt;
		&amp;lt;/configuration&amp;gt;
	&amp;lt;/execution&amp;gt;
&lt;/pre&gt;
&lt;p&gt;The CubeTest.java Junit tests shows how the created java class that wraps the native class works.&lt;/p&gt;
&lt;h1&gt;javacpp-libc6-example / javacpp-stdlib-example&lt;/h1&gt;
&lt;p&gt;These examples are very similar to the javacpp-sharedlib-example. The libc6 example show how to use JavaCPP with the libc6 library and c code. The stdlib example on the other hand uses the c++ stdlib.&lt;/p&gt;
&lt;h1&gt;javacpp-android-example&lt;/h1&gt;
&lt;p&gt;This example shows how to use a android maven project in combination with JavaCPP. The example shows how to mix java with native code. The java part creates a opengl surface and the native code is used to execute a opengl function that changed the color of the display.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Where words are only half the story..</title>
   <link href="http://www.jotschi.de/fundgrube/2011/09/23/audiobooks-mixed-with-soundtracks.html"/>
   <updated>2011-09-23T02:17:56+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/2011/09/23/audiobooks-mixed-with-soundtracks</id>
   <content type="html">&lt;p&gt;Classic audiobooks combined with ambient chilling trance soundtracks by &lt;a href=&quot;http://en.wikipedia.org/wiki/Paul_Oakenfold&quot;&gt;Paul Oakenfold&lt;/a&gt; became the &lt;a href=&quot;http://en.wikipedia.org/wiki/Urban_Soundtracks&quot;&gt;Urban Soundtracks&lt;/a&gt; which can be found &lt;a href=&quot;http://www.pauloakenfold.com/forum/genera/51868&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-640&quot;&gt;&lt;/a&gt;&lt;br /&gt;
A similar dubstep track by &lt;a href=&quot;http://erwt.blogspot.com/&quot;&gt;erwtenpeller aka Niels Jansen&lt;/a&gt; can be found &lt;a href=&quot;http://soundcloud.com/erwtenpeller/war-of-the-worlds&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>NasaTV HD Linux</title>
   <link href="http://www.jotschi.de/uncategorized/2011/09/03/nasatv-hd-linux.html"/>
   <updated>2011-09-03T16:07:26+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/09/03/nasatv-hd-linux</id>
   <content type="html">&lt;p&gt;I just found a very useful script to download the Nasatv HD stream on linux. The script was written by the user Naito. I found it &lt;a href=&quot;http://forum.nasaspaceflight.com/index.php?topic=19846.990;wap2&quot;&gt;here&lt;/a&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-632&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#!/bin/bash
filename=&quot;NASA-TV-HD.`date +%y%m%d-%s`&quot;

httpurl=&#39;http://liveips.nasa.gov.edgesuite.net/msfc/Wifi.m3u8&#39;
trap &quot;break; echo Finished recording. ; exit 0&quot; SIGINT SIGTERM

echo -n Buffering
#Get initial set of files
for nextfile in $(curl -s $httpurl | grep &#39;.ts&#39;); do
        echo -n .
        curl -s &quot;$nextfile&quot; &amp;gt;&amp;gt; $filename.ts
        lastfile=&quot;$nextfile&quot;
done

echo 100\%

echo Starting continuous recording. Press CTRL-C to quit.
while true; do
        nextfile=$(curl -s $httpurl | grep &#39;.ts&#39; | tail -1)
        if [ &quot;$nextfile&quot; != &quot;$lastfile&quot; ]; then
                curl -s &quot;$nextfile&quot; &amp;gt;&amp;gt; $filename.ts
                lastfile=&quot;$nextfile&quot;
        fi
 #File list updates every 10 seconds, but don&#39;t want to sleep too long and miss an update!
        sleep 7
done
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>JNI via JavaCPP on Android</title>
   <link href="http://www.jotschi.de/uncategorized/2011/08/25/jni-via-javacpp-on-android.html"/>
   <updated>2011-08-25T23:50:55+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/08/25/jni-via-javacpp-on-android</id>
   <content type="html">&lt;p&gt;There are multiple ways to get &lt;span class=&quot;caps&quot;&gt;JNI&lt;/span&gt; working with android. You can of course do it the manual way and create header file and includes in your java classes but thats a lot of work and it might be even prone to errors. &lt;a href=&quot;http://www.koushikdutta.com/2009/01/jni-in-android-and-foreword-of-why-jni.html&quot;&gt;Here is a good post&lt;/a&gt; from Koushik Dutta  that summarizes those bad parts in detail. This post will focus on getting started with JavaCPP and Android.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-624&quot;&gt;&lt;/a&gt;&lt;br /&gt;
There are some approaches to get rid of all those manual steps. There is for example &lt;a href=&quot;https://github.com/twall/jna&quot;&gt;&lt;span class=&quot;caps&quot;&gt;JNA&lt;/span&gt; (Java Native Access)&lt;/a&gt;. &lt;a href=&quot;http://www.ok.ctrl.titech.ac.jp/~saudet/&quot;&gt;Aamuel Audet&lt;/a&gt; the author of JavaCPP wrote a patch for &lt;span class=&quot;caps&quot;&gt;JNA&lt;/span&gt; to support Android. But &lt;span class=&quot;caps&quot;&gt;JNA&lt;/span&gt; has also some &lt;a href=&quot;http://codeanticode.wordpress.com/2010/12/07/jna-on-android/&quot;&gt;problems&lt;/a&gt; and &lt;a href=&quot;https://github.com/twall/jna/blob/master/www/FrequentlyAskedQuestions.md&quot;&gt; drawbacks&lt;/a&gt; which should be noted.&lt;/p&gt;
&lt;p&gt;Another solution is using JavaCPP by Aamuel Audet. This post will describe how to get JavaCPP working with Android.&lt;/p&gt;
&lt;h3&gt;Create an Eclipse Android project&lt;/h3&gt;
&lt;p&gt;Use the wizard and create a new android project with the name NativeTest.&lt;/p&gt;
&lt;h3&gt;Add JavaCPP to the project libs&lt;/h3&gt;
&lt;p&gt;Download the javacpp binary archive and place the javacpp.jar into the /libs folder of your project. Create the folder if it does not exist. Add the javacpp.jar to your buildpath&lt;/p&gt;
&lt;h3&gt;Add JavaCPP example code to your project&lt;/h3&gt;
&lt;p&gt;Replace your default activity class with the content of NativeTestActivity. You need to adapt some package names.&lt;/p&gt;
&lt;p&gt;The example is very simple and was fetched from the JavaCPP tutorial page but i guess it shows really good how to get started with JavaCPP. If the app does not crash you&amp;#8217;ll know for sure that everything is fine.&lt;/p&gt;
&lt;pre class=&quot;syntax java&quot;&gt;
package de.jotschi;

import com.googlecode.javacpp.Loader;
import com.googlecode.javacpp.Pointer;
import com.googlecode.javacpp.PointerPointer;
import com.googlecode.javacpp.annotation.ByRef;
import com.googlecode.javacpp.annotation.Cast;
import com.googlecode.javacpp.annotation.Name;
import com.googlecode.javacpp.annotation.Namespace;
import com.googlecode.javacpp.annotation.Platform;

import android.app.Activity;
import android.os.Bundle;

@Platform(include = &quot;&amp;lt;vector&amp;gt;&quot;)
@Namespace(&quot;std&quot;)
public class NativeTestActivity extends Activity {

	static {
		Loader.load();
	}

	/** Called when the activity is first created. */
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main);

		PointerVector v = new PointerVector(42);
		Pointer p = new Pointer() {
			{
				address = 0xDEADBEEFL;
			}
		};
		v.get(0).put(p);

		PointerVector v2 = new PointerVector().copy(v);
		Pointer p2 = v2.at(0).get();
		System.out.println(v2.size() + &quot;  &quot; + p2);

	}

	@Name(&quot;vector&amp;lt;void*&amp;gt;&quot;)
	public static class PointerVector extends Pointer {
		public PointerVector() {
			allocate();
		}

		public PointerVector(long n) {
			allocate(n);
		}

		public PointerVector(Pointer p) {
			super(p);
		} // this = (vector&amp;lt;void*&amp;gt;*)p

		private native void allocate(); // this = new std::vector&amp;lt;void*&amp;gt;()

		private native void allocate(long n); // this = new
												// std::vector&amp;lt;void*&amp;gt;(n)

		@Name(&quot;operator=&quot;)
		public native @ByRef
		PointerVector copy(@ByRef PointerVector x);

		public native long size();

		public native @Cast(&quot;bool&quot;)
		boolean empty();

		@Name(&quot;operator[]&quot;)
		public native @ByRef
		PointerPointer get(long n);

		public native @ByRef
		PointerPointer at(long n);
	}

}
&lt;/pre&gt;
&lt;h3&gt;Create the native files using JavaCPP&lt;/h3&gt;
&lt;p&gt;Switch into your workspace directory and execute the following command. Please note that you have to change your paths accordingly.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
jotschi@Amilo:~/workspace/NativeTest$ java -jar libs/javacpp.jar -classpath bin/  -d libs/armeabi/ -properties android-arm -Dplatform.root=/opt/ide/android-ndk-r6 -Dcompiler.path=/opt/ide/android-ndk-r6/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-g++  -classpath /opt/ide/android-sdk-linux_x86/platforms/android-10/android.jar de.jotschi.NativeTestActivity
&lt;/pre&gt;
&lt;p&gt;You can also create an external builder task to execute the generation process automatically. This &lt;a href=&quot;http://mobilepearls.com/labs/ndk-builder-in-eclipse/&quot;&gt;post&lt;/a&gt; describes how to setup a builder for the ndk.&lt;/p&gt;
&lt;h3&gt;Execute the example&lt;/h3&gt;
&lt;p&gt;Now you can execute the example on your android device. Please note that enabling &amp;#8216;debug&amp;#8217; within your android manifest will help debugging. LogCat will only print stacktraces if you have enabled that option.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Eclipse CDT Cross Platform Development Within A Chroot Environment</title>
   <link href="http://www.jotschi.de/technik/2011/07/08/eclipse-cdt-cross-platform-development-within-a-chroot-environment.html"/>
   <updated>2011-07-08T18:36:49+00:00</updated>
   <id>http://www.jotschi.de/technik/2011/07/08/eclipse-cdt-cross-platform-development-within-a-chroot-environment</id>
   <content type="html">&lt;p&gt;This post is about how to configure eclipse to work with a chroot environment that is setup for cross compiling against &lt;span class=&quot;caps&quot;&gt;ARM&lt;/span&gt; architecture.&lt;/p&gt;
&lt;p&gt;Please refer to my post &lt;a href=&quot;/?p=594&quot;&gt;Cross Compile Pandaboard PowerVR OpenGL ES2 Example&lt;/a&gt; if you want to know how to setup a chroot environment for cross compiling. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-615&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;1. Install sudo and configure sudo&lt;/h3&gt;
&lt;p&gt;Install sudo:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
apt-get install sudo 
&lt;/pre&gt;
&lt;p&gt;Allow every user that is within the sudo group to execute the chroot command without entering a password by adding the line to /etc/sudoers:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot; title=&quot;/etc/sudoers&quot;&gt;
%sudo   ALL= NOPASSWD: /usr/sbin/chroot
&lt;/pre&gt;
&lt;h3&gt;2. Prepare the project&lt;/h3&gt;
&lt;p&gt;The project must be located within the within the chroot environment. You could use bind mounts to create a mountpoint that connects your workspace project with a folder inside the chroot enviroment. I just placed the project itself inside the chroot environment and created a symlink that points to my workspace. Keep in mind to close your project or eclipse if you move the project files outside of eclipse.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1. Create your &lt;span class=&quot;caps&quot;&gt;CDT&lt;/span&gt; project.&lt;/li&gt;
&lt;li&gt;2. Close the project within eclipse.&lt;/li&gt;
&lt;li&gt;3. Move the project directory from e.g.: ~/workspace/MyProject/ to ~/mychroot/opt/MyProject&lt;/li&gt;
&lt;li&gt;4. Create a symlink inside of ~/workspace with the name &lt;i&gt;MyProject&lt;/i&gt; that points to ~/mychroot/opt/MyProject&lt;br /&gt;
&lt;li&gt;5. Open the project within eclipse&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. Create a external build script&lt;/h3&gt;
&lt;p&gt;This example script (e.g: ~/workspace/MyProject/compile.sh) will execute the bash command inside of the chroot environment which is located at $&lt;span class=&quot;caps&quot;&gt;HOME&lt;/span&gt;/mychroot. The bash command will switch into the project location inside the chroot environment and execute make. Of course you can optimize the script to make it more generic and so on. But for now i&amp;#8217;ll keep it simple.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#!/bin/bash
sudo chroot $HOME/mychroot/  bash -c &#39;cd /opt/MyProject/; make clean; make&#39;
&lt;/pre&gt;
&lt;h3&gt;4. Configure your eclipse cdt project&lt;/h3&gt;
&lt;p&gt;Now we have to change the builder for our project. Since we don&amp;#8217;t want to use the host environment to build the project we need to tell eclipse to use our compile.sh script which we created earlier. Go into &lt;i&gt;project properties &amp;#8594; C/C++ Build &amp;#8594; Builder Settings&lt;/i&gt; and select &lt;strong&gt;External builder&lt;/strong&gt;. Point the Build command to your compile.sh.&lt;/p&gt;
&lt;p&gt;To fix syntax errors within your project you have to add the correct includes of course. Go to &lt;i&gt;project properties &amp;#8594; C/C++ Build &amp;#8594; Setting &amp;#8594; Tool Settings&lt;/i&gt; and add the include directories from your chroot enviroment. If you are using xapt to install cross libraries please note that those files are usually located at &lt;strong&gt;/usr/arm-linux-gnueabi/&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Example for libx11-dev&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
root@NeXuS:/# dpkg -L  libx11-dev-armel-cross 
/.
/usr
/usr/share
/usr/share/doc
/usr/share/doc/libx11-dev-armel-cross
/usr/share/doc/libx11-dev-armel-cross/README
/usr/arm-linux-gnueabi
/usr/arm-linux-gnueabi/include
/usr/arm-linux-gnueabi/include/X11
/usr/arm-linux-gnueabi/include/X11/Xregion.h
/usr/arm-linux-gnueabi/include/X11/Xresource.h
/usr/arm-linux-gnueabi/include/X11/Xlib.h
/usr/arm-linux-gnueabi/include/X11/cursorfont.h
/usr/arm-linux-gnueabi/include/X11/XKBlib.h
/usr/arm-linux-gnueabi/include/X11/Xlibint.h
/usr/arm-linux-gnueabi/include/X11/Xutil.h
/usr/arm-linux-gnueabi/include/X11/XlibConf.h
/usr/arm-linux-gnueabi/include/X11/ImUtil.h
/usr/arm-linux-gnueabi/include/X11/Xlocale.h
/usr/arm-linux-gnueabi/include/X11/Xcms.h
/usr/arm-linux-gnueabi/lib
/usr/arm-linux-gnueabi/lib/pkgconfig
/usr/arm-linux-gnueabi/lib/pkgconfig/x11.pc
/usr/arm-linux-gnueabi/lib/libX11.a
/usr/arm-linux-gnueabi/lib/libX11.so
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Cross Compile Pandaboard PowerVR OpenGL ES2 Example</title>
   <link href="http://www.jotschi.de/uncategorized/2011/07/08/pandaboard-powervr-opengl-es2-example.html"/>
   <updated>2011-07-08T14:12:40+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/07/08/pandaboard-powervr-opengl-es2-example</id>
   <content type="html">&lt;p&gt;This post is about how to cross compile a very simple OpenGL ES2 example for the Pandaboard within a Debian Linux chroot environment.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-594&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What do we need?&lt;/strong&gt;&lt;br /&gt;
&lt;i&gt;&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
&lt;li&gt;Pandaboard running Ubuntu 11 (Natty)&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;x86 (i386) Workstation running Debian&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;&lt;a href=&quot;http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/&quot;&gt;pvr-omap4 orig package&lt;/a&gt; (e.g.: &lt;a href=&quot;http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&quot;&gt;pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&lt;/a&gt;) &lt;/li&gt;&lt;br /&gt;
&lt;li&gt;&lt;a href=&quot;/downloads/PandaboardPowerVROGLES2Example.tgz&quot;&gt;Archive&lt;/a&gt; with OpenGL ES2 example for the Pandaboard&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/i&gt;&lt;/p&gt;
&lt;h2&gt;1. Create a chroot environment&lt;/h2&gt;
&lt;p&gt;At first we need a chroot environment in which we can compile our code against arm architecture.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
# use debootstrap to create a chroot environment
debootstrap --arch=i386 testing rootfs/
# Switch into the chroot environment
chroot rootfs
# Install some basic tools
apt-get install vim less pdebuild-cross 
&lt;/pre&gt;
&lt;h2&gt;2. Update our apt sources&lt;br /&gt;
Add the emdebian repository.&lt;/h2&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
echo &quot;deb http://ftp.at.debian.org/debian/ testing main contrib non-free&quot; &amp;gt; /etc/apt/sources.list
echo &quot;deb http://www.emdebian.org/debian/ testing main&quot; &amp;gt;&amp;gt; /etc/apt/sources.list 
apt-get install emdebian-archive-keyring
apt-get update
&lt;/pre&gt;
&lt;h3&gt;3. Install the crosscompiler tools from emdebian repository&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
apt-get install g++-4.4-arm-linux-gnueabi
apt-get install gcc-4.4-arm-linux-gnueabi
&lt;/pre&gt;
&lt;h3&gt;4. PowerVR libraries and headers&lt;br /&gt;
Download the pvr-omap4 archive which contains a set of libraries for powervr. The files can be found at &lt;a href=&quot;https://launchpad.net/~tiomap-dev&quot;&gt;Launchpad TI Dev&lt;/a&gt;. Those binaries are used to create the omap4 ubuntu packages. I used the pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz archive.&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
# Extract pvr-omap4 archive
cd /opt/
wget http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz
tar xvfz pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz 
&lt;/pre&gt;
&lt;h3&gt;5. Get cross compile dependencies&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
xapt -m -a armel libx11-dev
xapt -m -a armel libdrm-dev
&lt;/pre&gt;
&lt;h3&gt;6. Extract the example and compile&lt;/h3&gt;
&lt;h4&gt;&lt;a href=&quot;/downloads/PandaboardPowerVROGLES2Example.tgz&quot;&gt;Download&lt;/a&gt; the example&lt;/h4&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
cd /opt/
wget http://www.jotschi.de/downloads/PandaboardPowerVROGLES2Example.tgz
tar xvfz PandaboardPowerVROGLES2Example.tgz
&lt;/pre&gt;
&lt;h4&gt;Store Settings&lt;br /&gt;
Contents of /opt/settings.inc&lt;/h4&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#!/bin/bash
export X11ROOT=/usr/arm-linux-gnueabi/
export PVR_OMAP_FILES=/opt/pvr-omap4-1.7.5.2+git20110610+9696932c.2
&lt;/pre&gt;
&lt;h4&gt;Load settings and compile:&lt;/h4&gt;


&lt;pre class=&quot;syntax c&quot;&gt;
cd /opt/OGLES2PowerVRPandaboardExample
# If . does not work use source to include the settings
. /opt/settings.inc
# Invoke the build
make
&lt;/pre&gt;
&lt;h3&gt;Optional for pandaboard cross platform development&lt;/h3&gt;
&lt;p&gt;Now i have a build arm ready binary executable within my chroot environment. To execute it straight from eclipse we have to create another script. The script will transfer our executable (in this case OGLES2HelloTriangle) to the Pandaboard OMAP4 platform and execute it there.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;run.sh:&lt;/i&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
#!/bin/bash
echo &quot;Transfering&quot;
scp ReleaseX11/OGLES2HelloTriangle  root@panda:/opt/

echo &quot;Executing&quot;
ssh root@panda DISPLAY=:0 /opt/OGLES2HelloTriangle
&lt;/pre&gt;
&lt;p&gt;Just create a new C/C++ Application run configuration that uses the following settings:&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
&lt;li&gt;C/C++ Application: /bin/bash&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Program arguments: /home/myuser/workspace/MyProject/run.sh&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Pandaboard OpenGL PowerVR CrossCompile On Debian</title>
   <link href="http://www.jotschi.de/uncategorized/2011/07/07/pandaboard-opengl-powervr-crosscompile-on-debian.html"/>
   <updated>2011-07-07T00:45:28+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/07/07/pandaboard-opengl-powervr-crosscompile-on-debian</id>
   <content type="html">&lt;p&gt;This post is about how to compile the PowerVR &lt;span class=&quot;caps&quot;&gt;SDK&lt;/span&gt; Examples within a Debian Linux Chroot environment. Sometimes you may not want to compile your sources on the target platform because of performance reasons. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-569&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Notes about environment:&lt;/strong&gt;&lt;br /&gt;
&lt;i&gt;&lt;br /&gt;
Debian Chroot Environment was using Debian Testing (Wheezy).&lt;br /&gt;
Pandaboard was running Ubuntu 11 (Natty)&lt;br /&gt;
PowerVR Library versions: 1.7.5.2+git20110610+9696932c.2-1&lt;br /&gt;
&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What do we need?&lt;/strong&gt;&lt;br /&gt;
&lt;i&gt;&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
&lt;li&gt;Pandaboard running Ubuntu 11 (Natty)&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;x86 (i386) Workstation running Debian&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;&lt;a href=&quot;http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/&quot;&gt;pvr-omap4 orig package&lt;/a&gt; (e.g.: &lt;a href=&quot;http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&quot;&gt;pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&lt;/a&gt;) &lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Imagination PowerVR &lt;a href=&quot;http://www.imgtec.com/powervr/insider/sdkdownloads/index.asp&quot;&gt;Khronos OpenGL ES 2.0 &lt;span class=&quot;caps&quot;&gt;SDK&lt;/span&gt;&lt;/a&gt; for Pandaboard&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/i&gt;&lt;/p&gt;
&lt;h2&gt;1. Create a chroot environment&lt;/h2&gt;
&lt;p&gt;At first we need a chroot environment in which we can compile our code against arm architecture. &lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;use debootstrap to create a chroot environment&lt;br /&gt;
debootstrap &amp;#8212;arch=i386 testing rootfs/&lt;/li&gt;
	&lt;li&gt;Switch into the chroot environment&lt;br /&gt;
chroot rootfs&lt;/li&gt;
	&lt;li&gt;Install some basic tools&lt;br /&gt;
apt-get install vim less pdebuild-cross &lt;br /&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;2. Update our apt sources&lt;/h2&gt;
&lt;p&gt;Add the emdebian repository.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
echo &amp;#8220;deb http://ftp.at.debian.org/debian/ testing main contrib non-free&amp;#8221; &amp;gt; /etc/apt/sources.list&lt;br /&gt;
echo &amp;#8220;deb http://www.emdebian.org/debian/ testing main&amp;#8221; &amp;gt;&amp;gt; /etc/apt/sources.list &lt;br /&gt;
apt-get install emdebian-archive-keyring&lt;br /&gt;
apt-get update&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;h3&gt;3. Install the crosscompiler tools from emdebian repository&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
apt-get install g++-4.4-arm-linux-gnueabi
apt-get install gcc-4.4-arm-linux-gnueabi
&lt;/pre&gt;
&lt;h3&gt;4. Prepare the PowerVR &lt;span class=&quot;caps&quot;&gt;SDK&lt;/span&gt;&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
cd /opt/
# Download the powervr sdk and extract it in /opt
tar xfvz SDK_OGLES2_LINUX_ARMV7_2.08.28.0634.tar.gz 
# Replace one parameter that does not work with Debian Linux.
sed -i &#39;s/arm-none-linux/arm-linux/&#39; /opt/SDKPackage_OGLES2/Builds/OGLES2/LinuxARMV7/make_platform.mak  
&lt;/pre&gt;
&lt;h3&gt;5. Get cross compile dependencies&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
xapt -m -a armel libx11-dev
xapt -m -a armel libdrm-dev
&lt;/pre&gt;
&lt;h3&gt;6. Store Settings&lt;/h3&gt;
&lt;p&gt;Contents of /opt/settings.inc&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#!/bin/bash&lt;br /&gt;
export X11BUILD=1&lt;br /&gt;
export &lt;span class=&quot;caps&quot;&gt;PLATFORM&lt;/span&gt;=LinuxARMV7&lt;br /&gt;
export X11ROOT=/usr/include/&lt;br /&gt;
export CROSS_COMPILE=arm-linux-gnueabi-&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;h3&gt;7. Compile example&lt;/h3&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
cd /opt/SDKPackage_OGLES2/TrainingCourse/03_Texturing/OGLES2/Build
# If . does not work use source to include the settings
. /opt/settings.inc
# Invoke the build
make
&lt;/pre&gt;
&lt;h3&gt;8. Problems and issues&lt;h3&gt;&lt;br /&gt;
I transfered the binaries onto my pandaboard after i compiled the sources on my workstation. If i tried to execute them i got the following error:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
eglBindAPI failed (40740). &lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;h3&gt;9. Fixes&lt;/h3&gt;
&lt;p&gt;I assume that the libraries which are included in the sdk are outdated. The libraries can be found here: &lt;strong&gt;SDKPackage_OGLES2/Builds/OGLES2/LinuxARMV7/Lib&lt;/strong&gt;. I replaced them with a set of libraries which can be found at &lt;a href=&quot;https://launchpad.net/~tiomap-dev&quot;&gt;Launchpad TI Dev&lt;/a&gt;. Those binaries are used to create the omap4 ubuntu packages. I used the pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz archive.&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Extract pvr-omap4 archive&lt;br /&gt;
cd /opt/&lt;br /&gt;
wget http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&lt;br /&gt;
tar xvfz pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&lt;/li&gt;
	&lt;li&gt;Replace Libs&lt;br /&gt;
cd /opt/SDKPackage_OGLES2/Builds/OGLES2/LinuxARMV7&lt;br /&gt;
mv Lib/ Lib.bak&lt;br /&gt;
ln -s /opt/pvr-omap4-1.7.5.2+git20110610+9696932c.2/usr/lib/ Lib&lt;br /&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After replacing the libraries and recompiling the examples worked just fine.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Charge Amazon Kindle On Debian Linux</title>
   <link href="http://www.jotschi.de/uncategorized/2011/07/06/charge-amazon-kindle-on-debian-linux.html"/>
   <updated>2011-07-06T10:54:20+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/07/06/charge-amazon-kindle-on-debian-linux</id>
   <content type="html">&lt;p&gt;You have to eject the Amazon Kindle to switch into charging mode:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
 sudo eject /dev/disk/by-label/Kindle
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>LXC (Linux Containers) For Debian Squeeze</title>
   <link href="http://www.jotschi.de/technik/2011/07/04/lxc-linux-containers-for-debian-squeeze.html"/>
   <updated>2011-07-04T21:17:11+00:00</updated>
   <id>http://www.jotschi.de/technik/2011/07/04/lxc-linux-containers-for-debian-squeeze</id>
   <content type="html">&lt;p&gt;Today i migrated my vservers to &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt;. &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; is similar to Linux VServers and OpenVZ but with one big difference. You don&amp;#8217;t need to install a custom/patched Kernel for &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; since the support is included within the Kernel Mainline. As for Debian Linux VServers support will be dropped in future releases. This means &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; is the way to go. Okay enough talking. Lets get to work.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-554&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Setup:&lt;/h2&gt;
&lt;p&gt;1. Install Linux Containers&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get install lxc
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;2. Add cgroup mount point:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
mkdir -p /var/local/cgroup
echo &amp;quot;cgroup  /var/local/cgroup  cgroup  defaults  0  0&amp;quot; &amp;gt;&amp;gt; /etc/fstab
mount -a
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;3. Install bridge utils&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get install bridge-utils
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;4. Convert your eth0 configuration into a br0 bridge configuration:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;The primary network interface&lt;br /&gt;
#auto eth0&lt;br /&gt;
#allow-hotplug eth0&lt;br /&gt;
#iface eth0 inet static&lt;br /&gt;
#address 192.168.10.1&lt;br /&gt;
#netmask 255.255.255.0&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;auto br0&lt;br /&gt;
iface br0 inet static&lt;br /&gt;
   bridge_ports eth0&lt;br /&gt;
   bridge_fd 0&lt;br /&gt;
   address 192.168.10.1&lt;br /&gt;
   netmask 255.255.255.0&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;br /&gt;
Please keep in mind that this change might also affect your firewall settings and/or other connections.&lt;/p&gt;
&lt;p&gt;5. Enable IP forwarding&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;6. Create a new container.&lt;br /&gt;
I used a modified version of the lxc-debian template script from Daniel Lezcano which is included in the &lt;span class=&quot;caps&quot;&gt;LXC&lt;/span&gt; debian package. It can be found here /usr/lib/lxc/templates/lxc-debian. The modfied version can be downloaded &lt;a href=&quot;/downloads/lxc/lxc-debian&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
wget http://www.jotschi.de/downloads/lxc/lxc-debian
chmod +x lxc-debian
./lxc-debian
./lxc-debian squeeze test 2
&lt;/pre&gt;&lt;br /&gt;
Your container with the name test will be installed at /var/lib/lxc/test.&lt;/p&gt;
&lt;p&gt;7. Adapt container network configuration&lt;br /&gt;
For my configuration i had to adapt the resolv.conf and the /etc/network/interfaces file.&lt;br /&gt;
I changed the nameserver to 192.168.10.1 since my nameserver is running of that ip.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
nameserver 192.168.10.1
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;I also adapted the container  /etc/network/interfaces file.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
auto eth0
iface eth0 inet static
    address 192.168.10.26
    netmask 255.255.255.0
    gateway 192.168.10.1
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;You can edit those file outside of your conainer by editing:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
/var/lib/lxc/test/rootfs/etc/network/interfaces
/var/lib/lxc/test/rootfs/etc/resolv.conf
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;8. Start the container&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
lxc-start -n test -d
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;9. Enter the conainer&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
lxc-console -n test
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;The default login is root/root.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;
Use this manual for migrating linux vservers to lxc:&lt;br /&gt;
&lt;a href=&quot;http://schmidi2.blog.com/2010/10/25/migrating-from-vserver-to-lxc/&quot;&gt;migrating-from-vserver-to-lxc&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Pandaboard Audiosetup</title>
   <link href="http://www.jotschi.de/uncategorized/2011/07/01/pandaboard-audiosetup.html"/>
   <updated>2011-07-01T20:47:55+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/07/01/pandaboard-audiosetup</id>
   <content type="html">&lt;p&gt;To get audio  with the pandaboard working all you need is the following commands. This was tested with the ubuntu natty omap image.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-550&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
(all tested as root)
Play:
# config mixers
amixer cset name=&amp;#39;DL1 Mixer Multimedia&amp;#39; 1
amixer cset name=&amp;#39;DL1 Media Playback Volume&amp;#39; 118
amixer cset name=&amp;#39;Sidetone Mixer Playback&amp;#39; 1
amixer cset name=&amp;#39;SDT DL Volume&amp;#39; 120
amixer cset name=&amp;#39;DL1 PDM Switch&amp;#39; 1
amixer cset name=&amp;#39;HS Left Playback&amp;#39; &amp;#39;HS DAC&amp;#39;
amixer cset name=&amp;#39;HS Right Playback&amp;#39; &amp;#39;HS DAC&amp;#39;
amixer cset name=&amp;#39;Headset Playback Volume&amp;#39; 13

# example play command
aplay -Dhw:0,6 -M -f S16_LE -r 44100 -c 2 test.wav

Record:
# config mixers
amixer cset name=&amp;#39;AMIC_UL PDM Switch&amp;#39; 1
amixer cset name=&amp;#39;MUX_UL00&amp;#39; &amp;#39;AMic0&amp;#39;
amixer cset name=&amp;#39;MUX_UL01&amp;#39; &amp;#39;AMic1&amp;#39;
amixer cset name=&amp;#39;Analog Left Capture Route&amp;#39; &amp;#39;Headset Mic&amp;#39;
amixer cset name=&amp;#39;Analog Right Capture Route&amp;#39; &amp;#39;Headset Mic&amp;#39;
amixer cset name=&amp;#39;Capture Preamplifier Volume&amp;#39; 2
amixer cset name=&amp;#39;Capture Volume&amp;#39; 4

# example record command:
arecord -D plughw:0,0 -d 5 -f S16_LE -c 2 -r 48000 record.wav
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Pollin 74er IC Set Contents</title>
   <link href="http://www.jotschi.de/uncategorized/2011/05/21/polling-74er-ic-set-contents.html"/>
   <updated>2011-05-21T16:13:13+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/05/21/polling-74er-ic-set-contents</id>
   <content type="html">&lt;p&gt;ICs within the pollin.de 74er set:&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-545&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;SN74AS373N &amp;#8211; &lt;span class=&quot;caps&quot;&gt;OCTAL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;TRANSPARENT&lt;/span&gt; D-&lt;span class=&quot;caps&quot;&gt;TYPE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;LATCHES&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;OUTPUTS&lt;/span&gt;&lt;br /&gt;
SN74S163N &amp;#8211; &lt;span class=&quot;caps&quot;&gt;SYNCHRONOUS&lt;/span&gt; 4-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;COUNTERS&lt;/span&gt;&lt;br /&gt;
SN7497N &amp;#8211; &lt;span class=&quot;caps&quot;&gt;SYNCHRONOUS&lt;/span&gt; 6-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BINARY&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;RATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;MULTIPLIERS&lt;/span&gt;&lt;br /&gt;
SN74AS1000AN &amp;#8211; &lt;span class=&quot;caps&quot;&gt;QUADRUPLE&lt;/span&gt; 2-&lt;span class=&quot;caps&quot;&gt;INPUT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;POSITIVE&lt;/span&gt;-&lt;span class=&quot;caps&quot;&gt;NAND&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUFFERS&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;DRIVERS&lt;/span&gt;&lt;br /&gt;
SN74AS873NT &amp;#8211; &lt;span class=&quot;caps&quot;&gt;DUAL&lt;/span&gt; 4-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; D-&lt;span class=&quot;caps&quot;&gt;TYPE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;LATCHES&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;OUTPUTS&lt;/span&gt;&lt;br /&gt;
74F641N &amp;#8211; 16-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;REGISTERED&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;TRANSCEIVERS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;OUTPUTS&lt;/span&gt;&lt;br /&gt;
M74HCT541B1 &amp;#8211; &lt;span class=&quot;caps&quot;&gt;OCTAL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUFFER&lt;/span&gt; (3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt;)&lt;br /&gt;
MM74C151N &amp;#8211;  &lt;span class=&quot;caps&quot;&gt;PARALLEL&lt;/span&gt;-&lt;span class=&quot;caps&quot;&gt;LOAD&lt;/span&gt; 8-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;REGISTERS&lt;/span&gt; &lt;br /&gt;
SN74ALS165N &amp;#8211; SN74ALS165N &amp;#8211; &lt;span class=&quot;caps&quot;&gt;PARALLEL&lt;/span&gt;-&lt;span class=&quot;caps&quot;&gt;LOAD&lt;/span&gt; 8-&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;REGISTERS&lt;/span&gt;&lt;br /&gt;
MC74ACT374N &amp;#8211; &lt;span class=&quot;caps&quot;&gt;OCTAL&lt;/span&gt; D-&lt;span class=&quot;caps&quot;&gt;TYPE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FLIP&lt;/span&gt;-&lt;span class=&quot;caps&quot;&gt;FLOP&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;OUTPUTS&lt;/span&gt; &lt;br /&gt;
DN74LS163AN &amp;#8211; 3-&lt;span class=&quot;caps&quot;&gt;LINE&lt;/span&gt; TO 8-&lt;span class=&quot;caps&quot;&gt;LINE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;DECORDERS&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;DEMULTIPLEXERS&lt;/span&gt;&lt;br /&gt;
SN74283N &amp;#8211; 4 &lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BINARY&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FULL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;ADDERS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FAST&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;CARRY&lt;/span&gt;&lt;br /&gt;
SN74HCT574N &amp;#8211; Octal Edge-Triggered D-Type Flip-Flops With 3-State Outputs&lt;br /&gt;
M74HCT244B1 &amp;#8211; &lt;span class=&quot;caps&quot;&gt;OCTAL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUFFER&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;NONINVERTED&lt;/span&gt; 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;OUTPUTS&lt;/span&gt;&lt;br /&gt;
74ACT574PC &amp;#8211; Octal D-Type Flip-Flop with 3-&lt;span class=&quot;caps&quot;&gt;STATE&lt;/span&gt; Output&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Java QuadTree Implementation</title>
   <link href="http://www.jotschi.de/uncategorized/2011/05/07/java-quadtree-implementation.html"/>
   <updated>2011-05-07T22:45:49+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/05/07/java-quadtree-implementation</id>
   <content type="html">&lt;p&gt;This is a simple QuadTree implementation in Java.&lt;/p&gt;
&lt;p&gt;The code can be found at Github: &lt;br /&gt;
&lt;a href=&quot;https://github.com/Jotschi/JavaQuadTree&quot;&gt;https://github.com/Jotschi/JavaQuadTree&lt;/a&gt;&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-530&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Example:&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
PointQuadTree&lt;String&gt; tree = new PointQuadTree&lt;String&gt;(new Point(0, 0),&lt;br /&gt;
				new Dimension(600, 600));&lt;br /&gt;
		tree.insert(1, 3, &amp;#8220;1&amp;#8221;);&lt;br /&gt;
		tree.insert(11, 32, &amp;#8220;2&amp;#8221;);&lt;br /&gt;
		tree.insert(11, 52, &amp;#8220;3&amp;#8221;);&lt;br /&gt;
		tree.insert(454, 555, &amp;#8220;4&amp;#8221;);&lt;br /&gt;
		tree.insert(353, 555, &amp;#8220;5&amp;#8221;);&lt;br /&gt;
		tree.insert(552, 555, &amp;#8220;6&amp;#8221;);&lt;br /&gt;
		tree.insert(551, 555, &amp;#8220;7&amp;#8221;);&lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
This code shows how to create a new QuadTree that holds Strings. At the creation of the QuadTree the start coordinates and the bounds of the tree must be specified.&lt;/p&gt;
&lt;p&gt;RenderPointQuadTree.java is an executable application that shows how to work with the QuadTree data. Leftclick will insert a new point. Rightclick will highlight the elements within the identified cell/node. &lt;br /&gt;
&lt;a href=&quot;/images/quadtree/quadtree.png&quot;&gt;&lt;img src=&quot;/images/quadtree/quadtree.png&quot; alt=&quot;RenderQuadTree&quot; title=&quot;quadtree&quot; width=&quot;590&quot; height=&quot;570&quot; class=&quot;alignnone size-full wp-image-531&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;RenderSpatialQuadTree.java is an executable application that show how to use the spatial QuadTree implementation. In this case the quadtree will be used to store some images. The QuadTree has a specific dimension (512&amp;#215;512 in this case). We just add a buch of different images which have different sizes. The tree will try to use the free space as efficent as possible. One usecase for this might be the automatic generation of tilemaps or &lt;a href=&quot;http://www.silverspaceship.com/src/svt/&quot;&gt;Sparse Virtual Textures&lt;/a&gt;.&lt;br /&gt;
&lt;a href=&quot;/images/quadtree/spatialquadtree.jpg&quot;&gt;&lt;img src=&quot;/images/quadtree/spatialquadtree.jpg&quot; alt=&quot;&quot; title=&quot;spatialquadtree&quot; width=&quot;598&quot; height=&quot;599&quot; class=&quot;alignnone size-full wp-image-537&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Creating an uberjar webapp using jetty and maven</title>
   <link href="http://www.jotschi.de/uncategorized/2011/04/23/creating-an-uberjar-webapp-using-jetty-and-maven.html"/>
   <updated>2011-04-23T17:51:59+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2011/04/23/creating-an-uberjar-webapp-using-jetty-and-maven</id>
   <content type="html">&lt;p&gt;This post is about creating an uberjar webapp. uberjar webapps are executable jar archives that start a server that serves the webapp with one single command. Everything is contained within a single jar.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-519&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Insipred by &lt;a href=&quot;http://open.bekk.no/2011/01/14/embedded-jetty-7-webapp-executable-with-maven/&quot;&gt;this blogpost&lt;/a&gt; ( &lt;a href=&quot;https://github.com/bekkopen/jetty-pkg&quot;&gt;Code&lt;/a&gt; ) i created a similar example using maven which you can find here: &lt;a href=&quot;https://github.com/Jotschi/Uberjar-Dummy-Webapp&quot;&gt;Example Sources&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It contains a uberjar webapp that will be served using jetty. The webapp itself just contains a jersey &lt;span class=&quot;caps&quot;&gt;REST&lt;/span&gt; resource. So this project also demonstrates how to get started with jersey.&lt;/p&gt;
&lt;p&gt;You can import all projects using the m2eclipse plugins ( http://m2eclipse.sonatype.org/installing-m2eclipse.html) &lt;br /&gt;
Note: You will need &amp;#8216;m2eclipse Extras&amp;#8217; if you want to deploy the webapp within your eclipse &lt;span class=&quot;caps&quot;&gt;IDE&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;You can package the project using the following command:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
mvn clean package
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;You can execute the following command to start the uberjar dummy server:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
java -jar uberjardummy-server/target/uber-uberjardummy-server-0.0.1-SNAPSHOT.jar
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Memory Allocation Test </title>
   <link href="http://www.jotschi.de/uncategorized/2010/11/11/memory-allocation-test.html"/>
   <updated>2010-11-11T22:08:18+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/11/11/memory-allocation-test</id>
   <content type="html">&lt;p&gt;If you want to test is your vserver/openvz/lxc memory quota settings are working you can just use the following memory allocation test to check it out. &lt;br /&gt;
You have to write fake data into the allocated memory area to trigger the memory checks of the kernel/virtualisation tool of your choice.&lt;/p&gt;
&lt;p&gt;
&lt;p&gt;Memory overcommit is a Linux kernel feature that lets applications allocate more memory than is actually available. The idea behind this feature is that some applications allocate large amounts of memory just in case, but never actually use it. Thus, memory overcommit allows you to run more applications than actually fit in your memory, provided the applications don&amp;#8217;t actually use the memory they have allocated. If they do, then the kernel terminates the application.&lt;/p&gt;
&lt;/p&gt;
&lt;p&gt; &lt;a href=&quot;http://www.Jotschi.de/?p=512#more-512&quot; class=&quot;more-link&quot;&gt;&lt;span class=&quot;read-on&quot;&gt;read on&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;

main() {

   int i;
   for(i=0;i&amp;lt;9000;i++) {
        int *ptr = malloc(i*1024*1024);
        if (ptr == NULL) {
          printf (&amp;quot;Soft memory allocation failed for %i MB\n&amp;quot;,i );
          break;
        } else {
            free(ptr);
            ptr = NULL;
        }
   }


   for(i=0;i&amp;lt;9000;i++) { 

        int *ptr = malloc(i*1024*1024);
        if (ptr == NULL) {
          printf (&amp;quot;Memory allocation failed for %i MB\n&amp;quot;,i );
          break;
        } else {
            memset(ptr, 0, i*1024*1024);
            printf(&amp;quot;Wrote %i MB to memory\n&amp;quot;, i);
            //usleep(1000);
            free(ptr);  
            ptr = NULL;
        }

   }
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>XServer within VServer Linux</title>
   <link href="http://www.jotschi.de/uncategorized/2010/10/15/xserver-within-vserver-linux.html"/>
   <updated>2010-10-15T18:11:50+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/10/15/xserver-within-vserver-linux</id>
   <content type="html">&lt;p&gt;There multiple ways to use X within a vserver. The most common would be a remote connected x session. If you just want to connect to your vserver guest and join a remote session you just need to install the desktop manager that you want to use and additionally you will need a remote control software. I prefer &lt;a href=&quot;http://www.nomachine.com/select-package.php?os=linux&amp;id=1&quot;&gt;Nomachine FreeNX&lt;/a&gt; because it is very fast and versatile.&lt;/p&gt;
&lt;p&gt;The other way to use a X server within a vserver is the non remote version with direct usage of video hardware of the host computer.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-505&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1. Set capabilities for the vserver guest. (Perhaps only SYS_RAWIO is needed)&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
echo -e &amp;#8220;SYS_RAWIO\nIPC_LOCK\nIPC_OWNER\nSYS_RAWIO\nSYS_ADMIN\nNET_ADMIN\nNET_RAW\nMKNOD&amp;#8221; &amp;gt; /etc/vservers/desktop-guest/bcapabilities&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;2. Create needed device nodes for the guest by coping nodes in the host system&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
cp -ax /dev/tty7 /var/lib/vservers/dev/&lt;br /&gt;
cd /var/lib/vservers/desktop-guest/dev/&lt;br /&gt;
ln -s tty7 tty0&lt;br /&gt;
cp -ax /dev/nvidiactl /var/lib/vservers/desktop-guest/dev/&lt;br /&gt;
cp -ax /dev/nvidia0 /var/lib/vservers/desktop-guest/dev/&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;3. Install the &lt;span class=&quot;caps&quot;&gt;NVIDIA&lt;/span&gt; drivers within the guest without the kernel module. The driver must be installed within the host system as well in order to provide the loaded kernel module. &lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
./&lt;span class=&quot;caps&quot;&gt;NVIDIA&lt;/span&gt;-Linux-x86-256.53.run &amp;#8212;no-kernel-module&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;4. Mount sysfs within the guest:&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
mount -t sysfs /sys /sys&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;5. Finally you can start the xserver within the guest:&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
startx &amp;#8212; :0 vt7 -br -novtswitch -sharevts -dpi 100 -nolisten tcp&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;This was tested using:&lt;br /&gt;
Host:  Debian lenny&lt;br /&gt;
Guest: Debian squeeze&lt;/p&gt;
&lt;p&gt;Additional hints:&lt;/p&gt;
&lt;p&gt;If you want audio support just install alsa within the guest:&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;apt-get install alsa&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;And copy the /dev/snd directory from the host to the guest:&lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
mv /var/lib/vservers/desktop-guest/dev /tmp&lt;br /&gt;
cp -rax /dev/snd /var/lib/vservers/desktop-guest/dev/&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Summarize memory consumption for linux processes</title>
   <link href="http://www.jotschi.de/uncategorized/2010/09/08/summarize-memory-consumption-for-linux-processes.html"/>
   <updated>2010-09-08T12:44:36+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/09/08/summarize-memory-consumption-for-linux-processes</id>
   <content type="html">&lt;p&gt;This script will summarize the memory consuption for a given pattern. It will filter all process args by this pattern and summarize the memory consumption.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
#!/bin/bash

a=0
sum=0
for entry in `ps -eo rss,args | grep $1 | sed &amp;quot;s/\s.*//&amp;quot;` ; do
a=$(($a+1));
sum=$(($sum+$entry));
done
#echo $a;
echo &amp;quot;Found: $a processes - Memory Usage: $sum - $(($sum/1024))&amp;quot;
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Aloha Editor Wordpress Plugin</title>
   <link href="http://www.jotschi.de/uncategorized/2010/09/01/aloha-editor-wordpress-plugin.html"/>
   <updated>2010-09-01T22:42:45+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/09/01/aloha-editor-wordpress-plugin</id>
   <content type="html">&lt;h2&gt;About:&lt;/h2&gt;
&lt;p&gt;This is a Wordpress Plugin which enables editing of posts by the usage of &lt;a href=&quot;http://www.aloha-editor.org/&quot;&gt;Aloha Editor&lt;/a&gt;.&lt;br&gt;&lt;/p&gt;&lt;p&gt;This Project was discontinued. It was merged with the Front-End Editor Wordpress Plugin. &lt;/p&gt;&lt;p&gt;Please checkout&amp;nbsp;&lt;span class=&quot;Apple-style-span&quot; style=&quot;line-height: normal; &quot;&gt;&lt;a href=&quot;http://scribu.net/wordpress/front-end-editor/fee-2-1.html&quot;&gt;http://scribu.net/wordpress/front-end-editor/fee-2-1.html&lt;/a&gt;&amp;nbsp;for version 2.1 that includes the aloha editor.&lt;/span&gt;&lt;/p&gt;&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
&lt;h2&gt;Development:&lt;/h2&gt;
&lt;p&gt;You can take a look at the old code at&amp;nbsp;&lt;a href=&quot;http://github.com/Jotschi/Aloha-Editor-Wordpress-Plugin&quot;&gt;this page&lt;/a&gt;.&lt;br&gt;
&lt;br&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Howto generate sambaNTPassword LDAP Attribute</title>
   <link href="http://www.jotschi.de/uncategorized/2010/08/10/howto-generate-sambantpassword-ldap-attribute.html"/>
   <updated>2010-08-10T10:22:22+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/08/10/howto-generate-sambantpassword-ldap-attribute</id>
   <content type="html">&lt;p&gt;To generate the sambaNTPassword &lt;span class=&quot;caps&quot;&gt;LDAP&lt;/span&gt; Attribute you can use the following php snipped.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-491&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
$password=&amp;#8220;finger&amp;#8221;;&lt;br /&gt;
echo strtoupper(bin2hex(mhash(MHASH_MD4, iconv(&amp;#8220;&lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8&amp;#8221;,&amp;#8220;&lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-16LE&amp;#8221;,$password))));&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Returns: 212DB2D2EA55E7973591301C028F7773&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Skype Crash Debian Testing AMD64 </title>
   <link href="http://www.jotschi.de/uncategorized/2010/08/05/skype-crash-debian-testing-amd64.html"/>
   <updated>2010-08-05T09:50:57+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/08/05/skype-crash-debian-testing-amd64</id>
   <content type="html">&lt;p&gt;Skype is crashing on debian testing in different situations with the following error message:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
Inconsistency detected by ld.so: dl-open.c: 611: _dl_open: Assertion `_dl_debug_initialize (0, args.nsid)-&amp;gt;r_state == RT_CONSISTENT&amp;#39; failed! 
&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;: Just delete /usr/lib32/libpulse* which is shipped within the ia32-libs package.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Flightgear Logitech Momo Wheel/Pedals</title>
   <link href="http://www.jotschi.de/uncategorized/2010/07/12/flightgear-logitech-momo-wheelpedals.html"/>
   <updated>2010-07-12T20:48:47+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2010/07/12/flightgear-logitech-momo-wheelpedals</id>
   <content type="html">&lt;p&gt;To use my Momo Racing Wheel Pedals as rudder control i just had to change the following files.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-486&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;i&gt;joysticks.xml:&lt;/i&gt;&lt;/p&gt;
&lt;pre lang=&quot;xml&quot;&gt;
&amp;lt;PropertyList&amp;gt;
&amp;lt;js-named include=&quot;Input/Joysticks/Logitech/extreme-3d-pro.xml&quot; /&amp;gt;
&amp;lt;js n=&quot;1&quot; include=&quot;Input/Joysticks/Logitech/extreme-3d-pro.xml&quot; /&amp;gt;
&amp;lt;js-named include=&quot;Input/momo.xml&quot; /&amp;gt;
&amp;lt;js n=&quot;0&quot; include=&quot;Input/momo.xml&quot; /&amp;gt;
&amp;lt;/PropertyList&amp;gt;
&lt;/pre&gt;
&lt;p&gt;As you can see use the extreme-3d-pro. Remove the &amp;#8220;/controls/flight/rudder&amp;#8221; axis setting from the extreme 3d pro file if you want to disable the rudder control by the joystick. The &amp;#8216;n&amp;#8217; parameter defined the number of the controler device. If you attached your joystick first and your momo afterwards than your setting whould be 1,0.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;momo.xml:&lt;/i&gt;&lt;/p&gt;
&lt;pre lang=&quot;xml&quot;&gt;
&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;PropertyList&amp;gt;
 &amp;lt;name&amp;gt;default&amp;lt;/name&amp;gt;
 &amp;lt;axis n=&quot;1&quot;&amp;gt;
  &amp;lt;desc&amp;gt;Elevator&amp;lt;/desc&amp;gt;
  &amp;lt;binding&amp;gt;
   &amp;lt;command&amp;gt;property-scale&amp;lt;/command&amp;gt;
   &amp;lt;property&amp;gt;/controls/flight/rudder&amp;lt;/property&amp;gt;
 &amp;lt;factor type=&quot;double&quot;&amp;gt;-1.0&amp;lt;/factor&amp;gt; 
  &amp;lt;/binding&amp;gt;
 &amp;lt;/axis&amp;gt;
&amp;lt;/PropertyList&amp;gt;
&lt;/pre&gt;
&lt;p&gt;I had change the axis settings for the momo wheel with my Logitech Profiler. Go to Options, Global Settings and activate &amp;#8216;Combine pedals&amp;#8217;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>FreeNX 3.4 and Debian Testing - Stuck Keys</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2010/02/27/freenx-3-4-and-debian-testing-stuck-keys.html"/>
   <updated>2010-02-27T18:00:26+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2010/02/27/freenx-3-4-and-debian-testing-stuck-keys</id>
   <content type="html">&lt;p&gt;When using FreeNX 3.4 as server version i stumbled uppon an odd problem. My control (ctrl right) and alt gr key got stuck. By using xev i found out that the keyup event was never triggered. If i disabled the powerful freenx compression the event was handled correctly.&lt;/p&gt;
&lt;p&gt;The solution was rather simple. I just reverted to 3.3 and everything seems to work now properly.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-482&quot;&gt;&lt;/a&gt;&lt;br /&gt;
You can download the previous version here:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
wget http://64.34.161.181/download/3.3.0/Linux/nxnode_3.3.0-17_i386.deb
wget http://64.34.161.181/download/3.3.0/Linux/nxclient_3.3.0-6_i386.deb
wget http://64.34.161.181/download/3.3.0/Linux/FE/nxserver_3.3.0-15_i386.deb
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Debian Kernel 2.6.30-1 and JVM Socket Issues</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2010/01/30/debian-kernel-2-6-30-1-and-jvm-socket-issues.html"/>
   <updated>2010-01-30T11:46:58+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2010/01/30/debian-kernel-2-6-30-1-and-jvm-socket-issues</id>
   <content type="html">&lt;p&gt;Due to an update of my linux kernel i stumbled uppon a strange issue. I could not get sockets working properly. After some googling i figured out that it had to be a network configuration issue.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-480&quot;&gt;&lt;/a&gt;&lt;br /&gt;
By default (Debian Testing) sockets bind only to ipv6.&lt;/p&gt;
&lt;p&gt;The socket binding behaviour can be configured within:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
cat /etc/sysctl.d/bindv6only.conf
Set the parameter from net.ipv6.bindv6only=1 to net.ipv6.bindv6only=0
&lt;/pre&gt;&lt;p&gt;To test the setting you can also use the following command:&lt;br /&gt;
&lt;blockquote&gt;sysctl -w net.ipv6.bindv6only=0&lt;/blockquote&gt;&lt;/p&gt;
&lt;p&gt;The error messages might be:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
Caused by: java.net.SocketException: Network is unreachable
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:525)
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Or for debugging java:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)
ERROR: transport error 202: connect failed: Connection refused
ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)
JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:690]
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL Tesselation Techniques Comparison </title>
   <link href="http://www.jotschi.de/technik/gfx/2009/12/16/opengl-tesselation-techniques-comparison.html"/>
   <updated>2009-12-16T01:22:24+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2009/12/16/opengl-tesselation-techniques-comparison</id>
   <content type="html">&lt;p&gt;There is a veraity of different tesselation techniques you can use within opengl. This post should give a overview over the different techniques currently available:&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-471&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/Bcalc8UoJzo?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;p&gt;&lt;br/&gt;
&lt;strong&gt;1. External Library:&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;http://www.cs.cmu.edu/~quake/triangle.html&quot;&gt;Triangle&lt;/a&gt;&lt;/p&gt;
&lt;li&gt;Pro&amp;#8217;s: More flexibel usage&lt;/li&gt;
&lt;li&gt;Con&amp;#8217;s: Doesn&amp;#8217;t use &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; computing capabilities&lt;/li&gt;
&lt;p&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Static pipeline functionality provided by &lt;span class=&quot;caps&quot;&gt;GLU&lt;/span&gt; the GLUtesselator:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/?p=466&quot;&gt;OpenGL &lt;span class=&quot;caps&quot;&gt;GLU&lt;/span&gt; Tesselation Method Without DisplayLists&lt;/a&gt;&lt;/p&gt;
&lt;li&gt;Pro&amp;#8217;s: Simple to use&lt;/li&gt;
&lt;li&gt;Con&amp;#8217;s: Doesn&amp;#8217;t use &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; computing capabilities&lt;/li&gt;
&lt;p&gt;&lt;br/&gt;
&lt;strong&gt;3. Using the GL_AMD_vertex_shader_tessellator extension from &lt;span class=&quot;caps&quot;&gt;AMD&lt;/span&gt; / &lt;span class=&quot;caps&quot;&gt;ATI&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.opengl.org/registry/specs/AMD/vertex_shader_tessellator.txt&quot;&gt;Spec: vertex_shader_tessellator&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/?p=460&quot;&gt;OpenGL &lt;span class=&quot;caps&quot;&gt;AMD&lt;/span&gt; Tesselation Example (CatmullCark SubDivision) &amp;#8211; Linux&lt;/a&gt;&lt;/p&gt;
&lt;li&gt;Pro&amp;#8217;s: Does use &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; computing features&lt;/li&gt;
&lt;li&gt;Con&amp;#8217;s: Does not work with Nvidia cards at all.&lt;/li&gt;
&lt;p&gt;&lt;br/&gt;
&lt;strong&gt;4. Using OpenGL 3.2 Geometry Shader Extensions:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.opengl.org/registry/specs/EXT/geometry_shader4.txt&quot;&gt;Spec: geometry_shader4&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://wiki.delphigl.com/index.php/shader_tesselation&quot;&gt;http://wiki.delphigl.com/index.php/shader_tesselation&lt;/a&gt;&lt;/p&gt;
&lt;li&gt;Pro&amp;#8217;s: Does use &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; computing features&lt;/li&gt;
&lt;li&gt;Con&amp;#8217;s: &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; must Shader Model 4&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL GLU Tesselation Method Without DisplayLists</title>
   <link href="http://www.jotschi.de/technik/gfx/2009/12/15/opengl-glu-tesselation-method-without-displaylists.html"/>
   <updated>2009-12-15T23:23:32+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2009/12/15/opengl-glu-tesselation-method-without-displaylists</id>
   <content type="html">&lt;p&gt;Due to the deprecation of &amp;#8216;DisplayLists&amp;#8217; within OpenGL 3.2 i wanted to store my tessellated mesh within a structure which i could use later on. Therefor it is possible to use the GLU_TESS_VERTEX_DATA, GLU_TESS_BEGIN_DATA etc gluTessCallback hooks.&lt;/p&gt;
&lt;p&gt;When calling the gluTessBeginPolygon method it is possible to pass a address to a own structure along as second argument. This address will be handled to the callback methods and therefor you can access your defined data structure to store the tessellated data within it. My example shows how to deal with that. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-466&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I use the &lt;a href=&quot;http://glm.g-truc.net/about.html&quot;&gt;OpenGL Mathematics Library&lt;/a&gt; to handle my points.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/tesselation/tesselation_star.png&quot; alt=&quot;tesselation_star&quot; title=&quot;tesselation_star&quot; width=&quot;240&quot; height=&quot;216&quot; class=&quot;alignnone size-full wp-image-468&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/tesselation/tesselation_star_wire.png&quot; alt=&quot;tesselation_star_wire&quot; title=&quot;tesselation_star_wire&quot; width=&quot;232&quot; height=&quot;205&quot; class=&quot;alignnone size-full wp-image-469&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GL_GLUT_TesselationData.cpp&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
#include &amp;lt;GL/glut.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;vector&amp;gt;
#include &amp;quot;glm/glm.hpp&amp;quot;
using namespace std;

//#define USEDISPLAYLIST

GLuint startList;
GLdouble **dataOutFinal;

#ifndef USEDISPLAYLIST
struct Mesh {
	std::vector&amp;lt;glm::vec3&amp;gt; points;
	GLenum type;
} mesh;
#endif

GLdouble rect[4][3] = { 50.0, 50.0, 0.0, 200.0, 50.0, 0.0, 200.0, 140.0, 0.0,
		50.0, 200.0, 0.0 };

GLdouble star[5][6] = { 250.0, 50.0, 0.0, 1.0, 0.0, 1.0, 325.0, 200.0, 0.0,
		1.0, 1.0, 0.0, 400.0, 50.0, 0.0, 0.0, 1.0, 1.0, 250.0, 150.0, 0.0, 1.0,
		0.0, 0.0, 400.0, 150.0, 0.0, 0.0, 1.0, 0.0 };

void display(void) {
	glClear(GL_COLOR_BUFFER_BIT);
	glColor3f(1.0, 0.5, 1.0);

	// Enable this to see the wireframe
	//glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);

#ifndef USEDISPLAYLIST
	vector&amp;lt;glm::vec3&amp;gt;::const_iterator cii;
	glBegin(mesh.type);
	for (cii = mesh.points.begin(); cii != mesh.points.end(); cii++) {
		glVertex3f((*cii).x, (*cii).y, (*cii).z);
		printf(&amp;quot;Result: %f,%f,%f\n&amp;quot;, (*cii).x, (*cii).y, (*cii).z);
	}
	glEnd();
#else
	glCallList(startList);
#endif

	glFlush();
}

void beginCallback(GLenum which, void *resultMesh) {
	printf(&amp;quot;Type: %i\n&amp;quot;, which);
#ifdef USEDISPLAYLIST
	glBegin(which);
#else
	Mesh *myMesh = (Mesh*) resultMesh;
	(*myMesh).type = which;
#endif

}

void errorCallback(GLenum errorCode) {
	const GLubyte *estring;
	estring = gluErrorString(errorCode);
	fprintf(stderr, &amp;quot;Tessellation Error: %s\n&amp;quot;, estring);
	exit(0);
}

void endCallback(void *tessellationSetAddress) {
#ifdef USEDISPLAYLIST
	glEnd();
#endif
}

void vertexCallback(GLvoid *data, void *resultMesh) {
	const GLdouble *pointer;
	pointer = (GLdouble *) data;
#ifdef USEDISPLAYLIST
	glColor3dv(pointer + 3);
	glVertex3dv(pointer);
#else
	Mesh *myMesh = (Mesh*) resultMesh;
	(*myMesh).points.push_back(glm::vec3(pointer[0], pointer[1], pointer[2]));
#endif
	printf(&amp;quot;Added new vertex[%f][%f][%f]\n&amp;quot;, pointer[0], pointer[1], pointer[2]);

}

void combineCallback(GLdouble coords[3], GLdouble *vertex_data[4],
		GLfloat weight[4], GLdouble **dataOut, void *resultMesh) {

	GLdouble *vertex;
	vertex = (GLdouble *) malloc(6 * sizeof(GLdouble));
	vertex[0] = coords[0];
	vertex[1] = coords[1];
	vertex[2] = coords[2];

#ifndef USEDISPLAYLIST
	Mesh *myMesh = (Mesh*) resultMesh;
	(*myMesh).points.push_back(glm::vec3(vertex[0], vertex[1], vertex[2]));
#endif
	printf(&amp;quot;Added combine vertex[%f][%f][%f]\n&amp;quot;, vertex[0], vertex[1],
			vertex[2]);

	*dataOut = vertex;

}

void init(void) {
	GLUtesselator *tobj;

	glClearColor(0.0, 0.0, 0.0, 0.0);

	tobj = gluNewTess();
	gluTessCallback(tobj, GLU_TESS_VERTEX_DATA, (void(*)()) vertexCallback);
	gluTessCallback(tobj, GLU_TESS_BEGIN_DATA, (void(*)()) beginCallback);
	gluTessCallback(tobj, GLU_TESS_END_DATA, (void(*)()) endCallback);
	gluTessCallback(tobj, GLU_TESS_ERROR, (void(*)()) errorCallback);
	gluTessCallback(tobj, GLU_TESS_COMBINE_DATA, (void(*)()) combineCallback);

#ifdef USEDISPLAYLIST
	startList = glGenLists(1);
	glNewList(startList, GL_COMPILE);
#endif

	glShadeModel(GL_SMOOTH);
	gluTessProperty(tobj, GLU_TESS_WINDING_RULE, GLU_TESS_WINDING_POSITIVE);

#ifdef USEDISPLAYLIST
	gluTessBeginPolygon(tobj, NULL);
#else
	gluTessBeginPolygon(tobj, &amp;amp;mesh);
#endif

	/*
	 gluTessBeginContour(tobj);
	 gluTessVertex(tobj, rect[0], rect[0]);
	 gluTessVertex(tobj, rect[1], rect[1]);
	 gluTessVertex(tobj, rect[2], rect[2]);
	 gluTessVertex(tobj, rect[3], rect[3]);
	 gluTessEndContour(tobj);
	 */

	gluTessBeginContour(tobj);
	gluTessVertex(tobj, star[0], star[0]);
	gluTessVertex(tobj, star[1], star[1]);
	gluTessVertex(tobj, star[2], star[2]);
	gluTessVertex(tobj, star[3], star[3]);
	gluTessVertex(tobj, star[4], star[4]);
	gluTessEndContour(tobj);

	gluTessEndPolygon(tobj);

#ifdef USEDISPLAYLIST
	glEndList();
#endif
	gluDeleteTess(tobj);

	printf(&amp;quot;Done\n&amp;quot;);

}

void reshape(int w, int h) {
	glViewport(0, 0, (GLsizei) w, (GLsizei) h);
	glMatrixMode(GL_PROJECTION);
	glLoadIdentity();
	gluOrtho2D(0.0, (GLdouble) w, 0.0, (GLdouble) h);
}

void keyboard(unsigned char key, int x, int y) {
	switch (key) {
	case 27:
		exit(0);
		break;
	}
}

int main(int argc, char** argv) {
	glutInit(&amp;amp;argc, argv);
	glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);
	glutInitWindowSize(500, 500);
	glutCreateWindow(argv[0]);
	init();
	glutDisplayFunc(display);
	glutReshapeFunc(reshape);
	glutKeyboardFunc(keyboard);
	glutMainLoop();
	return 0;
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL AMD Tesselation Example (CatmullCark SubDivision) - Linux</title>
   <link href="http://www.jotschi.de/technik/2009/12/15/opengl-amd-tesselation-example-catmullcark-subdivision-linux.html"/>
   <updated>2009-12-15T02:22:53+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/12/15/opengl-amd-tesselation-example-catmullcark-subdivision-linux</id>
   <content type="html">&lt;p&gt;While searching for a tesselation example i stumbled uppon this example. It uses the GL_AMD_vertex_shader_tessellator extension.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-460&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;img src=&quot;/images/tesselation/tesselation_raw_demo.png&quot; alt=&quot;tesselation_raw_demo&quot; title=&quot;tesselation_raw_demo&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignnone size-full wp-image-461&quot; /&gt;&lt;br /&gt;
&lt;img src=&quot;/images/tesselation/tesselation_raw_demo_2.png&quot; alt=&quot;tesselation_raw_demo_2&quot; title=&quot;tesselation_raw_demo_2&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignnone size-full wp-image-462&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Documents can be found here:&lt;br /&gt;
&lt;a href=&quot;http://www.opengl.org/registry/specs/AMD/vertex_shader_tessellator.txt&quot;&gt;http://www.opengl.org/registry/specs/&lt;span class=&quot;caps&quot;&gt;AMD&lt;/span&gt;/vertex_shader_tessellator.txt&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;http://developer.amd.com/GPU/WGSDK/Pages/default.aspx&quot;&gt;http://developer.amd.com/&lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;WGSDK&lt;/span&gt;/Pages/default.aspx&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Mars Society startet 'Humans To Mars' Petition</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2009/12/14/mars-society-startet-humans-to-mars-petition.html"/>
   <updated>2009-12-14T23:06:49+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2009/12/14/mars-society-startet-humans-to-mars-petition</id>
   <content type="html">&lt;p&gt;Mit einer globalen &lt;a href=&quot;http://www.HumansToMars.org&quot;&gt;Petition&lt;/a&gt; will die Mars Society auf den diesjährigen Report der Augustine Kommission (&lt;a href=&quot;http://www.nasa.gov/offices/hsf/meetings/10_22_pressconference.html&quot;&gt;Review of United States Human Space Flight Plans Committee&lt;/a&gt;) reagieren und US Präsident Obama auf den Nutzen von einer bemannten Marsmission hinzuweisen.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-447&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;object width=&quot;400&quot; height=&quot;300&quot;&gt;&lt;param name=&quot;allowfullscreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;http://vimeo.com/moogaloop.swf?clip_id=7270323&amp;amp;server=vimeo.com&amp;amp;show_title=1&amp;amp;show_byline=1&amp;amp;show_portrait=0&amp;amp;color=&amp;amp;fullscreen=1&quot; /&gt;&lt;embed src=&quot;http://vimeo.com/moogaloop.swf?clip_id=7270323&amp;amp;server=vimeo.com&amp;amp;show_title=1&amp;amp;show_byline=1&amp;amp;show_portrait=0&amp;amp;color=&amp;amp;fullscreen=1&quot; type=&quot;application/x-shockwave-flash&quot; allowfullscreen=&quot;true&quot; allowscriptaccess=&quot;always&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;&lt;/embed&gt;&lt;/object&gt;&lt;p&gt;&lt;a href=&quot;http://vimeo.com/7270323&quot;&gt;&lt;span class=&quot;caps&quot;&gt;HSF&lt;/span&gt; Committee-Press Conference&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/user1955131&quot;&gt;U.S. &lt;span class=&quot;caps&quot;&gt;HSF&lt;/span&gt; Committee&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;
&lt;p&gt;Dies ist meiner Meinung nach gar nicht so verkehrt wenn man bedenkt, dass das Space Shuttle 2010 außer Dienst gestellt werden soll und sich 5 &amp;#8211; 8 Jahre lang keine Möglichkeit für die &lt;span class=&quot;caps&quot;&gt;USA&lt;/span&gt; bietet die &lt;span class=&quot;caps&quot;&gt;ISS&lt;/span&gt; zu erreichen. Mike Griffin, der letzte Nasa Administator, hat zu seiner Zeit alle Weichen gestellt damit das Space Shuttle so früh wie Möglich außer Dienst gestellt werden kann und die Entwicklung im &lt;a href=&quot;http://en.wikipedia.org/wiki/Project_Constellation&quot;&gt;Constellation Programm&lt;/a&gt; so schnell wie Möglich beginnen kann. Nach der Aktuellen Politik und Orientierung des Präsidenten und der &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt; Administration ist es jedoch fraglich in wie weit die Realisierung des Constellation Programms überhaupt voranschreiten wird.&lt;/p&gt;
&lt;p&gt;Wünschenswert wäre es wenn man die Zeit in der die &lt;span class=&quot;caps&quot;&gt;USA&lt;/span&gt; über kein Transportmittel zur &lt;span class=&quot;caps&quot;&gt;ISS&lt;/span&gt; verfügen, auch &amp;#8216;The Gap&amp;#8217; genannt, deutlich verkürzen könnte. Hierzu müsste man nur mehr Mittel für das Constellation Programm bereitstellen. &lt;br /&gt;
Man sollte hier auch beachten das die &lt;span class=&quot;caps&quot;&gt;ISS&lt;/span&gt; mindestens bis 2015 &amp;#8211; 2020 betrieben werden soll. Nach dem aktuellen Plan hätte man also im Idealfall höchstens 2 Jahre lang die Möglichkeit die &lt;span class=&quot;caps&quot;&gt;ISS&lt;/span&gt; mit Orion zu erreichen bevor die Raumstation aufgegeben wird. Wenn hierzu noch eine Ansage gemacht würde, ein Ziel gesetzt würde z.B. den Mars zu erreichen anstatt den Mond würde dies meiner Meinung nach auch die Politik des Präsidenten unterstützen. Er will Bildung fördern wo es nur geht. Aber wo fängt Bildung denn an? Meiner Meinung nach in den Köpfen der Menschen. Ein Ziel wie es früher von Präsident Kennedy gesetzt wurde schafft es zu Inspirieren und zu vereinen. Genau dieser Punkt wurde auch bei der Vorstellung des Reports von der Augustine Kommission als ein wichtiges Argument zur Unterstützung der Bemannten Raumfahrt genannt.&lt;/p&gt;
&lt;p&gt;Der Report der Augustine Kommission nennt zudem auch einige alternativen welche &amp;#8216;The Gap&amp;#8217; überbrücken könnten. Hierzu zählen Entwicklung einer Ares/Orion Light Kombination, Private Entwicklung einer Transportlösung in Auftrag geben, sich auf Russland verlassen. Meiner Meinung nach sind dies jedoch nur Notlösungen welche das Problem verschieben.&lt;/p&gt;
&lt;p&gt;Ich bleibe gespannt wie sich &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt; / US Pläne durch die Einstellung des Space Shuttles weiterentwickeln.&lt;/p&gt;
&lt;p&gt;Es ist somit nicht verkehrt die Petition zu unterzeichne wenn man für die bemannte Raumfahrt ist und Zeichen setzten möchte.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.HumansToMars.org&quot;&gt;www.HumansToMars.org&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL matrix/vector libraries</title>
   <link href="http://www.jotschi.de/uncategorized/2009/12/14/opengl-matrixvector-libraries.html"/>
   <updated>2009-12-14T00:27:46+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/12/14/opengl-matrixvector-libraries</id>
   <content type="html">&lt;p&gt;While searching for a sufficient c++ library that provides matrix and vector algebra implementations i found those two:&lt;/p&gt;
&lt;p&gt;1. &lt;a href=&quot;http://glm.g-truc.net/about.html&quot;&gt;http://glm.g-truc.net/about.html&lt;/a&gt;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;GLM&lt;/span&gt; contains over 500 useful math functions for OpenGL. Mostly vector, matrix and quaternion math.&lt;/p&gt;
&lt;p&gt;2. &lt;a href=&quot;http://bartipan.net/vmath/&quot;&gt;http://bartipan.net/vmath/&lt;/a&gt;&lt;br /&gt;
vmath is set of C++ classes for Vector and Matrix algebra used in computer graphics.&lt;/p&gt;
&lt;p&gt;3. &lt;a href=&quot;http://eigen.tuxfamily.org/index.php?title=Main_Page&quot;&gt;http://eigen.tuxfamily.org/&lt;/a&gt;&lt;br /&gt;
Eigen is a C++ template library for linear algebra: vectors, matrices, and related algorithms.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll test &lt;span class=&quot;caps&quot;&gt;GLM&lt;/span&gt; since i want to integrate &lt;span class=&quot;caps&quot;&gt;GLSL&lt;/span&gt; within my program.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Drawing the perspective view frustum with OpenGL</title>
   <link href="http://www.jotschi.de/uncategorized/2009/12/13/drawing-the-perspective-view-frustum-with-opengl.html"/>
   <updated>2009-12-13T19:43:38+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/12/13/drawing-the-perspective-view-frustum-with-opengl</id>
   <content type="html">&lt;p&gt;A visualization of the current view frustum can be helpful in some cases. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-441&quot;&gt;&lt;/a&gt;&lt;br /&gt;
1. Extract the two important matrices you wish to visualize:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
static float proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr16&quot;&gt;&lt;a href=&quot;#fn16&quot;&gt;16&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
glGetFloatv(GL_PROJECTION_MATRIX, proj);&lt;/p&gt;
&lt;p&gt;static float mv&lt;sup class=&quot;footnote&quot; id=&quot;fnr16&quot;&gt;&lt;a href=&quot;#fn16&quot;&gt;16&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
glGetFloatv(GL_MODELVIEW_MATRIX, mv);&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;2. Do some math and draw your frustum:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
void Helper::drawFrustum(float * proj, float *mv) {&lt;/p&gt;
&lt;p&gt;// Get near and far from the Projection matrix.&lt;br /&gt;
	const double near = proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr11&quot;&gt;&lt;a href=&quot;#fn11&quot;&gt;11&lt;/a&gt;&lt;/sup&gt; / (proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr10&quot;&gt;&lt;a href=&quot;#fn10&quot;&gt;10&lt;/a&gt;&lt;/sup&gt; &amp;#8211; 1.0);&lt;br /&gt;
	const double far = proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr11&quot;&gt;&lt;a href=&quot;#fn11&quot;&gt;11&lt;/a&gt;&lt;/sup&gt; / (1.0 + proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr10&quot;&gt;&lt;a href=&quot;#fn10&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;);&lt;/p&gt;
&lt;p&gt;// Get the sides of the near plane.&lt;br /&gt;
	const double nLeft = near * (proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; &amp;#8211; 1.0) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double nRight = near * (1.0 + proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double nTop = near * (1.0 + proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr6&quot;&gt;&lt;a href=&quot;#fn6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double nBottom = near * (proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr6&quot;&gt;&lt;a href=&quot;#fn6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; &amp;#8211; 1.0) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;// Get the sides of the far plane.&lt;br /&gt;
	const double fLeft = far * (proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; &amp;#8211; 1.0) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double fRight = far * (1.0 + proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double fTop = far * (1.0 + proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr6&quot;&gt;&lt;a href=&quot;#fn6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
	const double fBottom = far * (proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr6&quot;&gt;&lt;a href=&quot;#fn6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; &amp;#8211; 1.0) / proj&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;/*&lt;br /&gt;
	 0	glVertex3f(0.0f, 0.0f, 0.0f);&lt;br /&gt;
	 1	glVertex3f(nLeft, nBottom, -near);&lt;br /&gt;
	 2	glVertex3f(nRight, nBottom, -near);&lt;br /&gt;
	 3	glVertex3f(nRight, nTop, -near);&lt;br /&gt;
	 4	glVertex3f(nLeft, nTop, -near);&lt;br /&gt;
	 5	glVertex3f(fLeft, fBottom, -far);&lt;br /&gt;
	 6	glVertex3f(fRight, fBottom, -far);&lt;br /&gt;
	 7	glVertex3f(fRight, fTop, -far);&lt;br /&gt;
	 8	glVertex3f(fLeft, fTop, -far);&lt;br /&gt;
	 */&lt;/p&gt;
&lt;p&gt;glMatrixMode(GL_MODELVIEW);&lt;br /&gt;
	glPushMatrix();&lt;br /&gt;
	//glLoadIdentity ();&lt;/p&gt;
// &lt;span class=&quot;caps&quot;&gt;TODO&lt;/span&gt; &amp;#8211; Update: You need to invert the mv before multiplying it with the current mv!
&lt;p&gt;glMultMatrixf(mv);&lt;/p&gt;
&lt;p&gt;glLineWidth(2);&lt;br /&gt;
	glBegin(GL_LINES);&lt;/p&gt;
&lt;p&gt;glVertex3f(0.0f, 0.0f, 0.0f);&lt;br /&gt;
	glVertex3f(fLeft, fBottom, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(0.0f, 0.0f, 0.0f);&lt;br /&gt;
	glVertex3f(fRight, fBottom, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(0.0f, 0.0f, 0.0f);&lt;br /&gt;
	glVertex3f(fRight, fTop, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(0.0f, 0.0f, 0.0f);&lt;br /&gt;
	glVertex3f(fLeft, fTop, -far);&lt;/p&gt;
&lt;p&gt;//far&lt;br /&gt;
	glVertex3f(fLeft, fBottom, -far);&lt;br /&gt;
	glVertex3f(fRight, fBottom, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(fRight, fTop, -far);&lt;br /&gt;
	glVertex3f(fLeft, fTop, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(fRight, fTop, -far);&lt;br /&gt;
	glVertex3f(fRight, fBottom, -far);&lt;/p&gt;
&lt;p&gt;glVertex3f(fLeft, fTop, -far);&lt;br /&gt;
	glVertex3f(fLeft, fBottom, -far);&lt;/p&gt;
&lt;p&gt;//near&lt;br /&gt;
	glVertex3f(nLeft, nBottom, -near);&lt;br /&gt;
	glVertex3f(nRight, nBottom, -near);&lt;/p&gt;
&lt;p&gt;glVertex3f(nRight, nTop, -near);&lt;br /&gt;
	glVertex3f(nLeft, nTop, -near);&lt;/p&gt;
&lt;p&gt;glVertex3f(nLeft, nTop, -near);&lt;br /&gt;
	glVertex3f(nLeft, nBottom, -near);&lt;/p&gt;
&lt;p&gt;glVertex3f(nRight, nTop, -near);&lt;br /&gt;
	glVertex3f(nRight, nBottom, -near);&lt;/p&gt;
&lt;p&gt;glEnd();&lt;br /&gt;
	glLineWidth(1);&lt;br /&gt;
	glPopMatrix();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL - FreeGlut Multiple Window Callbacks and C++ (OOP) </title>
   <link href="http://www.jotschi.de/technik/2009/12/12/opengl-freeglut-multiple-window-callbacks-and-c-oop.html"/>
   <updated>2009-12-12T18:15:18+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/12/12/opengl-freeglut-multiple-window-callbacks-and-c-oop</id>
   <content type="html">&lt;p&gt;Using glut with cpp can be difficult in some cases for example because of the glut callback specification. You can&amp;#8217;t specify a callback to a object methods due to c limitations. One workaround is to use singletons as described here: &lt;br /&gt;
&lt;a href=&quot;http://www.uni-koblenz.de/~mgoi/?p=56&quot;&gt;http://www.uni-koblenz.de/~mgoi/?p=56&lt;/a&gt;. Another way to cope this issue is to use the glutGetWindow method. This method can be used within a static callback target method to determine which window should be updated etc. In my example i created a window class which is used to create and handle windows. Outside of this class i just created some wrapper callback methods which redirect the desired call to my object methods. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-437&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GL_GLUT_OOP.cpp&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
#include &amp;lt;GL/glut.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glu.h&amp;gt;&lt;br /&gt;
#include &amp;lt;stdio.h&amp;gt;&lt;br /&gt;
#include &amp;quot;window.h&amp;quot;&lt;/p&gt;
&lt;p&gt;#define &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt;  (200 / 4)&lt;br /&gt;
#define &lt;span class=&quot;caps&quot;&gt;SPACING&lt;/span&gt;  (200 / 4 + 200)&lt;/p&gt;
&lt;p&gt;window * windows&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;void display(void) {&lt;br /&gt;
	int winId = glutGetWindow();&lt;br /&gt;
	//printf(&amp;quot;win%i\n&amp;quot;, winId &amp;#8211; 1);&lt;br /&gt;
	windows[winId &amp;#8211; 1]-&amp;gt;display();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Request redisplay of all three windows.&lt;br /&gt;
 */&lt;br /&gt;
void refresh() {&lt;br /&gt;
	for (int i = 0; i &amp;lt; 3; i++) {&lt;br /&gt;
		windows[i]-&amp;gt;refresh();&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;void mouse(int x, int y) {&lt;br /&gt;
	int winId = glutGetWindow();&lt;br /&gt;
	//printf(&amp;quot;mouse in win%i\n&amp;quot;, winId &amp;#8211; 1);&lt;br /&gt;
	windows[winId &amp;#8211; 1]-&amp;gt;mouse(x, y);&lt;br /&gt;
	windows[winId &amp;#8211; 1]-&amp;gt;refresh();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Keyboard function works for all windows.&lt;br /&gt;
 */&lt;br /&gt;
void keyboard(unsigned char key, int x, int y) {&lt;br /&gt;
	if (key == 27)&lt;br /&gt;
		exit(0);&lt;br /&gt;
}&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;void idle() {&lt;br /&gt;
	for (int i = 0; i &amp;lt; 3; i++) {&lt;br /&gt;
		windows[i]-&amp;gt;idle();&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int main(int argc, char *argv[]) {&lt;br /&gt;
	glutInit(&amp;amp;argc, argv);&lt;br /&gt;
	glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB);&lt;/p&gt;
&lt;p&gt;windows&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; = new window(&amp;quot;Window 0&amp;quot;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt;);&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	glutKeyboardFunc(keyboard);&lt;br /&gt;
	glutMotionFunc(mouse);&lt;/p&gt;
&lt;p&gt;windows&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; = new window(&amp;quot;Window 1&amp;quot;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt; + &lt;span class=&quot;caps&quot;&gt;SPACING&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt;);&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	glutKeyboardFunc(keyboard);&lt;br /&gt;
	glutMotionFunc(mouse);&lt;/p&gt;
&lt;p&gt;windows&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; = new window(&amp;quot;Window 2&amp;quot;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt; + 2 * &lt;span class=&quot;caps&quot;&gt;SPACING&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;GAP&lt;/span&gt;);&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	glutKeyboardFunc(keyboard);&lt;br /&gt;
	glutMotionFunc(mouse);&lt;/p&gt;
&lt;p&gt;glutIdleFunc(idle);&lt;br /&gt;
	glutMainLoop();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;window.h&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
#include &amp;quot;window.h&amp;quot;&lt;br /&gt;
#include &amp;lt;GL/glut.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glu.h&amp;gt;&lt;/p&gt;
&lt;p&gt;#define WIN_SIZE  200&lt;br /&gt;
#define F_SIZE 200&lt;/p&gt;
&lt;p&gt;double angle = 0;&lt;/p&gt;
&lt;p&gt;window::window(string name, int posX, int posY) {&lt;br /&gt;
	this-&amp;gt;_name = name;&lt;/p&gt;
&lt;p&gt;glutInitWindowSize(WIN_SIZE, WIN_SIZE);&lt;br /&gt;
	glutInitWindowPosition(posX, posY);&lt;br /&gt;
	&lt;em&gt;id = glutCreateWindow(name.c_str());&lt;br /&gt;
	glMatrixMode(GL_PROJECTION);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	gluPerspective(45.0, 1.0, 1.0, 20.0);&lt;br /&gt;
	glMatrixMode(GL&lt;/em&gt;&lt;span class=&quot;caps&quot;&gt;MODELVIEW&lt;/span&gt;);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;window::~window() {&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Display callback function.&lt;br /&gt;
 */&lt;br /&gt;
void window::display() {&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;glutSetWindow(&lt;em&gt;id);&lt;br /&gt;
	glClear(GL_COLOR_BUFFER&lt;/em&gt;&lt;span class=&quot;caps&quot;&gt;BIT&lt;/span&gt;);&lt;br /&gt;
	glLoadIdentity();&lt;/p&gt;
&lt;p&gt;if (&lt;em&gt;id == 1)&lt;br /&gt;
		gluLookAt(5.0, 0.0, 5.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);&lt;br /&gt;
	else if (_id == 2)&lt;br /&gt;
		gluLookAt(0.0, 5.0, 5.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);&lt;br /&gt;
	else if (&lt;/em&gt;id == 3)&lt;br /&gt;
		gluLookAt(5.0, 5.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);&lt;/p&gt;
&lt;p&gt;// Draw the cube, rotated and scaled.&lt;br /&gt;
	glPushMatrix();&lt;br /&gt;
	glTranslatef(-1.0, 0.0, 0.0);&lt;br /&gt;
	if (_id == 2) {&lt;br /&gt;
		glRotatef(360.0 * _x, 1.0, 0.0, 0.0);&lt;br /&gt;
		glRotatef(360.0 * _y, 0.0, 1.0, 0.0);&lt;br /&gt;
	}&lt;br /&gt;
	glRotatef(angle, 0.0, 0.0, 1.0);&lt;br /&gt;
	//glScalef(x1 + 1.0, y1 + 1.0, 1.0);&lt;br /&gt;
	glColor3f(0.8f, 0.0f, 0.8f);&lt;br /&gt;
	glutWireCube(2.0);&lt;br /&gt;
	glPopMatrix();&lt;/p&gt;
&lt;p&gt;// Draw thre cone, rotated and scaled.&lt;br /&gt;
	glPushMatrix();&lt;br /&gt;
	glTranslatef(1.0, 0.0, 0.0);&lt;br /&gt;
	if (_id == 1) {&lt;br /&gt;
		glRotatef(360.0 * _x, 1.0, 0.0, 0.0);&lt;br /&gt;
		glRotatef(360.0 * &lt;em&gt;y, 0.0, 1.0, 0.0);&lt;br /&gt;
	}&lt;br /&gt;
	if (&lt;em&gt;id == 3) {&lt;br /&gt;
		glScalef(this-&amp;gt;&lt;/em&gt;x + 1.0, this-&amp;gt;&lt;/em&gt;y + 1.0, 1.0);&lt;br /&gt;
	}&lt;br /&gt;
	glTranslatef(0.0, 0.0, -1.0);&lt;br /&gt;
	glColor3f(0.0f, 0.8f, 0.8f);&lt;br /&gt;
	glutWireCone(1.0, 3.0, 10, 10);&lt;br /&gt;
	glPopMatrix();&lt;br /&gt;
	glutSwapBuffers();&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;void window::spin() {&lt;br /&gt;
	angle += 1;&lt;br /&gt;
	if (angle &amp;gt; 360)&lt;br /&gt;
		angle &lt;del&gt;= 360;&lt;br /&gt;
	this&lt;/del&gt;&amp;gt;refresh();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void window::refresh() {&lt;br /&gt;
	glutSetWindow(_id);&lt;br /&gt;
	glutPostRedisplay();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void window::mouse(int x, int y) {&lt;br /&gt;
	this-&amp;gt;&lt;em&gt;x = (float) x / (float) F_SIZE;&lt;br /&gt;
	this-&amp;gt;_y = (float) y / (float) F&lt;/em&gt;&lt;span class=&quot;caps&quot;&gt;SIZE&lt;/span&gt;;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void window::idle() {&lt;br /&gt;
	spin();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;window.cpp&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
#ifndef WINDOW_H_&lt;br /&gt;
#include &amp;lt;string&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glut.h&amp;gt;&lt;br /&gt;
#define WINDOW_H_&lt;/p&gt;
&lt;p&gt;using namespace std;&lt;/p&gt;
&lt;p&gt;class window {&lt;br /&gt;
	int _id;&lt;br /&gt;
	string _name;&lt;br /&gt;
	GLfloat _x, _y;&lt;/p&gt;
&lt;p&gt;public:&lt;br /&gt;
	window(string name, int posX, int posY);&lt;br /&gt;
	virtual ~window();&lt;/p&gt;
&lt;p&gt;void display();&lt;br /&gt;
	void refresh();&lt;br /&gt;
	void spin();&lt;br /&gt;
	void mouse(int x, int y);&lt;br /&gt;
	void idle();&lt;br /&gt;
};&lt;/p&gt;
&lt;p&gt;#endif /* WINDOW_H_ */&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Xlib Multiple Window & Events Example</title>
   <link href="http://www.jotschi.de/technik/2009/12/09/xlib-multiple-window-events-example.html"/>
   <updated>2009-12-09T20:16:43+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/12/09/xlib-multiple-window-events-example</id>
   <content type="html">&lt;p&gt;This small example shows how to use events with xlib windows. After you created your windows you can check events of both of them. I tried to use threads for each displayWin* method to show them parallel and check within both the events. That did not work. What will work is shown in the example.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-434&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See also &lt;a href=&quot;http://en.wikipedia.org/wiki/Xlib&quot;&gt;http://en.wikipedia.org/wiki/Xlib&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
#include &amp;lt;X11/X.h&amp;gt;
#include &amp;lt;X11/Xlib.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

Display *display;
Window winA;
Window winB;
Window rootwindow;

unsigned long white_pixel, black_pixel;

void checkEvents() {

	XEvent xev;
	XWindowAttributes gwa;

	while (1) {

		printf(&amp;quot;Next Iteration\n&amp;quot;);

		// alternativly you can get the event of a determined window
		//XWindowEvent(display, winA, PointerMotionMask, &amp;amp;xev);

		// the next call will lock until an event was received.
		XNextEvent(display, &amp;amp;xev);

		switch (xev.type) {
		case Expose: {
			XGetWindowAttributes(display, winA, &amp;amp;gwa);
			printf(&amp;quot;Exposed Window\n&amp;quot;);
			break;
		}
		case MotionNotify: {

			int MouseX = xev.xmotion.x;
			int MouseY = xev.xmotion.y;
			if (xev.xclient.window == winA) {
				printf(&amp;quot;MouseA %i , %i\n&amp;quot;, MouseX, MouseY);
			} else {
				printf(&amp;quot;MouseB %i , %i\n&amp;quot;, MouseX, MouseY);
			}
			break;
		}
		case ButtonPressMask: {
			printf(&amp;quot;ButtonPressed - Destroying window\n&amp;quot;);
			if (xev.xclient.window == winA) {
				XDestroyWindow(display, winA);

			} else {
				XDestroyWindow(display, winB);
			}

			break;
		}
		case KeyPress: {
			printf(&amp;quot;Stopping event loop\n&amp;quot;);
			return;
		}

		}

	}

}

void displayWinA() {

	printf(&amp;quot;Creating window A\n&amp;quot;);
	winA = XCreateSimpleWindow(display, rootwindow, 220, 220, 200, 200, 5,
			black_pixel, white_pixel);

	// name the window (titlebar)
	XStoreName(display, winA, &amp;quot;Window A&amp;quot;);

	// since we used XCreateSimpleWindow we need to enable event listening for this window
	XSelectInput(display, winA, StructureNotifyMask | ExposureMask
			| KeyPressMask | ButtonPressMask | PointerMotionMask);

	// map the window (make it visible)
	XMapWindow(display, winA);

}

void displayWinB() {

	printf(&amp;quot;Creating window B\n&amp;quot;);
	winB = XCreateSimpleWindow(display, rootwindow, 0, 0, 100, 100, 1, 0, 0);
	XStoreName(display, winB, &amp;quot;Window B&amp;quot;);
	XSelectInput(display, winB, StructureNotifyMask | ExposureMask
			| KeyPressMask | ButtonPressMask | PointerMotionMask);

	XMapWindow(display, winB);

}

int main(void) {

	int screen;

	display = XOpenDisplay(NULL);
	screen = DefaultScreen(display);

	white_pixel = WhitePixel (display, screen);
	black_pixel = BlackPixel (display, screen);

	rootwindow = RootWindow(display,screen);

	displayWinA();
	displayWinB();

	checkEvents();
	XFlush(display);

	XDestroyWindow(display, winA);
	XDestroyWindow(display, winB);
	XCloseDisplay(display);
	return (0);
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Minimal Google Docs Java Client</title>
   <link href="http://www.jotschi.de/technik/2009/12/06/minimal-google-docs-java-client.html"/>
   <updated>2009-12-06T23:45:12+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/12/06/minimal-google-docs-java-client</id>
   <content type="html">&lt;p&gt;This code demonstrates how to fetch docs via google docs java api.&lt;br /&gt;
This example is usable with the &lt;a href=&quot;http://code.google.com/p/gdata-java-client/&quot;&gt;gdata-java-client&lt;/a&gt;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-429&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
import java.io.BufferedReader;&lt;br /&gt;
import java.io.InputStreamReader;&lt;br /&gt;
import java.net.&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;import com.google.gdata.client.GoogleService;&lt;br /&gt;
import com.google.gdata.client.GoogleAuthTokenFactory.UserToken;&lt;br /&gt;
import com.google.gdata.client.docs.DocsService;&lt;br /&gt;
import com.google.gdata.data.MediaContent;&lt;br /&gt;
import com.google.gdata.data.media.MediaSource;&lt;/p&gt;
&lt;p&gt;public class MinimalGoogleDocsClient {&lt;/p&gt;
&lt;p&gt;private static final String APPLICATION_NAME = &amp;#8220;JavaGDataClientSampleAppV3.0&amp;#8221;;&lt;br /&gt;
	public static final String SPREADSHEETS_SERVICE_NAME = &amp;#8220;wise&amp;#8221;;&lt;br /&gt;
	public DocsService service;&lt;br /&gt;
	public GoogleService spreadsheetsService;&lt;/p&gt;
&lt;p&gt;public void getSpreadSheet(String id) throws Exception {&lt;br /&gt;
		UserToken docsToken = (UserToken) service.getAuthTokenFactory()&lt;br /&gt;
				.getAuthToken();&lt;br /&gt;
		UserToken spreadsheetsToken = (UserToken) spreadsheetsService&lt;br /&gt;
				.getAuthTokenFactory().getAuthToken();&lt;br /&gt;
		service.setUserToken(spreadsheetsToken.getValue());&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt; url = new &lt;acronym title=&quot;&lt;br /&gt;
				&amp;quot;http://spreadsheets.google.com/feeds/download/spreadsheets/Export?gid=0&amp;amp;exportFormat=csv&amp;amp;key=&amp;quot;&lt;br /&gt;
						+ id&quot;&gt;&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt;&lt;/acronym&gt;;&lt;/p&gt;
&lt;p&gt;readUrl(url);&lt;br /&gt;
		service.setUserToken(docsToken.getValue());&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void getDocument(String id) throws Exception {&lt;br /&gt;
		&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt; url = new &lt;acronym title=&quot;&lt;br /&gt;
				&amp;quot;http://docs.google.com/feeds/download/documents/Export?docID=document:&amp;quot;&lt;br /&gt;
						+ id + &amp;quot;&amp;amp;exportFormat=txt&amp;quot;&quot;&gt;&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt;&lt;/acronym&gt;;&lt;br /&gt;
		readUrl(url);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void readUrl(&lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt; url) throws Exception {&lt;br /&gt;
		MediaContent mc = new MediaContent();&lt;br /&gt;
		mc.setUri(url.toString());&lt;br /&gt;
		MediaSource ms = service.getMedia(mc);&lt;/p&gt;
&lt;p&gt;BufferedReader in = new BufferedReader(new InputStreamReader(ms&lt;br /&gt;
				.getInputStream()));&lt;/p&gt;
&lt;p&gt;String inputLine;&lt;br /&gt;
		while ((inputLine = in.readLine()) != null) {&lt;br /&gt;
			System.out.println(inputLine);&lt;br /&gt;
		}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;public void go() throws Exception {&lt;br /&gt;
		String user = &amp;#8220;&lt;span class=&quot;caps&quot;&gt;YOURUSERNAME&lt;/span&gt;&amp;#8221;;&lt;br /&gt;
		String pass = &amp;#8220;&lt;span class=&quot;caps&quot;&gt;YOURPASS&lt;/span&gt;&amp;#8221;;&lt;/p&gt;
&lt;p&gt;service = new DocsService(APPLICATION_NAME);&lt;br /&gt;
		spreadsheetsService = new GoogleService(SPREADSHEETS_SERVICE_NAME,&lt;br /&gt;
				APPLICATION_NAME);&lt;/p&gt;
&lt;p&gt;service.setUserCredentials(user, pass);&lt;br /&gt;
		spreadsheetsService.setUserCredentials(user, pass);&lt;/p&gt;
&lt;p&gt;getSpreadSheet(&amp;#8220;0ApGHrBnaasfKdDJSaUc0TSEzcmZXb0Z5MU9JN3ZuUXc&amp;#8221;);&lt;/p&gt;
&lt;p&gt;getDocument(&amp;#8220;0AZGHrBnasfsasKZGQ1OXdqbTafsasfWYydHE5OWRk&amp;#8221;);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;public static void main(String[] args) throws Exception {&lt;/p&gt;
&lt;p&gt;new MinimalGoogleDocsClient().go();&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL UBO's - Uniform Buffer Objects</title>
   <link href="http://www.jotschi.de/uncategorized/2009/12/05/opengl-ubos-uniform-buffer-objects.html"/>
   <updated>2009-12-05T20:18:46+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/12/05/opengl-ubos-uniform-buffer-objects</id>
   <content type="html">&lt;p&gt;Uniform buffer objects were introduced with OpenGL 3.1. The following example is an adapted form of the &lt;span class=&quot;caps&quot;&gt;UBO&lt;/span&gt; example from the &lt;span class=&quot;caps&quot;&gt;UBO&lt;/span&gt; spec:&lt;br /&gt;
&lt;a href=&quot;http://www.opengl.org/registry/specs/ARB/uniform_buffer_object.txt&quot;&gt;http://www.opengl.org/registry/specs/&lt;span class=&quot;caps&quot;&gt;ARB&lt;/span&gt;/uniform_buffer_object.txt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This example contains workarounds for an fglrx linux driver issue. The libGL.so of &lt;span class=&quot;caps&quot;&gt;ATI&lt;/span&gt; (shipped with fglrx) does not export the correct amount of function symbols. Therefor you can&amp;#8217;t use the functions that were defined within the glext.h header files. To workaround this issue i had to use glXGetProcAddress to determine the function address within the libGL.so. The address is used to create a function pointer and therefor use the function as usual.&lt;/p&gt;
&lt;p&gt;Uniform Buffer Objects allow fast exchange of uniform values because they were backed up by a buffer object. As far as i know &lt;span class=&quot;caps&quot;&gt;DMA&lt;/span&gt; is used to transfer the data directly from your system memory into the &lt;span class=&quot;caps&quot;&gt;GPU&lt;/span&gt; memory.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-427&quot;&gt;&lt;/a&gt;&lt;br /&gt;
This example requires &lt;a href=&quot;http://freeglut.sourceforge.net/&quot;&gt;freeglut 2.6.0&lt;/a&gt; to initiate a opengl 3 context via glut. Please note that your driver must support UBO&amp;#8217;s ( GL_ARB_uniform_buffer_object ).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GL3_UBO_Example.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &lt;stdlib.h&gt;&lt;br /&gt;
#include &lt;string.h&gt;&lt;br /&gt;
#define GL_GLEXT_PROTOTYPES 1&lt;br /&gt;
#define GLX_GLXEXT_PROTOTYPES 1&lt;br /&gt;
#include &amp;lt;GL/gl.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/freeglut.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glx.h&amp;gt;&lt;br /&gt;
#include &amp;#8220;GL/glext.h&amp;#8221;&lt;br /&gt;
#include &amp;#8220;textfile.h&amp;#8221;&lt;/p&gt;
&lt;p&gt;char *VertexShaderSource, *FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;#define GLX_CONTEXT_MAJOR_VERSION_ARB       0&amp;#215;2091&lt;br /&gt;
#define GLX_CONTEXT_MINOR_VERSION_ARB       0&amp;#215;2092&lt;/p&gt;
&lt;p&gt;typedef GLXContext (&lt;strong&gt;glXCreateContextAttribsARBProc)(Display&lt;/strong&gt;, GLXFBConfig,&lt;br /&gt;
		GLXContext, Bool, const int*);&lt;br /&gt;
#define glXGetProcAddress(x) (&lt;strong&gt;glXGetProcAddressARB)((const GLubyte&lt;/strong&gt;)x)&lt;/p&gt;
&lt;p&gt;// mouse controls&lt;br /&gt;
int mouse_old_x, mouse_old_y;&lt;br /&gt;
int mouse_buttons = 0;&lt;br /&gt;
float rotate_x = 0.0, rotate_y = 0.0;&lt;br /&gt;
float translate_z = -2.0;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;PFNGLGETUNIFORMBLOCKINDEXPROC&lt;/span&gt; mglGetUniformBlockIndex = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;PFNGLGETACTIVEUNIFORMBLOCKIVPROC&lt;/span&gt; mglGetActiveUniformBlockiv = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;PFNGLBINDBUFFERBASEPROC&lt;/span&gt; mglBindBufferBase = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;PFNGLGETUNIFORMINDICESPROC&lt;/span&gt; mglGetUniformIndices = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;PFNGLGETACTIVEUNIFORMSIVPROC&lt;/span&gt; mglGetActiveUniformsiv = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;PFNGLUNIFORMBLOCKBINDINGPROC&lt;/span&gt; mglUniformBlockBinding = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;#define glError() { \&lt;br /&gt;
    GLenum err = glGetError(); \&lt;br /&gt;
    while (err != GL_NO_ERROR) { \&lt;br /&gt;
    printf(&amp;#8220;glError: %s caught at %s:%u&amp;#8221;, \&lt;br /&gt;
           (char*)gluErrorString(err), &lt;i&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt;&lt;/i&gt;, &lt;i&gt;&lt;span class=&quot;caps&quot;&gt;LINE&lt;/span&gt;&lt;/i&gt;); \&lt;br /&gt;
    err = glGetError(); \&lt;br /&gt;
    exit(-1); \&lt;br /&gt;
    } \&lt;br /&gt;
    }&lt;/p&gt;
&lt;p&gt;// globals&lt;br /&gt;
int initialized = 0;&lt;br /&gt;
unsigned int window_width = 640;&lt;br /&gt;
unsigned int window_height = 480;&lt;/p&gt;
&lt;p&gt;float delta = 0.01;&lt;br /&gt;
GLfloat wf, hf;&lt;/p&gt;
&lt;p&gt;//uniform names&lt;br /&gt;
const GLchar* names[] = { &amp;#8220;SurfaceColor&amp;#8221;, &amp;#8220;WarmColor&amp;#8221;, &amp;#8220;CoolColor&amp;#8221;,&lt;br /&gt;
		&amp;#8220;DiffuseWarm&amp;#8221;, &amp;#8220;DiffuseCool&amp;#8221; };&lt;br /&gt;
GLuint buffer_id, uniformBlockIndex, uindex, vshad_id, fshad_id, prog_id;&lt;/p&gt;
&lt;p&gt;GLsizei uniformBlockSize;&lt;br /&gt;
GLint singleSize;&lt;br /&gt;
GLint offset;&lt;/p&gt;
&lt;p&gt;GLfloat colors[] = { 0.45, 0.45, 1, 1, 0.45, 0.45, 1, 1, 0.75, 0.75, 0.75, 1,&lt;br /&gt;
		0.0, 0.0, 1.0, 1, 0.0, 1.0, 0.0, 1, };&lt;/p&gt;
&lt;p&gt;void reshape(int w, int h) {&lt;br /&gt;
	window_width = w;&lt;br /&gt;
	window_height = h;&lt;br /&gt;
	wf = (GLfloat) window_width;&lt;br /&gt;
	hf = (GLfloat) window_height;&lt;br /&gt;
	glMatrixMode( GL_PROJECTION);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	gluPerspective(60.0, wf / hf, 0.1, 100.0);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void init_opengl() {&lt;br /&gt;
	initialized = 1;&lt;br /&gt;
	reshape(window_width, window_height);&lt;/p&gt;
&lt;p&gt;VertexShaderSource = textFileRead(&amp;#8220;src/shader.vert&amp;#8221;);&lt;br /&gt;
	FragmentShaderSource = textFileRead(&amp;#8220;src/shader.frag&amp;#8221;);&lt;/p&gt;
&lt;p&gt;const char * VS = VertexShaderSource;&lt;br /&gt;
	const char * FS = FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;vshad_id = glCreateShader(GL_VERTEX_SHADER);&lt;br /&gt;
	glShaderSource(vshad_id, 1, &amp;amp;VS, 0);&lt;/p&gt;
&lt;p&gt;fshad_id = glCreateShader(GL_FRAGMENT_SHADER);&lt;br /&gt;
	glShaderSource(fshad_id, 1, &amp;amp;FS, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;);&lt;/p&gt;
&lt;p&gt;glCompileShader(vshad_id);&lt;br /&gt;
	glCompileShader(fshad_id);&lt;/p&gt;
&lt;p&gt;prog_id = glCreateProgram();&lt;br /&gt;
	glAttachShader(prog_id, vshad_id);&lt;br /&gt;
	glAttachShader(prog_id, fshad_id);&lt;br /&gt;
	glLinkProgram(prog_id);&lt;/p&gt;
&lt;p&gt;//Update the uniforms using ARB_uniform_buffer_object&lt;br /&gt;
	glGenBuffers(1, &amp;amp;buffer_id);&lt;/p&gt;
&lt;p&gt;//There&amp;#8217;s only one uniform block here, the &amp;#8216;colors0&amp;#8217; uniform block.&lt;br /&gt;
	//It contains the color info for the gooch shader.&lt;/p&gt;
&lt;p&gt;//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//uniformBlockIndex = glGetUniformBlockIndex(prog_id, &amp;#8220;colors0&amp;#8221;);&lt;br /&gt;
	mglGetUniformBlockIndex&lt;br /&gt;
			= (&lt;span class=&quot;caps&quot;&gt;PFNGLGETUNIFORMBLOCKINDEXPROC&lt;/span&gt;) glXGetProcAddress(&amp;#8220;glGetUniformBlockIndex&amp;#8221;);&lt;br /&gt;
	printf(&amp;#8220;mglGetUniformBlockIndex:%016p\n&amp;#8221;, mglGetUniformBlockIndex);&lt;br /&gt;
	(*mglGetUniformBlockIndex)(prog_id, &amp;#8220;colors0&amp;#8221;);&lt;/p&gt;
&lt;p&gt;//We need to get the uniform block&amp;#8217;s size in order to back it with the&lt;br /&gt;
	//appropriate buffer&lt;br /&gt;
	//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//glGetActiveUniformBlockiv(prog_id, uniformBlockIndex,GL_UNIFORM_BLOCK_DATA_SIZE, &amp;amp;uniformBlockSize);&lt;br /&gt;
	mglGetActiveUniformBlockiv = (&lt;span class=&quot;caps&quot;&gt;PFNGLGETACTIVEUNIFORMBLOCKIVPROC&lt;/span&gt;)&lt;br /&gt;
	glXGetProcAddress(&amp;#8220;glGetActiveUniformBlockiv&amp;#8221;);&lt;br /&gt;
	printf(&amp;#8220;mglGetActiveUniformBlockiv:%016p\n&amp;#8221;, mglGetActiveUniformBlockiv);&lt;br /&gt;
	(*mglGetActiveUniformBlockiv)(prog_id, uniformBlockIndex,&lt;br /&gt;
			GL_UNIFORM_BLOCK_DATA_SIZE, &amp;amp;uniformBlockSize);&lt;/p&gt;
&lt;p&gt;//glError();&lt;/p&gt;
&lt;p&gt;//Create &lt;span class=&quot;caps&quot;&gt;UBO&lt;/span&gt;.&lt;br /&gt;
	glBindBuffer(GL_UNIFORM_BUFFER, buffer_id);&lt;br /&gt;
	glBufferData(GL_UNIFORM_BUFFER, uniformBlockSize, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;, GL_DYNAMIC_DRAW);&lt;/p&gt;
&lt;p&gt;//Now we attach the buffer to &lt;span class=&quot;caps&quot;&gt;UBO&lt;/span&gt; binding point 0&amp;#8230;&lt;br /&gt;
	//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//glBindBufferBase(GL_UNIFORM_BUFFER, 0, buffer_id);&lt;br /&gt;
	mglBindBufferBase&lt;br /&gt;
			= (&lt;span class=&quot;caps&quot;&gt;PFNGLBINDBUFFERBASEPROC&lt;/span&gt;) glXGetProcAddress(&amp;#8220;glBindBufferBase&amp;#8221;);&lt;br /&gt;
	printf(&amp;#8220;mglBindBufferBase:%016p\n&amp;#8221;, mglBindBufferBase);&lt;br /&gt;
	(*mglBindBufferBase)(GL_UNIFORM_BUFFER, 0, buffer_id);&lt;/p&gt;
&lt;p&gt;//And associate the uniform block to this binding point.&lt;br /&gt;
	//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//glUniformBlockBinding(prog_id, uniformBlockIndex, 0);&lt;br /&gt;
	mglUniformBlockBinding&lt;br /&gt;
			= (&lt;span class=&quot;caps&quot;&gt;PFNGLUNIFORMBLOCKBINDINGPROC&lt;/span&gt;) glXGetProcAddress(&amp;#8220;glUniformBlockBinding&amp;#8221;);&lt;br /&gt;
	printf(&amp;#8220;mglUniformBlockBinding:%016p\n&amp;#8221;, mglUniformBlockBinding);&lt;br /&gt;
	(*mglUniformBlockBinding)(prog_id, uniformBlockIndex, 0);&lt;/p&gt;
&lt;p&gt;//glError();&lt;/p&gt;
&lt;p&gt;//To update a single uniform in a uniform block, we need to get its&lt;br /&gt;
	//offset into the buffer.&lt;br /&gt;
	//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//glGetUniformIndices(prog_id, 1, &amp;amp;names&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, &amp;amp;uindex);&lt;br /&gt;
	mglGetUniformIndices&lt;br /&gt;
			= (&lt;span class=&quot;caps&quot;&gt;PFNGLGETUNIFORMINDICESPROC&lt;/span&gt;) glXGetProcAddress(&amp;#8220;glGetUniformIndices&amp;#8221;);&lt;br /&gt;
	(*mglGetUniformIndices)(prog_id, 1, &amp;amp;names&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, &amp;amp;uindex);&lt;/p&gt;
&lt;p&gt;//&lt;span class=&quot;caps&quot;&gt;REPLACED&lt;/span&gt;:&lt;br /&gt;
	//glGetActiveUniformsiv(prog_id, 1, &amp;amp;uindex, GL_UNIFORM_OFFSET, &amp;amp;offset);&lt;br /&gt;
	//glGetActiveUniformsiv(prog_id, 1, &amp;amp;uindex, GL_UNIFORM_SIZE, &amp;amp;singleSize);&lt;br /&gt;
	mglGetActiveUniformsiv = (&lt;span class=&quot;caps&quot;&gt;PFNGLGETACTIVEUNIFORMSIVPROC&lt;/span&gt;)&lt;br /&gt;
	glXGetProcAddress(&amp;#8220;glGetActiveUniformsiv&amp;#8221;);&lt;br /&gt;
	printf(&amp;#8220;mglGetActiveUniformsiv:%016p\n&amp;#8221;, mglGetActiveUniformsiv);&lt;br /&gt;
	(&lt;strong&gt;mglGetActiveUniformsiv)(prog_id, 1, &amp;amp;uindex, GL_UNIFORM_OFFSET, &amp;amp;offset);&lt;br /&gt;
	(&lt;/strong&gt;mglGetActiveUniformsiv)(prog_id, 1, &amp;amp;uindex, GL_UNIFORM_SIZE, &amp;amp;singleSize);&lt;/p&gt;
&lt;p&gt;//glError();&lt;/p&gt;
&lt;p&gt;printf(&amp;#8220;GL_VERSION:%s\n&amp;#8221;, glGetString(GL_VERSION));&lt;br /&gt;
	glViewport(0, 0, window_width, window_height);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void render() {&lt;br /&gt;
	glClearColor(0.0, 0.0, 0.0, 0.0);&lt;br /&gt;
	glClear(GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);&lt;br /&gt;
	glUseProgram(prog_id);&lt;br /&gt;
	glEnable( GL_DEPTH_TEST);&lt;/p&gt;
&lt;p&gt;glMatrixMode( GL_MODELVIEW);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	glTranslatef(0.0, 0.0, translate_z);&lt;br /&gt;
	glRotatef(rotate_x, 1.0, 0.0, 0.0);&lt;br /&gt;
	glRotatef(rotate_y, 0.0, 1.0, 0.0);&lt;br /&gt;
	glColor3f(1.0, 1.0, 1.0);&lt;/p&gt;
&lt;p&gt;glBindBuffer(GL_UNIFORM_BUFFER, buffer_id);&lt;br /&gt;
	//We can use BufferData to upload our data to the shader,&lt;br /&gt;
	//since we know it&amp;#8217;s in the std140 layout&lt;br /&gt;
	glBufferData(GL_UNIFORM_BUFFER, 80, colors, GL_DYNAMIC_DRAW);&lt;br /&gt;
	//With a non-standard layout, we&amp;#8217;d use BufferSubData for each uniform.&lt;br /&gt;
	glBufferSubData(GL_UNIFORM_BUFFER_EXT, offset, singleSize, &amp;amp;colors&lt;sup class=&quot;footnote&quot; id=&quot;fnr8&quot;&gt;&lt;a href=&quot;#fn8&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;);&lt;br /&gt;
	//the teapot winds backwards&lt;br /&gt;
	glFrontFace( GL_CW);&lt;br /&gt;
	glutSolidTeapot(0.6);&lt;br /&gt;
	glFrontFace( GL_CCW);&lt;br /&gt;
	glutSwapBuffers();&lt;br /&gt;
	glutPostRedisplay();&lt;/p&gt;
&lt;p&gt;int nColor = 8;&lt;br /&gt;
	colors[nColor] += delta;&lt;/p&gt;
&lt;p&gt;if (colors[nColor] &amp;gt; 1.0) {&lt;br /&gt;
		delta = -0.01;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;if (colors[nColor] &amp;lt; 0.0) {&lt;br /&gt;
		delta = +0.01;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;void display() {&lt;br /&gt;
	if (!initialized) {&lt;br /&gt;
		init_opengl();&lt;br /&gt;
		initialized = 1;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;render();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void mouse(int button, int state, int x, int y) {&lt;br /&gt;
	if (state == GLUT_DOWN) {&lt;br /&gt;
		mouse_buttons |= 1 &amp;lt;&amp;lt; button;&lt;br /&gt;
	} else if (state == GLUT_UP) {&lt;br /&gt;
		mouse_buttons = 0;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;mouse_old_x = x;&lt;br /&gt;
	mouse_old_y = y;&lt;br /&gt;
	glutPostRedisplay();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void motion(int x, int y) {&lt;br /&gt;
	float dx, dy;&lt;br /&gt;
	dx = x &amp;#8211; mouse_old_x;&lt;br /&gt;
	dy = y &amp;#8211; mouse_old_y;&lt;/p&gt;
&lt;p&gt;if (mouse_buttons &amp;amp; 1) {&lt;br /&gt;
		rotate_x += dy * 0.2;&lt;br /&gt;
		rotate_y += dx * 0.2;&lt;br /&gt;
	} else if (mouse_buttons &amp;amp; 4) {&lt;br /&gt;
		translate_z += dy * 0.01;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;mouse_old_x = x;&lt;br /&gt;
	mouse_old_y = y;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void initGlut(int argc, char** argv) {&lt;/p&gt;
&lt;p&gt;// Create GL context&lt;br /&gt;
	glutInit(&amp;amp;argc, argv);&lt;br /&gt;
	glutInitContextVersion(3, 1);&lt;br /&gt;
	//glutInitContextFlags(GLUT_DEBUG);&lt;/p&gt;
&lt;p&gt;glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE);&lt;br /&gt;
	glutInitWindowSize(window_width, window_height);&lt;br /&gt;
	glutCreateWindow(&amp;#8220;&lt;span class=&quot;caps&quot;&gt;UBO&lt;/span&gt; Example&amp;#8221;);&lt;br /&gt;
	init_opengl();&lt;/p&gt;
&lt;p&gt;// register callbacks&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	//glutKeyboardFunc( keyboard);&lt;br /&gt;
	glutMouseFunc(mouse);&lt;br /&gt;
	glutMotionFunc(motion);&lt;/p&gt;
&lt;p&gt;glutMainLoop();&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;int main(int argc, char** argv) {&lt;br /&gt;
	initGlut(argc, argv);&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader.frag:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#extension GL_ARB_uniform_buffer_object : enable&lt;/p&gt;
&lt;p&gt;layout(std140) uniform colors0&lt;br /&gt;
{&lt;br /&gt;
    float DiffuseCool;&lt;br /&gt;
    float DiffuseWarm;&lt;br /&gt;
    vec3  SurfaceColor;&lt;br /&gt;
    vec3  WarmColor;&lt;br /&gt;
    vec3  CoolColor;&lt;br /&gt;
};&lt;/p&gt;
&lt;p&gt;varying float NdotL;&lt;br /&gt;
varying vec3  ReflectVec;&lt;br /&gt;
varying vec3  ViewVec;&lt;/p&gt;
&lt;p&gt;void main (void)&lt;br /&gt;
{&lt;/p&gt;
vec3 kcool    = min(CoolColor + DiffuseCool * SurfaceColor, 1.0);
vec3 kwarm    = min(WarmColor + DiffuseWarm * SurfaceColor, 1.0);
vec3 kfinal   = mix(kcool, kwarm, NdotL);
vec3 nreflect = normalize(ReflectVec);
vec3 nview    = normalize(ViewVec);
float spec    = max(dot(nreflect, nview), 0.0);
spec          = pow(spec, 32.0);
gl_FragColor = vec4 (min(kfinal + spec, 1.0), 1.0);
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader.vert:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
vec3 LightPosition = vec3(0.0, 10.0, 4.0);&lt;/p&gt;
&lt;p&gt;varying float NdotL;&lt;br /&gt;
varying vec3  ReflectVec;&lt;br /&gt;
varying vec3  ViewVec;&lt;/p&gt;
&lt;p&gt;void main(void)&lt;br /&gt;
{&lt;br /&gt;
    vec3 ecPos      = vec3 (gl_ModelViewMatrix * gl_Vertex);&lt;br /&gt;
    vec3 tnorm      = normalize(gl_NormalMatrix * gl_Normal);&lt;br /&gt;
    vec3 lightVec   = normalize(LightPosition &amp;#8211; ecPos);&lt;br /&gt;
    ReflectVec      = normalize(reflect(-lightVec, tnorm));&lt;br /&gt;
    ViewVec         = normalize(-ecPos);&lt;br /&gt;
    NdotL           = (dot(lightVec, tnorm) + 1.0) * 0.5;&lt;br /&gt;
    gl_Position     = ftransform();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &lt;malloc.h&gt;&lt;br /&gt;
#include &lt;fcntl.h&gt;&lt;br /&gt;
#include &lt;string.h&gt;&lt;br /&gt;
#include &amp;lt;sys/types.h&amp;gt;&lt;br /&gt;
#include &lt;unistd.h&gt;&lt;/p&gt;
&lt;p&gt;char *textFileRead(char *fn) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	char *content = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;int f,count;&lt;br /&gt;
	f = open(fn, O_RDONLY);&lt;/p&gt;
&lt;p&gt;count = lseek(f, 0, SEEK_END);&lt;/p&gt;
&lt;p&gt;close(f);&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;rt&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (count &amp;gt; 0) {&lt;br /&gt;
				content = (char *)malloc(sizeof(char) * (count+1));&lt;br /&gt;
				count = fread(content,sizeof(char),count,fp);&lt;br /&gt;
				content[count] = &amp;#8216;\0&amp;#8217;;&lt;br /&gt;
			}&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return content;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int textFileWrite(char *fn, char *s) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	int status = 0;&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;w&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (fwrite(s,sizeof(char),strlen(s),fp) == strlen(s))&lt;br /&gt;
				status = 1;&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return(status);&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.h:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
char *textFileRead(char *fn);&lt;br /&gt;
int textFileWrite(char *fn, char *s);&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenGL TBO's - Texture Buffer Objects</title>
   <link href="http://www.jotschi.de/uncategorized/2009/11/29/opengl-tbos-texture-buffer-objects.html"/>
   <updated>2009-11-29T00:20:02+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/11/29/opengl-tbos-texture-buffer-objects</id>
   <content type="html">&lt;p&gt;This example will create a texture buffer object which is usable via glsl within the fragment shader (samplerBuffer uniform). The shader accesses the texel of the buffer object to alternate the fragment color. You can update the tbo by pressing &amp;#8216;a&amp;#8217;.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-424&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GLSLTextureBufferObjectExample.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;stdlib.h&gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &lt;string.h&gt;&lt;br /&gt;
#include &lt;math.h&gt;&lt;br /&gt;
#include &amp;#8220;textfile.h&amp;#8221;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &amp;lt;GL/glew.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glut.h&amp;gt;&lt;/p&gt;
&lt;p&gt;typedef float float4&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;const unsigned int window_width = 512;&lt;br /&gt;
const unsigned int window_height = 512;&lt;/p&gt;
&lt;p&gt;#define texture_height 256&lt;br /&gt;
#define texture_width 256&lt;/p&gt;
&lt;p&gt;char *VertexShaderSource, *FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;float4* p;&lt;br /&gt;
GLuint tbo;&lt;br /&gt;
float anim = 0.0;&lt;/p&gt;
&lt;p&gt;// mouse controls&lt;br /&gt;
int mouse_old_x, mouse_old_y;&lt;br /&gt;
int mouse_buttons = 0;&lt;br /&gt;
float rotate_x = 0.0, rotate_y = 0.0;&lt;br /&gt;
float translate_z = -2.0;&lt;/p&gt;
&lt;p&gt;// vertex Shader&lt;br /&gt;
GLuint vertexShader;&lt;br /&gt;
GLuint fragmentShader;&lt;br /&gt;
GLuint shaderProgram;&lt;br /&gt;
GLuint vs_tboSampler;&lt;/p&gt;
&lt;p&gt;//texture&lt;br /&gt;
GLuint displacementTex;&lt;/p&gt;
&lt;p&gt;// declaration, forward&lt;br /&gt;
void runTest(int argc, char** argv);&lt;/p&gt;
&lt;p&gt;// GL functionality&lt;br /&gt;
int initGL();&lt;br /&gt;
void initShader();&lt;br /&gt;
void createTBO(GLuint* tbo, GLuint* tex);&lt;br /&gt;
void deleteTBO(GLuint* tbo);&lt;br /&gt;
void setShaderUniforms();&lt;/p&gt;
&lt;p&gt;void setTextureBufferData(float f);&lt;/p&gt;
&lt;p&gt;// rendering callbacks&lt;br /&gt;
void display();&lt;br /&gt;
void keyboard(unsigned char key, int x, int y);&lt;br /&gt;
void mouse(int button, int state, int x, int y);&lt;br /&gt;
void motion(int x, int y);&lt;/p&gt;
&lt;p&gt;int main(int argc, char** argv) {&lt;br /&gt;
	runTest(argc, argv);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void runTest(int argc, char** argv) {&lt;/p&gt;
&lt;p&gt;// Create GL context&lt;br /&gt;
	glutInit(&amp;amp;argc, argv);&lt;br /&gt;
	glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE);&lt;br /&gt;
	glutInitWindowSize(window_width, window_height);&lt;br /&gt;
	glutCreateWindow(&amp;#8220;&lt;span class=&quot;caps&quot;&gt;TBO&lt;/span&gt; GL3 &lt;span class=&quot;caps&quot;&gt;ATI&lt;/span&gt; Example&amp;#8221;);&lt;/p&gt;
&lt;p&gt;// initialize GL&lt;br /&gt;
	if (false == initGL()) {&lt;br /&gt;
		return;&lt;br /&gt;
	}&lt;br /&gt;
	initShader();&lt;/p&gt;
&lt;p&gt;// register callbacks&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	glutKeyboardFunc(keyboard);&lt;br /&gt;
	glutMouseFunc(mouse);&lt;br /&gt;
	glutMotionFunc(motion);&lt;/p&gt;
&lt;p&gt;// create &lt;span class=&quot;caps&quot;&gt;TBO&lt;/span&gt;&lt;br /&gt;
	createTBO(&amp;amp;tbo, &amp;amp;displacementTex);&lt;/p&gt;
&lt;p&gt;setTextureBufferData(0.9f);&lt;/p&gt;
&lt;p&gt;//set shader uniforms&lt;br /&gt;
	setShaderUniforms();&lt;/p&gt;
&lt;p&gt;// start rendering mainloop&lt;br /&gt;
	glutMainLoop();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int initGL() {&lt;br /&gt;
	// initialize necessary OpenGL extensions&lt;br /&gt;
	glewInit();&lt;br /&gt;
	if (!glewIsSupported(&amp;quot;GL_VERSION_2_0 &amp;quot;&lt;br /&gt;
		&amp;#8220;GL_ARB_pixel_buffer_object&amp;#8221;)) {&lt;br /&gt;
		fprintf(stderr,&lt;br /&gt;
				&amp;#8220;&lt;span class=&quot;caps&quot;&gt;ERROR&lt;/span&gt;: Support for necessary OpenGL extensions missing.&amp;#8221;);&lt;br /&gt;
		fflush(stderr);&lt;br /&gt;
		return false;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;// default initialization&lt;br /&gt;
	glClearColor(0.0, 0.0, 0.0, 1.0);&lt;br /&gt;
	glDisable(GL_DEPTH_TEST);&lt;/p&gt;
&lt;p&gt;// viewport&lt;br /&gt;
	glViewport(0, 0, window_width, window_height);&lt;/p&gt;
&lt;p&gt;// projection&lt;br /&gt;
	glMatrixMode(GL_PROJECTION);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	gluPerspective(60.0, (GLfloat) window_width / (GLfloat) window_height, 0.1,&lt;br /&gt;
			10.0);&lt;/p&gt;
&lt;p&gt;return true;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void initShader() {&lt;/p&gt;
&lt;p&gt;VertexShaderSource = textFileRead(&amp;#8220;src/shader.vert&amp;#8221;);&lt;br /&gt;
	FragmentShaderSource = textFileRead(&amp;#8220;src/shader.frag&amp;#8221;);&lt;/p&gt;
&lt;p&gt;const char * VS = VertexShaderSource;&lt;br /&gt;
	const char * FS = FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;vertexShader = glCreateShader(GL_VERTEX_SHADER);&lt;br /&gt;
	glShaderSource(vertexShader, 1, &amp;amp;VS, 0);&lt;/p&gt;
&lt;p&gt;fragmentShader = glCreateShader(GL_FRAGMENT_SHADER);&lt;br /&gt;
	glShaderSource(fragmentShader, 1, &amp;amp;FS, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;);&lt;/p&gt;
&lt;p&gt;glCompileShader(vertexShader);&lt;br /&gt;
	glCompileShader(fragmentShader);&lt;/p&gt;
&lt;p&gt;shaderProgram = glCreateProgram();&lt;br /&gt;
	glAttachShader(shaderProgram, vertexShader);&lt;br /&gt;
	glAttachShader(shaderProgram, fragmentShader);&lt;br /&gt;
	glLinkProgram(shaderProgram);&lt;/p&gt;
&lt;p&gt;// check for errors&lt;br /&gt;
	GLint status;&lt;br /&gt;
	glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &amp;amp;status);&lt;br /&gt;
	if (status == GL_FALSE) {&lt;br /&gt;
		printf(&amp;#8220;&lt;span class=&quot;caps&quot;&gt;ERROR&lt;/span&gt;: Shader Compilation Error\n&amp;#8221;);&lt;br /&gt;
		char data&lt;sup class=&quot;footnote&quot; id=&quot;fnr1024&quot;&gt;&lt;a href=&quot;#fn1024&quot;&gt;1024&lt;/a&gt;&lt;/sup&gt;;&lt;br /&gt;
		int len;&lt;br /&gt;
		glGetShaderInfoLog(vertexShader, 1024, &amp;amp;len, data);&lt;br /&gt;
		printf(&amp;#8220;%s&amp;#8221;, data);&lt;br /&gt;
	}&lt;br /&gt;
	glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;amp;status);&lt;br /&gt;
	if (status == GL_FALSE) {&lt;br /&gt;
		printf(&amp;#8220;&lt;span class=&quot;caps&quot;&gt;ERROR&lt;/span&gt;: Shader Program Link Error\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;// get shader variables&lt;br /&gt;
	vs_tboSampler = glGetUniformLocation(shaderProgram, &amp;#8220;tboSampler&amp;#8221;);&lt;/p&gt;
&lt;p&gt;//use shader and set the displacement map&lt;br /&gt;
	glUseProgram(shaderProgram);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void createTBO(GLuint* tbo, GLuint* tex) {&lt;br /&gt;
	// create buffer object&lt;br /&gt;
	glGenBuffers(1, tbo);&lt;br /&gt;
	glBindBuffer(GL_TEXTURE_BUFFER_EXT, *tbo);&lt;/p&gt;
&lt;p&gt;// initialize buffer object&lt;br /&gt;
	unsigned int size = texture_width * texture_height * 4 * sizeof(float);&lt;br /&gt;
	glBufferData(GL_TEXTURE_BUFFER_EXT, size, 0, GL_DYNAMIC_DRAW);&lt;/p&gt;
&lt;p&gt;//tex&lt;br /&gt;
	glGenTextures(1, tex);&lt;br /&gt;
	glBindTexture(GL_TEXTURE_BUFFER_EXT, *tex);&lt;br /&gt;
	glTexBufferEXT(GL_TEXTURE_BUFFER_EXT, GL_RGBA32F_ARB, *tbo);&lt;br /&gt;
	glBindBuffer(GL_TEXTURE_BUFFER_EXT, 0);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;void deleteTBO(GLuint* tbo) {&lt;br /&gt;
	glBindBuffer(1, *tbo);&lt;br /&gt;
	glDeleteBuffers(1, tbo);&lt;br /&gt;
	*tbo = 0;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void setShaderUniforms() {&lt;br /&gt;
	glActiveTexture(GL_TEXTURE0);&lt;br /&gt;
	glBindTexture(GL_TEXTURE_BUFFER_EXT, displacementTex);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void setTextureBufferData(float f) {&lt;br /&gt;
	glBindBuffer(GL_TEXTURE_BUFFER_EXT, tbo);&lt;br /&gt;
	p = (float4*) glMapBuffer(GL_TEXTURE_BUFFER_EXT, GL_WRITE_ONLY);&lt;/p&gt;
&lt;p&gt;for (int u = 0; u &amp;lt; texture_height; u++) {&lt;br /&gt;
		for (int v = 0; v &amp;lt; texture_width; v++) {&lt;br /&gt;
			float d =f;&lt;br /&gt;
			//printf(&amp;quot;P[%i][%i] = %f\n &amp;quot;,u,v,f);&lt;br /&gt;
			if (u == 125 &amp;amp;&amp;amp; v == 125) {&lt;br /&gt;
				d= 0.325;&lt;br /&gt;
			}&lt;br /&gt;
			p[u + (v * texture_width)]&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; = ((float) d);&lt;/p&gt;
&lt;p&gt;p[u + (v * texture_width)]&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; = ((float) v / texture_width) * 2 &amp;#8211; (1.0);&lt;br /&gt;
			p[u + (v * texture_width)]&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; = 0.0f;&lt;br /&gt;
			p[u + (v * texture_width)]&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; = 1.0f;&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	glUnmapBuffer(GL_TEXTURE_BUFFER_EXT);&lt;br /&gt;
	glBindBuffer(GL_TEXTURE_BUFFER_EXT, 0);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;void display() {&lt;/p&gt;
&lt;p&gt;glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);&lt;/p&gt;
&lt;p&gt;// set view matrix&lt;br /&gt;
	glMatrixMode(GL_MODELVIEW);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	glTranslatef(0.0, 0.0, translate_z);&lt;br /&gt;
	glRotatef(rotate_x, 1.0, 0.0, 0.0);&lt;br /&gt;
	glRotatef(rotate_y, 0.0, 1.0, 0.0);&lt;/p&gt;
&lt;p&gt;glMatrixMode(GL_MODELVIEW);&lt;/p&gt;
&lt;p&gt;glBegin(GL_QUADS);&lt;br /&gt;
	glTexCoord2f(0.0, 0.0);&lt;br /&gt;
	glVertex3f(-2.0, -1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(0.0, 3.0);&lt;br /&gt;
	glVertex3f(-2.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 3.0);&lt;br /&gt;
	glVertex3f(0.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 0.0);&lt;br /&gt;
	glVertex3f(0.0, -1.0, 0.0);&lt;/p&gt;
&lt;p&gt;glTexCoord2f(0.0, 0.0);&lt;br /&gt;
	glVertex3f(1.0, -1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(0.0, 3.0);&lt;br /&gt;
	glVertex3f(1.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 3.0);&lt;br /&gt;
	glVertex3f(2.41421, 1.0, -1.41421);&lt;br /&gt;
	glTexCoord2f(3.0, 0.0);&lt;br /&gt;
	glVertex3f(2.41421, -1.0, -1.41421);&lt;br /&gt;
	glEnd();&lt;br /&gt;
	glFlush();&lt;/p&gt;
&lt;p&gt;glutSwapBuffers();&lt;br /&gt;
	glutPostRedisplay();&lt;/p&gt;
&lt;p&gt;anim += 0.01;&lt;br /&gt;
	//printf(&amp;#8220;Anim: %f\n&amp;#8221;, anim);&lt;/p&gt;
&lt;p&gt;if (anim &amp;gt; 1.0) {&lt;br /&gt;
		anim = 0.0f;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;void keyboard(unsigned char key, int /&lt;strong&gt;x&lt;/strong&gt;/, int /&lt;strong&gt;y&lt;/strong&gt;/) {&lt;br /&gt;
	switch (key) {&lt;br /&gt;
	case (27):&lt;br /&gt;
		deleteTBO(&amp;amp;tbo);&lt;br /&gt;
		exit(0);&lt;br /&gt;
	case (97):&lt;br /&gt;
		setTextureBufferData(anim);&lt;br /&gt;
		break;&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void mouse(int button, int state, int x, int y) {&lt;br /&gt;
	if (state == GLUT_DOWN) {&lt;br /&gt;
		mouse_buttons |= 1 &amp;lt;&amp;lt; button;&lt;br /&gt;
	} else if (state == GLUT_UP) {&lt;br /&gt;
		mouse_buttons = 0;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;mouse_old_x = x;&lt;br /&gt;
	mouse_old_y = y;&lt;br /&gt;
	glutPostRedisplay();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void motion(int x, int y) {&lt;br /&gt;
	float dx, dy;&lt;br /&gt;
	dx = x &amp;#8211; mouse_old_x;&lt;br /&gt;
	dy = y &amp;#8211; mouse_old_y;&lt;/p&gt;
&lt;p&gt;if (mouse_buttons &amp;amp; 1) {&lt;br /&gt;
		rotate_x += dy * 0.2;&lt;br /&gt;
		rotate_y += dx * 0.2;&lt;br /&gt;
	} else if (mouse_buttons &amp;amp; 4) {&lt;br /&gt;
		translate_z += dy * 0.01;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;mouse_old_x = x;&lt;br /&gt;
	mouse_old_y = y;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &lt;malloc.h&gt;&lt;br /&gt;
#include &lt;fcntl.h&gt;&lt;br /&gt;
#include &lt;string.h&gt;&lt;br /&gt;
#include &amp;lt;sys/types.h&amp;gt;&lt;br /&gt;
#include &lt;unistd.h&gt;&lt;/p&gt;
&lt;p&gt;char *textFileRead(char *fn) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	char *content = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;int f,count;&lt;br /&gt;
	f = open(fn, O_RDONLY);&lt;/p&gt;
&lt;p&gt;count = lseek(f, 0, SEEK_END);&lt;/p&gt;
&lt;p&gt;close(f);&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;rt&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (count &amp;gt; 0) {&lt;br /&gt;
				content = (char *)malloc(sizeof(char) * (count+1));&lt;br /&gt;
				count = fread(content,sizeof(char),count,fp);&lt;br /&gt;
				content[count] = &amp;#8216;\0&amp;#8217;;&lt;br /&gt;
			}&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return content;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int textFileWrite(char *fn, char *s) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	int status = 0;&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;w&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (fwrite(s,sizeof(char),strlen(s),fp) == strlen(s))&lt;br /&gt;
				status = 1;&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return(status);&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.h:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
char *textFileRead(char *fn);&lt;br /&gt;
int textFileWrite(char *fn, char *s);&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader.frag:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#extension EXT_gpu_shader4 : enable&lt;br /&gt;
uniform samplerBuffer tboSampler;&lt;/p&gt;
&lt;p&gt;float texelFetch(ivec2 coords)&lt;br /&gt;
{&lt;br /&gt;
	int width = int( sqrt(textureSizeBuffer(tboSampler)));&lt;br /&gt;
	float pixel = texelFetchBuffer(tboSampler, int((coords.x*width)+coords.y)).r;&lt;br /&gt;
	return pixel;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void main() {&lt;/p&gt;
&lt;p&gt;float pixel = texelFetch(ivec2(124,125));&lt;/p&gt;
&lt;p&gt;/*&lt;br /&gt;
	if( pixel == 0.325 ) {&lt;br /&gt;
		gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);&lt;br /&gt;
	}&lt;br /&gt;
	else {&lt;br /&gt;
  		gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0);&lt;br /&gt;
  	}&lt;br /&gt;
	*/&lt;/p&gt;
&lt;p&gt;vec4 color = vec4(pixel,0.5,0.2,0.1);&lt;br /&gt;
	gl_FragColor = color;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader.vert:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
void main()																	&lt;br /&gt;
{																			&lt;br /&gt;
   gl_Position = ftransform();                                                &lt;br /&gt;
   gl_FrontColor = vec4(0.0, 1.0, 1.0, 0.0);									&lt;br /&gt;
}																				 &lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenSceneGraph osg::Image - getting a subimage from an image.</title>
   <link href="http://www.jotschi.de/technik/2009/10/18/openscenegraph-osgimage-getting-a-subimage-from-an-image.html"/>
   <updated>2009-10-18T16:49:03+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/10/18/openscenegraph-osgimage-getting-a-subimage-from-an-image</id>
   <content type="html">&lt;p&gt;Here is my small method in which i create a new osg::image that contains only the pixels that are within my specified area of interest.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-414&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
osg::Image* getSubImage(osg::Image* sourceImage, int startX, int startY,int stopX, int stopY) {&lt;/p&gt;
&lt;p&gt;int subImageWidth = stopX &amp;#8211; startX;&lt;br /&gt;
	int subImageHeight = stopY &amp;#8211; startY;&lt;br /&gt;
	if(subImageWidth&amp;lt;=0 || subImageHeight&amp;lt;=0)&lt;br /&gt;
	{&lt;br /&gt;
		osg::notify(osg::&lt;span class=&quot;caps&quot;&gt;ALWAYS&lt;/span&gt;) &amp;lt;&amp;lt; &amp;quot;Error the subimage size is not correct. Aborting.&amp;quot;;&lt;br /&gt;
		return &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;std::cout &amp;lt;&amp;lt; &amp;quot;Size: &amp;quot; &amp;lt;&amp;lt; sourceImage-&amp;gt;s() &amp;lt;&amp;lt; &amp;quot;x&amp;quot; &amp;lt;&amp;lt; sourceImage-&amp;gt;s()&lt;br /&gt;
			&amp;lt;&amp;lt; std::endl;&lt;br /&gt;
	std::cout &amp;lt;&amp;lt; &amp;quot;SubImageSize: &amp;quot; &amp;lt;&amp;lt; subImageWidth &amp;lt;&amp;lt; &amp;quot;x&amp;quot; &amp;lt;&amp;lt; subImageHeight&lt;br /&gt;
			&amp;lt;&amp;lt; std::endl;&lt;br /&gt;
	std::cout &amp;lt;&amp;lt; &amp;quot;Channels: &amp;quot; &amp;lt;&amp;lt; sourceImage-&amp;gt;r() &amp;lt;&amp;lt; std::endl;&lt;br /&gt;
	const unsigned char *sourceData = sourceImage-&amp;gt;data();&lt;br /&gt;
	struct pixelStruct {&lt;br /&gt;
		unsigned char r, g, b;&lt;br /&gt;
	};&lt;/p&gt;
&lt;p&gt;osg::Image* subImage = new osg::Image();&lt;/p&gt;
&lt;p&gt;// allocate memory for image data&lt;br /&gt;
	const unsigned char *targetData = new unsigned char[subImageWidth&lt;br /&gt;
			* subImageHeight * 3];&lt;/p&gt;
&lt;p&gt;struct pixelStruct* pPixelSource = (struct pixelStruct &lt;strong&gt;) (sourceData);&lt;br /&gt;
	struct pixelStruct&lt;/strong&gt; pPixelTarget = (struct pixelStruct &lt;strong&gt;) (targetData);&lt;br /&gt;
	struct pixelStruct&lt;/strong&gt; pCurrentPixelSource = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
	struct pixelStruct* pCurrentPixelTarget = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;int subX = 0;&lt;br /&gt;
	int subY = 0;&lt;br /&gt;
	for (int x = startX; x &amp;lt; stopX; x++) {&lt;br /&gt;
		for (int y = startY; y &amp;lt; stopY; y++) {&lt;/p&gt;
&lt;p&gt;std::cout &amp;lt;&amp;lt; &amp;quot;Source Pixel [&amp;quot; &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;quot;][&amp;quot; &amp;lt;&amp;lt; y &amp;lt;&amp;lt; &amp;quot;]&amp;quot; &amp;lt;&amp;lt; std::endl;&lt;br /&gt;
			std::cout &amp;lt;&amp;lt; &amp;quot;Target Pixel [&amp;quot; &amp;lt;&amp;lt; subX &amp;lt;&amp;lt; &amp;quot;][&amp;quot; &amp;lt;&amp;lt; subY &amp;lt;&amp;lt; &amp;quot;]&amp;quot;&lt;br /&gt;
					&amp;lt;&amp;lt; std::endl;&lt;br /&gt;
			pCurrentPixelSource = &amp;amp;pPixelSource[y * sourceImage-&amp;gt;s() + x];&lt;br /&gt;
			pCurrentPixelTarget = &amp;amp;pPixelTarget[subY * subImageWidth + subX];&lt;/p&gt;
&lt;p&gt;pCurrentPixelTarget-&amp;gt;r = pCurrentPixelSource-&amp;gt;r;&lt;br /&gt;
			pCurrentPixelTarget-&amp;gt;g = pCurrentPixelSource-&amp;gt;g;&lt;br /&gt;
			pCurrentPixelTarget-&amp;gt;b = pCurrentPixelSource-&amp;gt;b;&lt;/p&gt;
&lt;p&gt;subY++;&lt;br /&gt;
		}&lt;br /&gt;
		subY=0;&lt;br /&gt;
		subX++;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;subImage-&amp;gt;setImage(subImageWidth, subImageHeight, sourceImage-&amp;gt;r(),&lt;br /&gt;
			sourceImage-&amp;gt;getInternalTextureFormat(),&lt;br /&gt;
			sourceImage-&amp;gt;getPixelFormat(), 5121, (unsigned char*) targetData,&lt;br /&gt;
			osg::Image::NO_DELETE);&lt;/p&gt;
&lt;p&gt;return subImage;&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ESA Television FTP Site</title>
   <link href="http://www.jotschi.de/uncategorized/2009/10/16/esa-television-ftp-site.html"/>
   <updated>2009-10-16T19:30:01+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/10/16/esa-television-ftp-site</id>
   <content type="html">&lt;p&gt;While searching fore &lt;span class=&quot;caps&quot;&gt;ESA&lt;/span&gt; TV is stumbled over the ftp site mentioned here:&lt;br /&gt;
&lt;a href=&quot;http://television.esa.int/default.cfm&quot;&gt;http://television.esa.int/default.cfm&lt;/a&gt;&lt;br /&gt;
It contains tons of interesting &lt;span class=&quot;caps&quot;&gt;ESA&lt;/span&gt; film footage/clips.  :)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>SED - AWK - Replace Section Within File</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2009/10/10/sed-awk-replace-section-within-file.html"/>
   <updated>2009-10-10T14:01:05+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2009/10/10/sed-awk-replace-section-within-file</id>
   <content type="html">&lt;p&gt;Here is how to replace a multiline text between two tags or lines of text with awk or sed.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-409&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;File: &amp;#8216;test&amp;#8217;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
###START
1
2
###STOP
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;SED&lt;/span&gt;:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped bash&quot;&gt;
sed  -i -e &amp;quot;/^##START\$/,/^##STOP\$/c ##START\n${REPLACEMENT}\n##STOP&amp;quot; test
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;AWK&lt;/span&gt;: &lt;br /&gt;
&lt;pre class=&quot;syntax escaped bash&quot;&gt;
awk &amp;quot;/##START/{p=1;print\&amp;quot;###START\n${REPLACEMENT}\n###STOP\&amp;quot;;next}/##STOP/{p=0;next}!p&amp;quot; test.tmp &amp;gt; test
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Note: test must be copied to test.tmp before replacement can be done.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Dynamic ShadowMaps revisited</title>
   <link href="http://www.jotschi.de/uncategorized/2009/10/09/dynamic-shadowmaps-revisited.html"/>
   <updated>2009-10-09T09:32:38+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/10/09/dynamic-shadowmaps-revisited</id>
   <content type="html">&lt;p&gt;Shadow Maps have one big disadvantage. Using low resolution shadow maps can result in pixelated shadows.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-372&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1024&amp;#215;1024 Shadow Map:&lt;br /&gt;
&lt;img src=&quot;/images/shadowmaps/1024_shadowmap.png&quot; alt=&quot;1024_shadowmap&quot; title=&quot;1024_shadowmap&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignleft size-full wp-image-371&quot; /&gt;&lt;/p&gt;
&lt;p&gt;512&amp;#215;512 Shadow Map:&lt;br /&gt;
&lt;img src=&quot;/images/shadowmaps/512_shadowmap.png&quot; alt=&quot;512_shadowmap&quot; title=&quot;512_shadowmap&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignleft size-full wp-image-369&quot; /&gt;&lt;/p&gt;
&lt;p&gt;512&amp;#215;512 Shadow Map with an narrow view angle of the shadow map view:&lt;br /&gt;
&lt;img src=&quot;/images/shadowmaps/512_shadowmap_narrow.png&quot; alt=&quot;512_shadowmap_narrow&quot; title=&quot;512_shadowmap_narrow&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignleft size-full wp-image-370&quot; /&gt;&lt;/p&gt;
&lt;p&gt;You can also mix two shadow maps. Here i mixed a 512&amp;#215;512 shadow map with a 1024&amp;#215;1024 shadow map:&lt;br /&gt;
&lt;img src=&quot;/images/shadowmaps/512_1024_split_shadowmap.png&quot; alt=&quot;512_1024_split_shadowmap&quot; title=&quot;512_1024_split_shadowmap&quot; width=&quot;640&quot; height=&quot;480&quot; class=&quot;alignleft size-full wp-image-368&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The scene contained two light sources which casted two shadows &amp;#8211; the left one and the right one.&lt;br /&gt;
&lt;img src=&quot;/images/shadowmaps/shadow_scene.png&quot; alt=&quot;shadow_scene&quot; title=&quot;shadow_scene&quot; width=&quot;640&quot; height=&quot;399&quot; class=&quot;alignleft size-full wp-image-376&quot; /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Texture Array Example And Clamp to Border Ati Issue Example</title>
   <link href="http://www.jotschi.de/technik/gfx/2009/10/08/texture-array-example-and-clamp-to-border-ati-issue-example.html"/>
   <updated>2009-10-08T22:00:39+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2009/10/08/texture-array-example-and-clamp-to-border-ati-issue-example</id>
   <content type="html">&lt;p&gt;This example covers the usage of texture arrays within opengl. Although the main purpose of this example is to show that ati cards do not support CLAMP_TO_BORDER when using TEXTURE_2D_ARRAY&amp;#8217;s it might also be interessting for someone who want&amp;#8217;s to know how to set a texture uniform (sampler2d) or (sampler2darray).&lt;/p&gt;
&lt;p&gt;The specification for texture arrays can be found here: &lt;a href=&quot;http://developer.download.nvidia.com/opengl/specs/GL_EXT_texture_array.txt&quot;&gt;http://developer.download.nvidia.com/opengl/specs/GL_EXT_texture_array.txt&lt;/a&gt;. This extension is also supported by the newest ati cards. Screenshots were taken by using the example with an ati 4850 card and the latest drivers.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-396&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Update &amp;#8211; Note: &lt;/b&gt; &lt;br /&gt;
Compile with:&lt;br /&gt;
&lt;blockquote&gt;g++ -Wall -lglut -lGL -lGLUW -o ExampleProg Simple_ATI_TEXTURE_2D_ARRAY_Example.cpp&lt;/blockquote&gt;&lt;br /&gt;
Get sources and libs:&lt;br /&gt;
&lt;blockquote&gt;apt-get install libglut3 libglut3-dev libglew1.5 libglew1.5-dev&lt;/blockquote&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Update:&lt;/b&gt;&lt;br /&gt;
I just developed an workaround for this issue by adding clamp to border by myself to the shader:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#extension GL_EXT_gpu_shader4 : enable&lt;/p&gt;
&lt;p&gt;uniform sampler2DArray base_texture;&lt;br /&gt;
varying vec2 texCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;/p&gt;
&lt;p&gt;vec4 borderColor =vec4(0.1,0.7,0.2,0.1);&lt;br /&gt;
		if(texCoord.s&amp;lt;1 &amp;amp;&amp;amp; texCoord.s &amp;gt;0 &amp;amp;&amp;amp; texCoord.t &amp;lt;1 &amp;amp;&amp;amp; texCoord.t &amp;gt;0)&lt;br /&gt;
		{&lt;br /&gt;
			borderColor		= texture2DArray(base_texture, vec3(texCoord.st,1));&lt;br /&gt;
		}&lt;br /&gt;
		gl_FragColor = borderColor;&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class=&quot;caps&quot;&gt;NOARRAY&lt;/span&gt; &amp;#8211; not definied&lt;/strong&gt;&lt;br /&gt;
The example will use GL_TEXTURE_2D_ARRAY as source for texturing and a fragment shader that defines a sampler2DArray uniform:&lt;br /&gt;
&lt;img src=&quot;/images/opengl/GL_TEXTURE_2D_ARRAY_CLAMP_TO_BORDER-ATI.png&quot; alt=&quot;GL_TEXTURE_2D_ARRAY_CLAMP_TO_BORDER-ATI&quot; title=&quot;GL_TEXTURE_2D_ARRAY_CLAMP_TO_BORDER-ATI&quot; width=&quot;412&quot; height=&quot;327&quot; class=&quot;alignnone size-full wp-image-397&quot; /&gt;&lt;br /&gt;
The texture is not clamped to the border even if the CLAMP_TO_BORDER attribute has been set.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class=&quot;caps&quot;&gt;NOARRAY&lt;/span&gt; &amp;#8211; definied&lt;/strong&gt;&lt;br /&gt;
The example will use GL_TEXTURE_2D as source for texturing and a fragment shader that defines a sampler2D uniform:&lt;br /&gt;
&lt;img src=&quot;/images/opengl/GL_TEXTURE_2D_CLAMP_TO_BORDER-ATI.png&quot; alt=&quot;GL_TEXTURE_2D_CLAMP_TO_BORDER-ATI&quot; title=&quot;GL_TEXTURE_2D_CLAMP_TO_BORDER-ATI&quot; width=&quot;392&quot; height=&quot;292&quot; class=&quot;alignnone size-full wp-image-398&quot; /&gt;&lt;br /&gt;
As you can see clamp to border works like a charm. I changed the border color to make the clamp effect clearly visible:&lt;/p&gt;
&lt;p&gt;Download the complete example sources: &lt;a href=&quot;/downloads/opengl/opengl_texture_array_glsl_example.tgz&quot;&gt;opengl_texture_array_glsl_example.tgz&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader_array.frag:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
uniform sampler2DArray base_texture;&lt;br /&gt;
varying vec2 texCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;br /&gt;
		vec4 color = vec4(1.0,0.5,0.2,0.1);&lt;br /&gt;
		vec4 base_color		= texture2DArray(base_texture, vec3(texCoord.st*vec2(0.5,1.5), 0));&lt;br /&gt;
		gl_FragColor = color * base_color;&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader_simple.frag:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
uniform sampler2D base_texture;&lt;br /&gt;
varying vec2 texCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;br /&gt;
		vec4 color = vec4(1.0,0.5,0.2,0.1);&lt;br /&gt;
		//vec2 texCoord = vec2(1.0,0.5);&lt;br /&gt;
		vec4 base_color = texture2D(base_texture, texCoord);&lt;br /&gt;
		gl_FragColor = color * base_color;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shader.vert:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
varying vec2 texCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;br /&gt;
    texCoord = vec2(gl_MultiTexCoord0);&lt;br /&gt;
	gl_Position = ftransform();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Simple_ATI_TEXTURE_2D_ARRAY_Example.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &amp;lt;GL/glew.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/gl.h&amp;gt;&lt;br /&gt;
#include &amp;lt;GL/glut.h&amp;gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &amp;#8220;textfile.h&amp;#8221;&lt;/p&gt;
&lt;p&gt;#define &lt;span class=&quot;caps&quot;&gt;NOARRAY&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;#define	checkImageWidth 64&lt;br /&gt;
#define	checkImageHeight 64&lt;br /&gt;
static GLubyte checkImage[checkImageHeight][checkImageWidth]&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;;&lt;/p&gt;
&lt;p&gt;char *VertexShaderSource, *FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;int VertexShader, FragmentShader;&lt;/p&gt;
&lt;p&gt;int ShaderProgram;&lt;/p&gt;
&lt;p&gt;GLfloat angle = 0.0;&lt;/p&gt;
&lt;p&gt;GLuint texture;&lt;/p&gt;
&lt;p&gt;void makeCheckImage(void) {&lt;br /&gt;
	int i, j, c;&lt;/p&gt;
&lt;p&gt;for (i = 0; i &amp;lt; checkImageHeight; i++) {&lt;br /&gt;
		for (j = 0; j &amp;lt; checkImageWidth; j++) {&lt;br /&gt;
			c = ((((i &amp;amp; 0&amp;#215;8) == 0) ^ ((j &amp;amp; 0&amp;#215;8)) == 0)) * 255;&lt;br /&gt;
			checkImage[i][j]&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; = (GLubyte) c;&lt;br /&gt;
			checkImage[i][j]&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; = (GLubyte) c;&lt;br /&gt;
			checkImage[i][j]&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; = (GLubyte) c;&lt;br /&gt;
			checkImage[i][j]&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; = (GLubyte) 255;&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;GLuint LoadTexture() {&lt;br /&gt;
	GLuint texture;&lt;br /&gt;
	makeCheckImage();&lt;br /&gt;
	glGenTextures(1, &amp;amp;texture);&lt;/p&gt;
&lt;p&gt;GLfloat borderColor&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; = { 1.0, 1.0, 1.0, 1.0 };&lt;br /&gt;
#ifdef &lt;span class=&quot;caps&quot;&gt;NOARRAY&lt;/span&gt;&lt;br /&gt;
	glBindTexture(GL_TEXTURE_2D, texture);&lt;br /&gt;
	glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_BORDER);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_BORDER);&lt;br /&gt;
	glTexParameterfv(GL_TEXTURE_2D, GL_TEXTURE_BORDER_COLOR, borderColor);&lt;br /&gt;
	glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, checkImageWidth, checkImageHeight,&lt;br /&gt;
			0, GL_RGBA, GL_UNSIGNED_BYTE, checkImage);&lt;br /&gt;
#else&lt;br /&gt;
	glBindTexture(GL_TEXTURE_2D_ARRAY_EXT, texture);&lt;br /&gt;
	glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D_ARRAY_EXT, GL_TEXTURE_MIN_FILTER, GL_LINEAR);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D_ARRAY_EXT, GL_TEXTURE_MAG_FILTER, GL_LINEAR);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D_ARRAY_EXT, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_BORDER);&lt;br /&gt;
	glTexParameterf(GL_TEXTURE_2D_ARRAY_EXT, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_BORDER);&lt;br /&gt;
	glTexParameterfv(GL_TEXTURE_2D_ARRAY_EXT, GL_TEXTURE_BORDER_COLOR, borderColor);&lt;/p&gt;
&lt;p&gt;glTexImage3D(GL_TEXTURE_2D_ARRAY_EXT, 0, GL_RGBA, checkImageWidth,&lt;br /&gt;
			checkImageHeight, 2, 0, GL_RGBA, GL_UNSIGNED_BYTE, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;);&lt;br /&gt;
	glTexSubImage3D(GL_TEXTURE_2D_ARRAY_EXT, 0, 0, 0, 0, checkImageWidth,&lt;br /&gt;
			checkImageHeight, 1, GL_RGBA, GL_UNSIGNED_BYTE, checkImage);&lt;br /&gt;
	glTexSubImage3D(GL_TEXTURE_2D_ARRAY_EXT, 0, 0, 0, 1, checkImageWidth,&lt;br /&gt;
			checkImageHeight, 1, GL_RGBA, GL_UNSIGNED_BYTE, checkImage);&lt;/p&gt;
&lt;p&gt;#endif&lt;/p&gt;
&lt;p&gt;return texture;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void FreeTexture(GLuint texture) {&lt;br /&gt;
	glDeleteTextures(1, &amp;amp;texture);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void Lighting(void) {&lt;br /&gt;
	GLfloat LightPosition[] = { 0.0, 0.0, 5.0, 1.0 };&lt;/p&gt;
&lt;p&gt;GLfloat DiffuseLight[] = { 1.0, 0.0, 0.0 };&lt;br /&gt;
	GLfloat AmbientLight[] = { 1.0, 1.0, 1.0 };&lt;br /&gt;
	GLfloat SpecularLight[] = { 1.0, 1.0, 1.0 };&lt;/p&gt;
&lt;p&gt;glLightfv(GL_LIGHT0, GL_SPECULAR, SpecularLight);&lt;br /&gt;
	glLightfv(GL_LIGHT0, GL_DIFFUSE, DiffuseLight);&lt;br /&gt;
	glLightfv(GL_LIGHT0, GL_AMBIENT, AmbientLight);&lt;br /&gt;
	glLightfv(GL_LIGHT0, GL_POSITION, LightPosition);&lt;/p&gt;
&lt;p&gt;GLfloat mShininess[] = { 8 };&lt;/p&gt;
&lt;p&gt;GLfloat DiffuseMaterial[] = { 1.0, 0.0, 0.0 };&lt;br /&gt;
	GLfloat AmbientMaterial[] = { 0.3, 0.3, 0.3 };&lt;br /&gt;
	GLfloat SpecularMaterial[] = { 1.0, 1.0, 1.0 };&lt;/p&gt;
&lt;p&gt;glMaterialfv(GL_FRONT_AND_BACK, GL_DIFFUSE, DiffuseMaterial);&lt;br /&gt;
	glMaterialfv(GL_FRONT_AND_BACK, GL_AMBIENT, AmbientMaterial);&lt;br /&gt;
	glMaterialfv(GL_FRONT_AND_BACK, GL_SPECULAR, SpecularMaterial);&lt;br /&gt;
	glMaterialfv(GL_FRONT_AND_BACK, GL_SHININESS, mShininess);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void display(void) {&lt;br /&gt;
	glClearColor(0.0, 0.0, 0.0, 1.0);&lt;br /&gt;
	glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	Lighting();&lt;br /&gt;
	glTranslatef(0, 0, -5);&lt;br /&gt;
	glRotatef(angle, 1, 1, 1);&lt;br /&gt;
	glRotatef(angle, 0, 1, 1);&lt;/p&gt;
&lt;p&gt;glActiveTexture(GL_TEXTURE0);&lt;br /&gt;
	glBindTexture(GL_TEXTURE_2D, texture);&lt;br /&gt;
	int texture_location = glGetUniformLocationARB(ShaderProgram,&lt;br /&gt;
			&amp;#8220;base_texture&amp;#8221;);&lt;br /&gt;
	if (texture_location == -1) {&lt;br /&gt;
		printf(&amp;#8220;Notfound\n&amp;#8221;);&lt;br /&gt;
	}&lt;br /&gt;
	glUniform1iARB(texture_location, 0);&lt;/p&gt;
&lt;p&gt;// Disabled glsl fallback&lt;br /&gt;
	//glEnable(GL_TEXTURE_2D);&lt;/p&gt;
&lt;p&gt;glBegin(GL_QUADS);&lt;br /&gt;
	glTexCoord2f(0.0, 0.0);&lt;br /&gt;
	glVertex3f(-2.0, -1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(0.0, 3.0);&lt;br /&gt;
	glVertex3f(-2.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 3.0);&lt;br /&gt;
	glVertex3f(0.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 0.0);&lt;br /&gt;
	glVertex3f(0.0, -1.0, 0.0);&lt;/p&gt;
&lt;p&gt;glTexCoord2f(0.0, 0.0);&lt;br /&gt;
	glVertex3f(1.0, -1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(0.0, 3.0);&lt;br /&gt;
	glVertex3f(1.0, 1.0, 0.0);&lt;br /&gt;
	glTexCoord2f(3.0, 3.0);&lt;br /&gt;
	glVertex3f(2.41421, 1.0, -1.41421);&lt;br /&gt;
	glTexCoord2f(3.0, 0.0);&lt;br /&gt;
	glVertex3f(2.41421, -1.0, -1.41421);&lt;br /&gt;
	glEnd();&lt;br /&gt;
	glFlush();&lt;/p&gt;
&lt;p&gt;glutSolidTeapot(1);&lt;br /&gt;
	glutSwapBuffers();&lt;br /&gt;
	//angle += 0.5;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void InitShader(void) {&lt;/p&gt;
&lt;p&gt;VertexShader = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB);&lt;br /&gt;
	FragmentShader = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB);&lt;br /&gt;
	VertexShaderSource = textFileRead(&amp;#8220;shader.vert&amp;#8221;);&lt;br /&gt;
#ifdef &lt;span class=&quot;caps&quot;&gt;NOARRAY&lt;/span&gt;&lt;br /&gt;
	FragmentShaderSource = textFileRead(&amp;#8220;shader_simple.frag&amp;#8221;);&lt;br /&gt;
#else&lt;br /&gt;
	FragmentShaderSource = textFileRead(&amp;#8220;shader_array.frag&amp;#8221;);&lt;br /&gt;
#endif&lt;/p&gt;
&lt;p&gt;const char * VS = VertexShaderSource;&lt;br /&gt;
	const char * FS = FragmentShaderSource;&lt;/p&gt;
&lt;p&gt;glShaderSourceARB(VertexShader, 1, &amp;amp;VS, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;);&lt;br /&gt;
	glShaderSourceARB(FragmentShader, 1, &amp;amp;FS, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;);&lt;/p&gt;
&lt;p&gt;glCompileShaderARB(VertexShader);&lt;br /&gt;
	glCompileShaderARB(FragmentShader);&lt;/p&gt;
&lt;p&gt;ShaderProgram = glCreateProgramObjectARB();&lt;/p&gt;
&lt;p&gt;glAttachObjectARB(ShaderProgram, VertexShader);&lt;br /&gt;
	glAttachObjectARB(ShaderProgram, FragmentShader);&lt;/p&gt;
&lt;p&gt;glLinkProgramARB(ShaderProgram);&lt;br /&gt;
	glUseProgramObjectARB(ShaderProgram);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void DeInitShader(void) {&lt;br /&gt;
	glDetachObjectARB(ShaderProgram, VertexShader);&lt;br /&gt;
	glDetachObjectARB(ShaderProgram, FragmentShader);&lt;/p&gt;
&lt;p&gt;glDeleteObjectARB(ShaderProgram);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void Init(void) {&lt;br /&gt;
	glEnable(GL_DEPTH_TEST);&lt;br /&gt;
	glDepthFunc(GL_LEQUAL);&lt;/p&gt;
&lt;p&gt;glEnable(GL_LIGHTING);&lt;br /&gt;
	glEnable(GL_LIGHT0);&lt;/p&gt;
&lt;p&gt;texture = LoadTexture();&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void reshape(int w, int h) {&lt;br /&gt;
	glViewport(0, 0, (GLsizei) w, (GLsizei) h);&lt;br /&gt;
	glMatrixMode(GL_PROJECTION);&lt;br /&gt;
	glLoadIdentity();&lt;br /&gt;
	gluPerspective(60, (GLfloat) w / (GLfloat) h, 0.1, 1000.0);&lt;br /&gt;
	glMatrixMode(GL_MODELVIEW);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int main(int argc, char **argv) {&lt;br /&gt;
	glutInit(&amp;amp;argc, argv);&lt;br /&gt;
	glutInitDisplayMode(GLUT_DOUBLE | GLUT_DEPTH);&lt;br /&gt;
	glutInitWindowSize(500, 500);&lt;br /&gt;
	glutInitWindowPosition(100, 100);&lt;br /&gt;
	glutCreateWindow(&amp;#8220;Ati texture array clamp issue example&amp;#8221;);&lt;br /&gt;
	glewInit();&lt;br /&gt;
	InitShader();&lt;br /&gt;
	Init();&lt;br /&gt;
	glutDisplayFunc(display);&lt;br /&gt;
	glutIdleFunc(display);&lt;br /&gt;
	glutReshapeFunc(reshape);&lt;br /&gt;
	glutMainLoop();&lt;br /&gt;
	DeInitShader();&lt;br /&gt;
	return 0;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;stdio.h&gt;&lt;br /&gt;
#include &lt;malloc.h&gt;&lt;br /&gt;
#include &lt;fcntl.h&gt;&lt;br /&gt;
#include &lt;string.h&gt;&lt;br /&gt;
#include &amp;lt;sys/types.h&amp;gt;&lt;br /&gt;
#include &lt;unistd.h&gt;&lt;/p&gt;
&lt;p&gt;char *textFileRead(char *fn) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	char *content = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;int f,count;&lt;br /&gt;
	f = open(fn, O_RDONLY);&lt;/p&gt;
&lt;p&gt;count = lseek(f, 0, SEEK_END);&lt;/p&gt;
&lt;p&gt;close(f);&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;rt&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (count &amp;gt; 0) {&lt;br /&gt;
				content = (char *)malloc(sizeof(char) * (count+1));&lt;br /&gt;
				count = fread(content,sizeof(char),count,fp);&lt;br /&gt;
				content[count] = &amp;#8216;\0&amp;#8217;;&lt;br /&gt;
			}&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return content;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int textFileWrite(char *fn, char *s) {&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; *fp;&lt;br /&gt;
	int status = 0;&lt;/p&gt;
&lt;p&gt;if (fn != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;br /&gt;
		fp = fopen(fn,&amp;#8220;w&amp;#8221;);&lt;/p&gt;
&lt;p&gt;if (fp != &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) {&lt;/p&gt;
&lt;p&gt;if (fwrite(s,sizeof(char),strlen(s),fp) == strlen(s))&lt;br /&gt;
				status = 1;&lt;br /&gt;
			fclose(fp);&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	return(status);&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;textfile.h:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
char *textFileRead(char *fn);&lt;br /&gt;
int textFileWrite(char *fn, char *s);&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Convert Equirectangular Panorama To Cube Images Under Debian</title>
   <link href="http://www.jotschi.de/uncategorized/2009/09/19/convert-equirectangular-panorama-to-cube-images-under-debian.html"/>
   <updated>2009-09-19T12:29:32+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/09/19/convert-equirectangular-panorama-to-cube-images-under-debian</id>
   <content type="html">&lt;p&gt;1. Install dependencies for Panotools scripts&lt;br /&gt;
&lt;code&gt;apt-get install libimage-size-perl
apt-get install libimage-exiftool-perl
apt-get install libgraphviz-perl
apt-get install hugin-tools
&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2. Download Panotools-Script-0.23 from &lt;a href=&quot;http://search.cpan.org/~bpostle/Panotools-Script-0.23/&quot;&gt;Panotools-Script-0.23&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3. Extract and build:&lt;br /&gt;
&lt;code&gt;perl Makefile.PL
make
make test
make install
&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4. Execute erect2cubic as described here: http://search.cpan.org/~bpostle/Panotools-Script-0.23/bin/erect2cubic&lt;br /&gt;
&lt;code&gt;erect2cubic --erect=panorama.tif --ptofile=cube_project.pto
nona -o cube_prefix cube_project.pto
&lt;/code&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ProjectiveTextureExample OpenSceneGraph</title>
   <link href="http://www.jotschi.de/uncategorized/2009/09/10/projectivetextureexample-openscenegraph.html"/>
   <updated>2009-09-10T18:31:37+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/09/10/projectivetextureexample-openscenegraph</id>
   <content type="html">&lt;p&gt;Another &lt;span class=&quot;caps&quot;&gt;OSG&lt;/span&gt; ProjectiveTexture Example &amp;#8211; I did some code cleanup and added a bounding box test feature. My goal this example was to align the projector so that it would cover 100% of the second cameras field of view. In other words the view volume of the perspector of the scene should always be inside of the view volume of the projector. I solved this task by using some bounding box features and by setting the projector view matrix to align the view.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-378&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/images/opengl/BoundingBoxedView.png&quot;&gt;&lt;img src=&quot;/images/opengl/BoundingBoxedView.png&quot; alt=&quot;BoundingBoxedView&quot; title=&quot;BoundingBoxedView&quot; width=&quot;500&quot; class=&quot;alignnone size-full wp-image-384&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ProjectiveTextureExample.cpp&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;iostream&gt;&lt;br /&gt;
#include &amp;lt;osg/Notify&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/MatrixTransform&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/ShapeDrawable&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/PositionAttitudeTransform&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/Geometry&amp;gt;&lt;br /&gt;
#include &amp;lt;osgGA/TrackballManipulator&amp;gt;&lt;/p&gt;
&lt;p&gt;#include &amp;lt;osg/Texture2D&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/Geode&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/LightSource&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/TexGenNode&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/TexMat&amp;gt;&lt;br /&gt;
#include &amp;lt;osgDB/WriteFile&amp;gt;&lt;br /&gt;
#include &amp;lt;osgUtil/Optimizer&amp;gt;&lt;/p&gt;
&lt;p&gt;#include &amp;lt;osgDB/Registry&amp;gt;&lt;br /&gt;
#include &amp;lt;osgDB/ReadFile&amp;gt;&lt;/p&gt;
&lt;p&gt;#include &amp;lt;osgViewer/Viewer&amp;gt;&lt;br /&gt;
#include &amp;lt;osgViewer/CompositeViewer&amp;gt;&lt;br /&gt;
#include &lt;string&gt;&lt;br /&gt;
using namespace std;&lt;/p&gt;
&lt;p&gt;osgViewer::View* viewA = new osgViewer::View;&lt;br /&gt;
osg::TexMat* texMat = new osg::TexMat;&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;This method is used to mark the camera position&lt;br /&gt;
 &lt;strong&gt;/&lt;br /&gt;
osg::Node * markCameraPosition(osg::Camera&lt;/strong&gt; camera) {&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;osg::Group* root = new osg::Group();&lt;br /&gt;
	osg::Matrixd proj;&lt;br /&gt;
	osg::Matrixd mv;&lt;br /&gt;
	if (camera) {&lt;br /&gt;
		proj = camera&amp;#8594;getProjectionMatrix();&lt;br /&gt;
		mv = camera&amp;#8594;getViewMatrix();&lt;br /&gt;
	} else {&lt;br /&gt;
		// Create some kind of reasonable default Projection matrix.&lt;br /&gt;
		proj.makePerspective(30., 1., 1., 10.);&lt;br /&gt;
		// leave mv as identity&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;osg::Vec3f vector = osg::Vec3f(proj(0, 0), proj(0, 0), proj(0, 0));&lt;br /&gt;
	osg::Vec3f posVec = osg::Matrixd::inverse(mv).preMult(vector);&lt;/p&gt;
&lt;p&gt;//	printf(&amp;#8220;VectorX: %f\n&amp;#8221;, posVec.x());&lt;br /&gt;
	//	printf(&amp;#8220;VectorY: %f\n&amp;#8221;, posVec.y());&lt;br /&gt;
	//	printf(&amp;#8220;VectorZ: %f\n&amp;#8221;, posVec.z());&lt;/p&gt;
&lt;p&gt;osg::Sphere* unitSphere = new osg::Sphere(osg::Vec3(0, 0, 0), 2.0);&lt;br /&gt;
	osg::ShapeDrawable* unitSphereDrawable = new osg::ShapeDrawable(unitSphere);&lt;br /&gt;
	osg::Geode* unitSphereGeode = new osg::Geode();&lt;br /&gt;
	unitSphereGeode&amp;#8594;addDrawable(unitSphereDrawable);&lt;/p&gt;
&lt;p&gt;osg::PositionAttitudeTransform* sphereXForm =&lt;br /&gt;
			new osg::PositionAttitudeTransform();&lt;br /&gt;
	sphereXForm&amp;#8594;setPosition(posVec);&lt;br /&gt;
	sphereXForm&amp;#8594;addChild(unitSphereGeode);&lt;br /&gt;
	root&amp;#8594;addChild(sphereXForm);&lt;/p&gt;
&lt;p&gt;return root;&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
// Given a Camera, create a wireframe representation of its&lt;br /&gt;
// view frustum. Create a default representation if camera==&lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;.&lt;br /&gt;
osg::Node*&lt;br /&gt;
makeFrustumFromCamera(osg::Camera* camera) {&lt;/p&gt;
&lt;p&gt;// Projection and ModelView matrices&lt;br /&gt;
	osg::Matrixd proj;&lt;br /&gt;
	osg::Matrixd mv;&lt;br /&gt;
	if (camera) {&lt;br /&gt;
		proj = camera&amp;#8594;getProjectionMatrix();&lt;br /&gt;
		mv = camera&amp;#8594;getViewMatrix();&lt;br /&gt;
	} else {&lt;br /&gt;
		// Create some kind of reasonable default Projection matrix.&lt;br /&gt;
		proj.makePerspective(30., 1., 1., 10.);&lt;br /&gt;
		// leave mv as identity&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;//camera&amp;#8594;setViewMatrix(camera&amp;#8594;getViewMatrix().frustum(100,200,100,100,10,100));&lt;/p&gt;
&lt;p&gt;// Get near and far from the Projection matrix.&lt;br /&gt;
	const double near = proj(3, 2) / (proj(2, 2) &amp;#8211; 1.0);&lt;br /&gt;
	const double far = proj(3, 2) / (1.0 + proj(2, 2));&lt;/p&gt;
&lt;p&gt;// Get the sides of the near plane.&lt;br /&gt;
	const double nLeft = near * (proj(2, 0) &amp;#8211; 1.0) / proj(0, 0);&lt;br /&gt;
	const double nRight = near * (1.0 + proj(2, 0)) / proj(0, 0);&lt;br /&gt;
	const double nTop = near * (1.0 + proj(2, 1)) / proj(1, 1);&lt;br /&gt;
	const double nBottom = near * (proj(2, 1) &amp;#8211; 1.0) / proj(1, 1);&lt;/p&gt;
&lt;p&gt;// Get the sides of the far plane.&lt;br /&gt;
	const double fLeft = far * (proj(2, 0) &amp;#8211; 1.0) / proj(0, 0);&lt;br /&gt;
	const double fRight = far * (1.0 + proj(2, 0)) / proj(0, 0);&lt;br /&gt;
	const double fTop = far * (1.0 + proj(2, 1)) / proj(1, 1);&lt;br /&gt;
	const double fBottom = far * (proj(2, 1) &amp;#8211; 1.0) / proj(1, 1);&lt;/p&gt;
&lt;p&gt;// Our vertex array needs only 9 vertices: The origin, and the&lt;br /&gt;
	// eight corners of the near and far planes.&lt;br /&gt;
	osg::Vec3Array* v = new osg::Vec3Array;&lt;br /&gt;
	v&amp;#8594;resize(9);&lt;br /&gt;
	(&lt;strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr0&quot;&gt;&lt;a href=&quot;#fn0&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;.set(0., 0., 0.);&lt;br /&gt;
	(&lt;/strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.set(nLeft, nBottom, -near);&lt;br /&gt;
	(&lt;strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.set(nRight, nBottom, -near);&lt;br /&gt;
	(&lt;/strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.set(nRight, nTop, -near);&lt;br /&gt;
	(&lt;strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;.set(nLeft, nTop, -near);&lt;br /&gt;
	(&lt;/strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;.set(fLeft, fBottom, -far);&lt;br /&gt;
	(&lt;strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr6&quot;&gt;&lt;a href=&quot;#fn6&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;.set(fRight, fBottom, -far);&lt;br /&gt;
	(&lt;/strong&gt;v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr7&quot;&gt;&lt;a href=&quot;#fn7&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;.set(fRight, fTop, -far);&lt;br /&gt;
	(*v)&lt;sup class=&quot;footnote&quot; id=&quot;fnr8&quot;&gt;&lt;a href=&quot;#fn8&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;.set(fLeft, fTop, -far);&lt;/p&gt;
&lt;p&gt;osg::Geometry* geom = new osg::Geometry;&lt;br /&gt;
	geom&amp;#8594;setUseDisplayList(false);&lt;br /&gt;
	geom&amp;#8594;setVertexArray(v);&lt;/p&gt;
&lt;p&gt;osg::Vec4Array* c = new osg::Vec4Array;&lt;br /&gt;
	c&amp;#8594;push_back(osg::Vec4(1., 1., 1., 1.));&lt;br /&gt;
	geom&amp;#8594;setColorArray&amp;#169;;&lt;br /&gt;
	geom&amp;#8594;setColorBinding(osg::Geometry::BIND_OVERALL);&lt;/p&gt;
&lt;p&gt;GLushort idxLines&lt;sup class=&quot;footnote&quot; id=&quot;fnr8&quot;&gt;&lt;a href=&quot;#fn8&quot;&gt;8&lt;/a&gt;&lt;/sup&gt; = { 0, 5, 0, 6, 0, 7, 0, 8 };&lt;br /&gt;
	GLushort idxLoops0&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; = { 1, 2, 3, 4 };&lt;br /&gt;
	GLushort idxLoops1&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; = { 5, 6, 7, 8 };&lt;br /&gt;
	geom&amp;#8594;addPrimitiveSet(new osg::DrawElementsUShort(osg::PrimitiveSet::&lt;span class=&quot;caps&quot;&gt;LINES&lt;/span&gt;,&lt;br /&gt;
			8, idxLines));&lt;br /&gt;
	geom&amp;#8594;addPrimitiveSet(new osg::DrawElementsUShort(&lt;br /&gt;
			osg::PrimitiveSet::LINE_LOOP, 4, idxLoops0));&lt;br /&gt;
	geom&amp;#8594;addPrimitiveSet(new osg::DrawElementsUShort(&lt;br /&gt;
			osg::PrimitiveSet::LINE_LOOP, 4, idxLoops1));&lt;/p&gt;
&lt;p&gt;osg::Geode* geode = new osg::Geode;&lt;br /&gt;
	geode&amp;#8594;addDrawable(geom);&lt;/p&gt;
&lt;p&gt;geode&amp;#8594;getOrCreateStateSet()&amp;#8594;setMode(GL_LIGHTING, osg::StateAttribute::&lt;span class=&quot;caps&quot;&gt;OFF&lt;/span&gt;&lt;br /&gt;
			| osg::StateAttribute::&lt;span class=&quot;caps&quot;&gt;PROTECTED&lt;/span&gt;);&lt;/p&gt;
&lt;p&gt;// Create parent MatrixTransform to transform the view volume by&lt;br /&gt;
	// the inverse ModelView matrix.&lt;br /&gt;
	osg::MatrixTransform* mt = new osg::MatrixTransform;&lt;br /&gt;
	mt&amp;#8594;setMatrix(osg::Matrixd::inverse(mv));&lt;br /&gt;
	mt&amp;#8594;addChild(geode);&lt;/p&gt;
&lt;p&gt;return mt;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;osg::ref_ptr&lt;osg::Program&gt; addShader() {&lt;br /&gt;
	osg::ref_ptr&lt;osg::Program&gt; projProg(new osg::Program);&lt;br /&gt;
	osg::ref_ptr&lt;osg::Shader&gt; projvertexShader(osg::Shader::readShaderFile(&lt;br /&gt;
			osg::Shader::&lt;span class=&quot;caps&quot;&gt;VERTEX&lt;/span&gt;, &amp;#8220;VertexShader.glsl&amp;#8221;));&lt;br /&gt;
	osg::ref_ptr&lt;osg::Shader&gt; projfragShader(osg::Shader::readShaderFile(&lt;br /&gt;
			osg::Shader::&lt;span class=&quot;caps&quot;&gt;FRAGMENT&lt;/span&gt;, &amp;#8220;FragmentShader.glsl&amp;#8221;));&lt;/p&gt;
&lt;p&gt;projProg&amp;#8594;addShader(projvertexShader.get());&lt;br /&gt;
	projProg&amp;#8594;addShader(projfragShader.get());&lt;br /&gt;
	return projProg;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void addProjectionInfoToState(osg::StateSet* stateset, string fn) {&lt;/p&gt;
&lt;p&gt;/* 1. Load the texture that will be projected &lt;strong&gt;/&lt;br /&gt;
	osg::Texture2D&lt;/strong&gt; texture = new osg::Texture2D();&lt;br /&gt;
	texture&amp;#8594;setImage(osgDB::readImageFile(fn));&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_S, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_T, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_R, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	stateset&amp;#8594;setTextureAttributeAndModes(1, texture, osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;// set up tex gens&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_S, osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_T, osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_R, osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_Q, osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;/* 3. Handover the texture to the fragment shader via uniform &lt;strong&gt;/&lt;br /&gt;
	osg::Uniform&lt;/strong&gt; texUniform = new osg::Uniform(osg::Uniform::SAMPLER_2D,&lt;br /&gt;
			&amp;#8220;projectionMap&amp;#8221;);&lt;br /&gt;
	texUniform&amp;#8594;set(1);&lt;br /&gt;
	stateset&amp;#8594;addUniform(texUniform);&lt;/p&gt;
&lt;p&gt;/* 4. set Texture matrix*/&lt;/p&gt;
&lt;p&gt;//If you want to create the texture matrix by yourself you can do this like this way:&lt;br /&gt;
	//osg::Vec3 projectorPos = osg::Vec3(0.0f, 0.0f, 324.0f);&lt;br /&gt;
	//osg::Vec3 projectorDirection = osg::Vec3(osg::inDegrees(dirX),osg::inDegrees(dirY), osg::inDegrees(dirZ));&lt;br /&gt;
	//osg::Vec3 up(0.0f, 1.0f, 0.0f);&lt;br /&gt;
	//osg::Vec3 target = osg::Vec3(0.0f, 0.0f,0.0f);&lt;br /&gt;
	//float projectorAngle = 80.f; //&lt;span class=&quot;caps&quot;&gt;FOV&lt;/span&gt;&lt;br /&gt;
	//mat = osg::Matrixd::lookAt(projectorPos, projectorPos*target ,up) * osg::Matrixd::perspective(projectorAngle, 1.0, 1.0, 10);&lt;/p&gt;
&lt;p&gt;osg::Matrix mat = viewA&amp;#8594;getCamera()&amp;#8594;getViewMatrix()&lt;br /&gt;
			* viewA&amp;#8594;getCamera()&amp;#8594;getProjectionMatrix();&lt;/p&gt;
&lt;p&gt;texMat&amp;#8594;setMatrix(mat);&lt;br /&gt;
	stateset&amp;#8594;setTextureAttributeAndModes(1, texMat, osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;osg::StateSet* createProjectorState() {&lt;br /&gt;
	osg::StateSet* stateset = new osg::StateSet;&lt;br /&gt;
	osg::ref_ptr&lt;osg::Program&gt; prog = addShader();&lt;br /&gt;
	addProjectionInfoToState(stateset, &amp;#8220;foo2.jpg&amp;#8221;);&lt;br /&gt;
	stateset&amp;#8594;setAttribute(prog.get());&lt;br /&gt;
	return stateset;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Load some model, scale it and apply the shader&lt;br /&gt;
 &lt;strong&gt;/&lt;br /&gt;
osg::Node&lt;/strong&gt; createModel() {&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;osg::Group* root = new osg::Group;&lt;/p&gt;
&lt;p&gt;/* Load the terrain which will be the receiver of out projection &lt;strong&gt;/&lt;br /&gt;
	osg::Node&lt;/strong&gt; terr = osgDB::readNodeFile(&amp;#8220;Terrain2.3ds&amp;#8221;);&lt;/p&gt;
&lt;p&gt;/* Scale the terrain and move it. */&lt;br /&gt;
	osg::Matrix m;&lt;br /&gt;
	osg::ref_ptr&lt;osg::MatrixTransform&gt; mt = new osg::MatrixTransform;&lt;br /&gt;
	m.makeTranslate(0.f, 0.f, 0.f);&lt;br /&gt;
	m.makeScale(2.f, 2.f, 2.f);&lt;br /&gt;
	mt&amp;#8594;setMatrix(m);&lt;br /&gt;
	mt&amp;#8594;addChild(terr);&lt;/p&gt;
&lt;p&gt;/* Add the transformed node to our graph */&lt;br /&gt;
	root&amp;#8594;addChild(mt.get());&lt;/p&gt;
&lt;p&gt;/* Enable projective texturing for all objects of this node */&lt;br /&gt;
	root&amp;#8594;setStateSet(createProjectorState());&lt;br /&gt;
	return root;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates a small ball node for the given coords.&lt;br /&gt;
 &lt;strong&gt;/&lt;br /&gt;
osg::Node&lt;/strong&gt; createBall(osg::Vec3 pos) {&lt;br /&gt;
	osg::Sphere* unitSphere = new osg::Sphere(osg::Vec3(0, 0, 0), 62.0);&lt;br /&gt;
	osg::ShapeDrawable* unitSphereDrawable = new osg::ShapeDrawable(unitSphere);&lt;br /&gt;
	osg::Geode* unitSphereGeode = new osg::Geode();&lt;br /&gt;
	unitSphereGeode&amp;#8594;addDrawable(unitSphereDrawable);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;osg::PositionAttitudeTransform* sphereXForm =&lt;br /&gt;
			new osg::PositionAttitudeTransform();&lt;br /&gt;
	sphereXForm&amp;#8594;setPosition(pos);&lt;br /&gt;
	sphereXForm&amp;#8594;addChild(unitSphereGeode);&lt;br /&gt;
	return sphereXForm;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;int main(int argc, char ** argv) {&lt;/p&gt;
&lt;p&gt;osg::ArgumentParser arguments(&amp;amp;argc, argv);&lt;/p&gt;
&lt;p&gt;osg::ref_ptr&lt;osg::Group&gt; sceneA = new osg::Group;&lt;br /&gt;
	osg::ref_ptr&lt;osg::Group&gt; sceneB = new osg::Group;&lt;br /&gt;
	osg::ref_ptr&lt;osg::Group&gt; sceneC = new osg::Group;&lt;br /&gt;
	sceneA&amp;#8594;addChild(createModel());&lt;br /&gt;
	sceneB&amp;#8594;addChild(createModel());&lt;br /&gt;
	sceneC&amp;#8594;addChild(createModel());&lt;/p&gt;
&lt;p&gt;osgViewer::CompositeViewer viewer(arguments);&lt;/p&gt;
&lt;p&gt;// Turn on &lt;span class=&quot;caps&quot;&gt;FSAA&lt;/span&gt;, makes the lines look better.&lt;br /&gt;
	//osg::DisplaySettings::instance()&amp;#8594;setNumMultiSamples( 4 );&lt;/p&gt;
&lt;p&gt;viewer.addView(viewA);&lt;br /&gt;
	viewA&amp;#8594;setUpViewInWindow(10, 10, 640, 480);&lt;br /&gt;
	viewA&amp;#8594;setSceneData(sceneA.get());&lt;br /&gt;
	//Add this to move the projector by mouse &amp;#8211; you need to disable the set of the viewmatrix in the while loop below.&lt;br /&gt;
	//viewA&amp;#8594;setCameraManipulator(new osgGA::TrackballManipulator);&lt;/p&gt;
&lt;p&gt;osgViewer::View* viewB = new osgViewer::View;&lt;br /&gt;
	viewer.addView(viewB);&lt;br /&gt;
	viewB&amp;#8594;setUpViewInWindow(10, 510, 640, 480);&lt;br /&gt;
	viewB&amp;#8594;setSceneData(sceneB.get());&lt;br /&gt;
	viewB&amp;#8594;setCameraManipulator(new osgGA::TrackballManipulator);&lt;/p&gt;
&lt;p&gt;osgViewer::View* viewC = new osgViewer::View;&lt;br /&gt;
	viewer.addView(viewC);&lt;br /&gt;
	viewC&amp;#8594;setUpViewInWindow(500, 510, 640, 480);&lt;br /&gt;
	viewC&amp;#8594;setSceneData(sceneC.get());&lt;br /&gt;
	viewC&amp;#8594;setCameraManipulator(new osgGA::TrackballManipulator);&lt;/p&gt;
&lt;p&gt;// You can disable the auto computed near far bounds by disabling the osg mode.&lt;br /&gt;
	// viewer.getView(0)&amp;#8594;getCamera()&amp;#8594;setComputeNearFarMode(osg::Camera::DO_NOT_COMPUTE_NEAR_FAR);&lt;/p&gt;
&lt;p&gt;while (!viewer.done()) {&lt;/p&gt;
&lt;p&gt;osg::Matrix mat = viewA&amp;#8594;getCamera()&amp;#8594;getViewMatrix()&lt;br /&gt;
				* viewA&amp;#8594;getCamera()&amp;#8594;getProjectionMatrix();&lt;br /&gt;
		texMat&amp;#8594;setMatrix(mat);&lt;/p&gt;
&lt;p&gt;sceneA&amp;#8594;removeChild(1, 1);&lt;br /&gt;
		sceneA&amp;#8594;insertChild(1, makeFrustumFromCamera(viewB&amp;#8594;getCamera()));&lt;/p&gt;
&lt;p&gt;//sceneB&amp;#8594;removeChild(1, 1);&lt;br /&gt;
		//sceneB&amp;#8594;insertChild(1, makeFrustumFromCamera(viewA&amp;#8594;getCamera()));&lt;/p&gt;
&lt;p&gt;sceneC&amp;#8594;removeChild(1, 1);&lt;br /&gt;
		sceneC&amp;#8594;insertChild(1, makeFrustumFromCamera(viewA&amp;#8594;getCamera()));&lt;/p&gt;
&lt;p&gt;sceneC&amp;#8594;removeChild(2, 1);&lt;br /&gt;
		sceneC&amp;#8594;insertChild(2, makeFrustumFromCamera(viewB&amp;#8594;getCamera()));&lt;/p&gt;
&lt;p&gt;// Finnaly set the camera&lt;br /&gt;
		osg::Node* frustum = makeFrustumFromCamera(viewB&amp;#8594;getCamera());&lt;br /&gt;
		const osg::BoundingSphere&amp;amp; boundingSphere = frustum&amp;#8594;getBound();&lt;br /&gt;
		osg::Matrix myviewMatrix;&lt;br /&gt;
		osg::Vec3 boxEye = boundingSphere.&lt;em&gt;center + osg::Vec3(0.0f, -3.5f&lt;br /&gt;
				* boundingSphere._radius, 0.0f);&lt;br /&gt;
		osg::Vec3 boxCenter = boundingSphere.&lt;/em&gt;center;&lt;br /&gt;
		osg::Vec3 boxUp = osg::Vec3(0.0f, 0.0f, 1.0f);&lt;br /&gt;
		myviewMatrix.makeLookAt(boxEye, boxCenter, boxUp);&lt;br /&gt;
		viewA&amp;#8594;getCamera()&amp;#8594;setViewMatrix(myviewMatrix);&lt;/p&gt;
&lt;p&gt;viewer.frame();&lt;br /&gt;
	}&lt;br /&gt;
	return 0;&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
As you can see the texture coordinated will be shifted by 0.5/0.5. I had to do this because the projective center was in the middle of the texture. Without correction you get results like this one:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/opengl/texture_projection.png&quot; alt=&quot;1&quot; title=&quot;1&quot; width=&quot;628&quot; height=&quot;475&quot; class=&quot;alignnone size-full wp-image-385&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/opengl/texture_projection_2.png&quot; alt=&quot;2&quot; title=&quot;2&quot; width=&quot;628&quot; height=&quot;470&quot; class=&quot;alignnone size-full wp-image-386&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;FragmentShader.glsl&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
uniform sampler2D projectionMap;&lt;br /&gt;
varying vec4 projCoord;&lt;/p&gt;
&lt;p&gt;void main()&lt;br /&gt;
{&lt;br /&gt;
	vec4 dividedCoord = projCoord / projCoord.w ;&lt;br /&gt;
	vec4 color =  texture2D(projectionMap,dividedCoord.st+vec2(0.5,0.5)  );&lt;br /&gt;
  	gl_FragColor =	 color * gl_Color;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VertexShader.glsl&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
varying vec4 projCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;/p&gt;
&lt;p&gt;projCoord =  gl_TextureMatrix&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;  *  gl_Vertex;&lt;br /&gt;
		gl_Position = ftransform();&lt;br /&gt;
		gl_FrontColor = gl_Color;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>GLSL shader to handle multiple projections onto the same surface</title>
   <link href="http://www.jotschi.de/technik/gfx/2009/08/17/glsl-shader-to-handle-multiple-projections-onto-the-same-surface.html"/>
   <updated>2009-08-17T23:20:56+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2009/08/17/glsl-shader-to-handle-multiple-projections-onto-the-same-surface</id>
   <content type="html">&lt;p&gt;For my project &lt;a href=&quot;http://www.jotschi.de/?page_id=320&quot;&gt;Generating City Models By Using Panorama Images&lt;/a&gt; i have to write a fragment shader that handles multiple projections onto the same surface. The shader must contain condition in which the projection should be handled. In my case i had to decide which projection source should be used to texture the desired model. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-363&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I didn&amp;#8217;t want to do alpha blending of each texture. I wanted that only the projection source will be used that would produce the best projection image. For a good projection the angle of which the projection &amp;#8216;light&amp;#8217; falls onto the surface must be very low. The second parameter is the distance.&lt;/p&gt;
&lt;p&gt;For example, imagine a scene with 20 projection sources. One source is very near the target surface but the angle in which the &amp;#8216;light&amp;#8217; falls onto the surface is very big so the texture produced by such a source wouldn&amp;#8217;t be that good. Instead there is another projection source which&amp;#8217;s projections angle is very low but the distance is larger than that of the near source. My shader will now pick the second projection source because the first does not match its condtions.&lt;/p&gt;
&lt;p&gt;Draft of my target shader:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
uniform int nTextures;
uniform sampler2DArray textures;
uniform vec3[] projectPos;
varying vec3 glPos;
varying vec3 normalVec;
void main() {
  int currentTexture=0;
  float minAngle = 360.0f;
  float angleThreshold = 10.0f;
 // Select the texture with the lowest angle
  for(int i =0; i &amp;lt;nTextures; i++){
   float alpha = texture2DArray(textures,vec3(gl_TexCoord[0].xy, i)).a;
   if(alpha != 1.0f) {
     //TODO check calculation of projDirection
      vec3 projDirection =(projectPos-glPos);
      float angle = dot(normalVec,projDirection*-1);
      if(angle&amp;lt;minAngle) {
          minAngle = angle;
      }
    }
  }
  float minDistance= -1.0f;
  // Select the texture with the lowest distance among those around the lowest angle
  for(i=0; i &amp;lt;nTextures; i++){
   float alpha = texture2DArray(textures,vec3(gl_TexCoord[0].xy, i)).a;
   // Condition 1: Must be visible
   if (alpha != 1.0f) {
     //TODO check calculation of projDirection
     vec3 projDirection =( projectPos-glPos);
     float angle = dot(normalVec,projDirection);
     // Condition 2: The angle must be between +-10.0f of the lowest angle
     if(angle&amp;lt;(minAngle+angleThreshold) || angle&amp;gt;(minAngle+angleThreshold)) {
     // TODO check calculation of distance between both points within RÂ³
    float dx = projectPos[i].x - glPos.x;
  float dy = projectPos[i].y - glPos.y;
  float dz = projectPos[i].z - glPos.z;
  float d = Math.sqrt(dx * dx + dy * dy + dz * dz);
    // select the texture with the lowest distance
    if(d&amp;lt;minDistance || minDistance  ==-1.0f)  {
          minDistance = d;
          currentTexture = i;
    }
        }
   }
  }
gl_FragColor = texture2DArray(textures,vec3(gl_TexCoord[0].xy, currentTexture));
}
&lt;/pre&gt;
&lt;p&gt;1. Maybe there is a better way to check if the given sample contains a texture value at the given texture coordinate than checking its alpha value.&lt;br /&gt;
2. I use a uniform to handle the size of the sampler2DArray textures array. Maybe you can extract that information within the shader&lt;br /&gt;
3. I use uniform vec3[] projectPos; to handle over the positions of the projection sources. Maybe this can be stored in the build in gl_LightSource array?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Debian testing and fglrx 8.632-1 ( Ati Driver Package 9.7 ) and linux-image-2.6.30-1-686-bigmem</title>
   <link href="http://www.jotschi.de/uncategorized/2009/08/16/debian-testing-and-fglrx-8-632-1-ati-driver-package-9-7-and-linux-image-2-6-30-1-686-bigmem.html"/>
   <updated>2009-08-16T14:16:59+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/08/16/debian-testing-and-fglrx-8-632-1-ati-driver-package-9-7-and-linux-image-2-6-30-1-686-bigmem</id>
   <content type="html">&lt;p&gt;Using my manual with the driver package ati-driver-installer-9-7-x86.&amp;#215;86&lt;em&gt;64.run and kernel 2.6.30-1-686-bigmem will not work. The fglrx kernel module won&amp;#8217;t compile.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-360&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;dh_testroot&lt;br /&gt;
rm -f configure-stamp&lt;br /&gt;
rm -f fglrx.ko fglrx.mod.c &lt;strong&gt;.o libfglrx_ip.a&lt;br /&gt;
rm -f .version .&lt;/strong&gt;.o.flags .&lt;strong&gt;.o.d .&lt;/strong&gt;.o.cmd .*.ko.cmd&lt;br /&gt;
rm -rf .tmp_versions&lt;br /&gt;
rm -rf patch&lt;br /&gt;
dh_clean&lt;br /&gt;
rm /usr/src/modules/fglrx/debian/control&lt;br /&gt;
rm /usr/src/modules/fglrx/debian/dirs&lt;br /&gt;
if [ -f /usr/src/modules/fglrx/debian/control.template ]; then \&lt;br /&gt;
                cat /usr/src/modules/fglrx/debian/control.template &amp;gt; /usr/src/modules/fglrx/debian/control; \&lt;br /&gt;
        fi&lt;br /&gt;
if [ -f /usr/src/modules/fglrx/debian/postinst ]; then \&lt;br /&gt;
                mv /usr/src/modules/fglrx/debian/postinst /usr/src/modules/fglrx/debian/fglrx-kernel-2.6.30-1-686-bigmem.postinst; \&lt;br /&gt;
        fi&lt;br /&gt;
dh_testdir&lt;br /&gt;
touch configure-stamp&lt;br /&gt;
dh_testdir&lt;br /&gt;
/usr/bin/make -C /lib/modules/2.6.30-1-686-bigmem/build &lt;span class=&quot;caps&quot;&gt;SUBDIRS&lt;/span&gt;=/usr/src/modules/fglrx modules&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: Entering directory `/usr/src/linux-headers-2.6.30-1-686-bigmem&amp;#8217;&lt;br /&gt;
  CC [M]  /usr/src/modules/fglrx/firegl_public.o&lt;br /&gt;
In file included from /usr/src/modules/fglrx/drmP.h:86,&lt;br /&gt;
                 from /usr/src/modules/fglrx/drm_proc.h:41,&lt;br /&gt;
                 from /usr/src/modules/fglrx/firegl_public.c:431:&lt;br /&gt;
/usr/src/modules/fglrx/drm_os_linux.h:45: error: conflicting types for â€˜irqreturn_tâ€™&lt;br /&gt;
/usr/src/linux-headers-2.6.30-1-common/include/linux/irqreturn.h:16: error: previous declaration of â€˜irqreturn_tâ€™ was here&lt;br /&gt;
In file included from /usr/src/modules/fglrx/firegl_public.c:431:&lt;br /&gt;
/usr/src/modules/fglrx/drm_proc.h: In function â€˜FGLDRM&lt;/em&gt;&lt;em&gt;vma_infoâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/drm_proc.h:497: warning: format â€˜%08lxâ€™ expects type â€˜long unsigned intâ€™, but argument 5 has type â€˜phys_addr_tâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c: In function â€˜KCL_SetPageCache_Arrayâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:1230: warning: unused variable â€˜retâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:1229: warning: unused variable â€˜iâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c: In function â€˜KCL_GetEffectiveUidâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:1451: error: â€˜struct task_structâ€™ has no member named â€˜euidâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c: In function â€˜KCL_PosixSecurityCapSetIPCLockâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:1825: error: â€˜struct task_structâ€™ has no member named â€˜cap_effectiveâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:1829: error: â€˜struct task_structâ€™ has no member named â€˜cap_effectiveâ€™&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c: In function â€˜KCL_InstallInterruptHandlerâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:2727: warning: passing argument 2 of â€˜request_irqâ€™ from incompatible pointer type&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c: In function â€˜KAS_Ih_Executeâ€™:&lt;br /&gt;
/usr/src/modules/fglrx/firegl_public.c:4230: warning: â€˜returnâ€™ with no value, in function returning non-void&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;: &lt;b&gt;* [/usr/src/modules/fglrx/firegl_public.o] Error 1&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;: *&lt;/b&gt; [_module&lt;/em&gt;/usr/src/modules/fglrx] Error 2&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;: &lt;b&gt;* [sub-make] Error 2&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: *&lt;/b&gt; [all] Error 2&lt;br /&gt;
make&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: Leaving directory `/usr/src/linux-headers-2.6.30-1-686-bigmem&amp;#8217;&lt;br /&gt;
make: &lt;strong&gt;*&lt;/strong&gt; [build] Error 2&lt;/code&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Laggy 2D fglrx Performance Debian Testing</title>
   <link href="http://www.jotschi.de/uncategorized/2009/08/16/laggy-2d-fglrx-performance-debian-testing.html"/>
   <updated>2009-08-16T14:04:22+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/08/16/laggy-2d-fglrx-performance-debian-testing</id>
   <content type="html">&lt;p&gt;I just made a dist upgrade and after starting X my 2D performance was awful. I checked /var/log/Xorg.0.log and found out that &lt;span class=&quot;caps&quot;&gt;DRI&lt;/span&gt; had not been initialized. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-357&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Reason for this was an update of libdrm2 to a newer version.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Preparing to replace libdrm2 2.3.1-2 (using .../libdrm2_2.4.12-1_i386.deb) ...
Unpacking replacement libdrm2 ...
&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;libdrm2_2.4.12-1 will not work with&lt;br /&gt;
&lt;code&gt;fglrx-driver                         8.62-1                      Video driver for the ATI graphics accelerators
&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Solution: &lt;br /&gt;
Install the old libdrm2 version and restart X.&lt;br /&gt;
&lt;a href=&quot;http://packages.debian.org/lenny/libdrm2&quot;&gt;Download: http://packages.debian.org/lenny/libdrm2&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Generating City Models By Using Panorama Images</title>
   <link href="http://www.jotschi.de/uncategorized/2009/07/13/generating-city-models-by-using-panorama-images.html"/>
   <updated>2009-07-13T00:03:19+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/07/13/generating-city-models-by-using-panorama-images</id>
   <content type="html">&lt;p&gt;&lt;del datetime=&quot;2012-09-26T22:09:41+00:00&quot;&gt;Currently i&amp;#8217;m&lt;/del&gt;Some time ago i was developing methods and software to transform panorama images into 3d models. The panorama image itself should be projected onto a generated 3d mesh. &lt;br /&gt;
This would generate a textured 3d model which could be used as key for the development of different applications. In this article i will describe my approach and show some perspectives for some applications.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-320&quot;&gt;&lt;/a&gt;&lt;br /&gt;
A slightly similar approach is done by &lt;a href=&quot;http://interactive.usc.edu/viewfinder/&quot;&gt;viewfinder&lt;/a&gt; which enables the user to position the image into a 3D context.&lt;/p&gt;
&lt;h1&gt;Project Goals&lt;/h1&gt;
&lt;h2&gt;Phase I goals:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Automatically creating a textured 3D city model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Phase II goals:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Auto align any image that was taken within the area of the created city model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Phase &lt;span class=&quot;caps&quot;&gt;III&lt;/span&gt; goals:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Refine geometric data of the city model by using structure from motion techniques.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Project Description&lt;/h1&gt;
&lt;p&gt;By using &lt;a href=&quot;http://www.openstreetmap.org/&quot;&gt;openstreetmap &amp;#8211; &lt;span class=&quot;caps&quot;&gt;OSM&lt;/span&gt;&lt;/a&gt; data and basic computer vision edge detection of panorama images it is possible to find simple corrolating points between the panorama image and the openstreetmap data. The process is described below.&lt;/p&gt;
&lt;p&gt;Developing a software that is capabel of transforming information gathered from panoramic images and geo location based map data into a world model. Further this world model can be used to extrapolate the position of a viewer by corolating template images from the world model view and the image that was taken from the view.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://interactive.usc.edu/viewfinder/index.html&quot;&gt;Viewfinder&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;httpv://www.youtube.com/watch?v=3b8ACCN3wSw&lt;br /&gt;
This video shows the basic principle of projecting a panorama image onto 3d surfaces. This video is just a proof of concept that you can use openstreetmap data as a valid basis for the mesh generation. In my mind the accuracy is quite good.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mesh generation:&lt;/strong&gt;&lt;br /&gt;
&lt;a href=&quot;/images/osm3d/unmapped.png&quot;&gt;&lt;img src=&quot;/images/osm3d/unmapped.png&quot; alt=&quot;&quot; title=&quot;Panorama Simple&quot; width=&quot;500&quot; class=&quot;alignnone size-medium wp-image-336&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
This is the panorama source image.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/osm3d/mapped_lines.png&quot;&gt;&lt;img src=&quot;/images/osm3d/mapped_lines.png&quot; alt=&quot;&quot; title=&quot;Panorama Mapped Lines&quot; width=&quot;500&quot; class=&quot;alignnone size-medium wp-image-335&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
By using the initial camera position and orientation of the panorama image we can align the openstreet map data. The arrows in the image indicates the direction in which the facing surface will be generated.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/osm3d/edges.png&quot;&gt;&lt;img src=&quot;/images/osm3d/edges.png&quot; alt=&quot;&quot; title=&quot;Extracted edges&quot; width=&quot;500&quot;  class=&quot;alignnone size-medium 
wp-image-334&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
The bottom end of the surface is defined by the openstreetmap data and the top end by the extracted contour.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Map generation:&lt;/strong&gt;&lt;br /&gt;
To avoid generation of surfaces that can&amp;#8217;t be seen by the viewer we just remove all these lines in the osm map data as described here. At first we generate the normal vectors for each line to determine if the (bottom) line will be part of a facing surface.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/osm3d/3.png&quot;&gt;&lt;img src=&quot;/images/osm3d/3.png&quot; alt=&quot;&quot; title=&quot;3&quot; width=&quot;500&quot; class=&quot;alignnone size-medium wp-image-332&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We remove all lines that do not belong to a facing surface by comparing the view vector with the normal vector.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/osm3d/2.png&quot;&gt;&lt;img src=&quot;/images/osm3d/2.png&quot; alt=&quot;&quot; title=&quot;2&quot; width=&quot;500&quot; class=&quot;alignnone size-medium wp-image-331&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After removing these lines we also remove the lines which are currently not visible by the viewer. This can be done by defining a 2d view volume. All lines that aren&amp;#8217;t visible will be removed.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/osm3d/4.png&quot;&gt;&lt;img src=&quot;/images/osm3d/4.png&quot; alt=&quot;&quot; title=&quot;4&quot; width=&quot;500&quot;  class=&quot;alignnone size-medium wp-image-333&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Applications&lt;/h1&gt;
&lt;p&gt;Aligning any image with some parameters about its location precisely within this scene can open a variety of applications. Such as real time augmented reality applications. You can superimpose any content over an image or a video of the scene. And more specific: You could align your content to any surface the scene provides. Imagine arrows that point a direction along walls of a building.&lt;/p&gt;
&lt;h1&gt;Development&lt;/h1&gt;
&lt;p&gt;Currently i&amp;#8217;m developing the applications in cpp using OpenCV and OpenSceneGraph (&lt;span class=&quot;caps&quot;&gt;OSG&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;What i have done:&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
&lt;li&gt;Projective Textures using glsl shaders. 15.07.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Extracting horizon contour from images using OpenCV functions. &amp;#8211; 19.07.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Creating a view volume that represents the actual view of the &amp;#8216;projector&amp;#8217; within the program. 06.07.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Align the extracted into the view volume of the program so that the contour will be superimposed over the viewed scene. &amp;#8211; 22.07.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Transforming osm data coordinates to &lt;a href=&quot;http://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system&quot;&gt;&lt;span class=&quot;caps&quot;&gt;UTM&lt;/span&gt;.&lt;/a&gt; &amp;#8211; 01.08.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Combining mesh creation &amp;amp; osm data &amp;amp; projection of image data within one program. &amp;#8211; 03.08.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Extracting openstreetmap data via xml web api by using a adapted c library. &amp;#8211; 03.08.2009&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Developing a fast algorithm for generating a homogeneous polygon mesh between two lines. &amp;#8211; 09.08.2009&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;What needs to be done:&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
&lt;li&gt;Align a unknown image which was taken within the scene using &lt;a href=&quot;http://en.wikipedia.org/wiki/Scale-invariant_feature_transform&quot;&gt;sift template matching&lt;/a&gt; as key technology.&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Handling multiple projection sources within one scene&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Useing accelerometer data from wiimote to match the viewer orientation within the scene&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Using &lt;span class=&quot;caps&quot;&gt;GPS&lt;/span&gt; data to match the viewer position within the scene.&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Refining the viewer attitude (position, field of view, orientation) by examine external image feed&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;script src=&quot;http://www.gliffy.com/diagramEmbed.js&quot; type=&quot;text/javascript&quot;&gt; &lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; gliffy_did = &quot;1785581&quot;; embedGliffy(); &lt;/script&gt;&lt;p&gt;&lt;br/&gt;
Screenshots:&lt;br /&gt;
&lt;img src=&quot;/images/osm3d/pano1.png&quot; alt=&quot;pano1&quot; title=&quot;pano1&quot; width=&quot;580&quot; height=&quot;486&quot; class=&quot;alignnone size-full wp-image-416&quot; /&gt;&lt;br /&gt;
&lt;br/&gt;
Here you can see the generated mesh of the MQ using openstreetmap data. A projection is applied as texture to the model.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;br/&gt;
&lt;img src=&quot;/images/osm3d/pano2.png&quot; alt=&quot;pano2&quot; title=&quot;pano2&quot; width=&quot;783&quot; height=&quot;590&quot; class=&quot;alignnone size-full wp-image-417&quot; /&gt;&lt;br /&gt;
&lt;br/&gt;
Here you can see one projection face. A full projection will consists of four projection planes. One for each direction. As you can see the projection is divided into smaller parts. This must be done to achieve maximum image resolution of the projection since the maximum texture resolution is 2048&amp;#215;2048.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;br/&gt;
&lt;img src=&quot;/images/osm3d/pano3.png&quot; alt=&quot;pano3&quot; title=&quot;pano3&quot; width=&quot;770&quot; height=&quot;664&quot; class=&quot;alignnone size-full wp-image-418&quot; /&gt;&lt;br /&gt;
&lt;br/&gt;
This is the projector view.&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;br/&gt;
&lt;h1&gt;Credits&lt;/h1&gt;&lt;br /&gt;
The panorama image was taken by Jan Zarnikov. &lt;a href=&quot;http://www.viewat.org/?i=en&amp;sec=pn&amp;id_pn=3878&quot;&gt;Panorama at www.viewat.org&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>fglrx 9-6 to 9-11 Installation and Debian testing with 2.6.26-2-686-bigmem </title>
   <link href="http://www.jotschi.de/uncategorized/2009/07/05/fglrx-installation-and-debian-testing-with-2626-2-686-bigmem.html"/>
   <updated>2009-07-05T14:17:30+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/07/05/fglrx-installation-and-debian-testing-with-2626-2-686-bigmem</id>
   <content type="html">&lt;p&gt;My fglrx installation guide for Debian testing (squeez) with 2.6.26-2-686-bigmem.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-313&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Update: I updated the post to meet fglrx 9-11 requirements.&lt;/p&gt;
&lt;h2&gt;Preperations:&lt;/h2&gt;
&lt;p&gt;1. Stop X&lt;/p&gt;
&lt;p&gt;2. Install additional packages you might need:&lt;br /&gt;
&lt;code&gt;apt-get install module-assistant build-essential fakeroot dh-make debconf bzip2 wget libstdc++5 linux-headers-$(uname -r) &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3. Download ati-driver-installer-9-11-x86.&amp;#215;86_64.run from &lt;a href=&quot;http://www.amd.com&quot;&gt;www.amd.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5. If you are using a source that supplies non-free packages you have to disable package acquisitions.&lt;/p&gt;
&lt;p&gt;Create the file /etc/apt/preferences with the following content:&lt;br /&gt;
&lt;blockquote&gt;Package: fglrx-amdcccle &lt;br /&gt;
Pin: version 8.62-1*&lt;br /&gt;
Pin-Priority: 1001&lt;/p&gt;
&lt;p&gt;Package: fglrx-driver&lt;br /&gt;
Pin: version 8.62-1*&lt;br /&gt;
Pin-Priority: 1001&lt;/p&gt;
&lt;p&gt;Package: fglrx-driver-dev &lt;br /&gt;
Pin: version 8.62-1*&lt;br /&gt;
Pin-Priority: 1001&lt;/p&gt;
&lt;p&gt;Package: fglrx-kernel-src&lt;br /&gt;
Pin: version 8.62-1*&lt;br /&gt;
Pin-Priority: 1001&lt;/blockquote&gt;&lt;/p&gt;
&lt;h2&gt;Upgrade Steps:&lt;/h2&gt;
In case you want to upgrade your fglrx driver you need to take care of the following steps:
&lt;p&gt;1. Unload fglrx module in case you are using it&lt;br /&gt;
&lt;code&gt;modprobe -r fglrx &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2. Remove all fglrx packages. You might have to change the order of command due to dependencies between the packages.&lt;br /&gt;
&lt;code&gt;// get a list of all fglrx packages
sudo dpkg -l | grep fglrx
sudo dpkg -P  fglrx-driver
sudo dpkg -P  fglrx-kernel-$(uname -r)
sudo dpkg -P  fglrx-kernel-src
sudo dpkg -P  fglrx-amdcccle
sudo dpkg -P  fglrx-driver-dev
// make sure everything is gone
sudo dpkg -l | grep fglrx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;3. Restore files that might have been messed up by previous fglrx installations&lt;br /&gt;
&lt;code&gt;apt-get --reinstall install libgl1-mesa-glx
apt-get --reinstall install xserver-xorg-core&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;4. Get rid of old ati configurations&lt;br /&gt;
&lt;code&gt;sudo mv /etc/ati /tmp
sudo mv /etc/X11/xorg.conf /tmp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;5. Create new xorg.conf without ati specifications inside &lt;/del&gt;&lt;br /&gt;
&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;sudo dpkg-reconfigure xserver-xorg&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;6. Remove leftovers of previous installations:&lt;/del&gt;&lt;br /&gt;
&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;rm /usr/src/fglrx.tar.bz2&lt;/del&gt;&lt;br /&gt;
&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;rm /usr/src/&lt;strong&gt;fglrx&lt;/strong&gt;.deb&lt;/del&gt;&lt;/p&gt;
&lt;h2&gt;Installation Steps:&lt;/h2&gt;
&lt;p&gt;1. Create the fglrx packages:&lt;br /&gt;
&lt;code&gt;./ati-driver-installer-9-11-x86.x86_64.run --extract fglrx_9-11
cd fglrx_9-11
ln -s x740 x710
./packages/Debian/ati-packager.sh --buildpkg testing
&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2. Install the packages. You may have to change the order due to dependencies.&lt;br /&gt;
&lt;code&gt;dpkg -i fglrx-driver_8.62-1_i386.deb
dpkg -i fglrx-driver-dev_8.62-1_i386.deb
dpkg -i fglrx-kernel-src_8.62-1_i386.deb
dpkg -i fglrx-amdcccle_8.62-1_i386.deb&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Once you get the following error you can proceed with dpkg &amp;#8212;force-all:&lt;br /&gt;
&lt;strong&gt;trying to overwrite `/usr/lib/xorg/modules/extensions/libglx.soâ€™, which is also in package xserver-xorg-core&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Finally i had to use the &amp;#8212;force-all option to install the package. &lt;br /&gt;
&lt;code&gt;dpkg --force-all -i fglrx-driver_8.62-1_i386.deb&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This is a quite drastic step but otherwise the fglrx driver won&amp;#8217;t install at all.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;3. Build and install the fglrx kernel module. I had not to modify the sources in any way.&lt;br /&gt;
&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;module-assistant auto-install fglrx-kernel-src&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;Update: This does not work any more. I do not know why. But here is the workaround:&lt;br /&gt;
&lt;code&gt;module-assistant&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;span class=&quot;caps&quot;&gt;SELECT&lt;/span&gt; &amp;#8594; fglrx-kernel &amp;#8594; &lt;span class=&quot;caps&quot;&gt;BUILD&lt;/span&gt; / &lt;span class=&quot;caps&quot;&gt;INSTALL&lt;/span&gt; #&lt;br /&gt;
&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;del datetime=&quot;2009-11-18T17:39:24+00:00&quot;&gt;Please note that at this point no download should occure. If it does abort the installation. In that case the module-assistant downloaded the desired module from the non-free package tree. You can avoid this by removing non-free from your source.lst and rebuild the index via apt-get update.&lt;br /&gt;
&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;4. Load the module:&lt;br /&gt;
&lt;code&gt;modprobe fglrx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5. Make sure it was loaded. If it wasn&amp;#8217;t loaded use dmesg to check what happed.&lt;br /&gt;
&lt;code&gt;lsmod | grep fglrx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;6. Create the ati configuration.&lt;br /&gt;
&lt;code&gt;aticonfig --initial&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;7. Start X&lt;br /&gt;
&lt;code&gt;startx&lt;/code&gt;&lt;br /&gt;
Note:&lt;br /&gt;
If you have trouble of setup a dual head environment without using Xinerama take a look the related post.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>fglrx and Debian testing with 2.6.26-2-686-bigmem</title>
   <link href="http://www.jotschi.de/fundgrube/2009/07/05/fglrx-and-debian-testing-with-2626-2-686-bigmem.html"/>
   <updated>2009-07-05T13:17:12+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/2009/07/05/fglrx-and-debian-testing-with-2626-2-686-bigmem</id>
   <content type="html">&lt;p&gt;Wuarg! Again &lt;span class=&quot;caps&quot;&gt;PAIN&lt;/span&gt; with fglrx. I just setup a fresh and clean debian installation but fglrx just creates pain. &lt;br /&gt;
Well.. fglrx installed fine (with the known errors) the module compiled and everything looked ok but i wasn&amp;#8217;t able to setup Dual-Head because amdcccle gave me no option to select a Multi-Monitor arragnement. There were only two options: Single (Indipendent Position) and Unknown. I solved the issue. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-305&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br/&gt;&lt;a href=&quot;/images/ati/amdcccle-unknown.png&quot;&gt;&lt;img src=&quot;/images/ati/amdcccle-unknown.png&quot; alt=&quot;&quot; title=&quot;amdcccle-unknown&quot; width=&quot;150&quot; height=&quot;116&quot; class=&quot;alignnone size-thumbnail wp-image-307&quot; /&gt;&lt;/a&gt;&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;I had to overwrite the /etc/ati/amdpcsdb file with one i saved from a working installation.&lt;a href=&#39;/downloads/ati/amdpcsdb&#39;&gt;Download /etc/ati/amdpcsdb&lt;/a&gt;. I used this &lt;a href=&#39;/downloads/xorg/xorg.conf_workingfine&#39;&gt;/etc/X11/xorg.conf&lt;/a&gt; X11 configuration file.&lt;/p&gt;
&lt;p&gt;I belive the amdcccle does not create a correct amdpcsdb file from the amdpcsdb.default file.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Remove CTRL+Q Firefox Linux Keybinding</title>
   <link href="http://www.jotschi.de/fundgrube/2009/06/24/remove-ctrlq-firefox-linux-keybinding.html"/>
   <updated>2009-06-24T19:28:29+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/2009/06/24/remove-ctrlq-firefox-linux-keybinding</id>
   <content type="html">&lt;p&gt;Using Debian Firefox 3 with fluxbox the default keybinding of CTRL+Q is very fast and anoying quit of firefox.&lt;/p&gt;
&lt;p&gt;Just go to &lt;a href=&quot;http://mozilla.dorando.at/&quot;&gt;http://mozilla.dorando.at/&lt;/a&gt; and Install keyconfig.xpi and disable the keybinding for ctrl+q.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>OpenPhotoVR</title>
   <link href="http://www.jotschi.de/fundgrube/gfx/2009/06/11/openphotovr.html"/>
   <updated>2009-06-11T10:46:27+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/gfx/2009/06/11/openphotovr</id>
   <content type="html">&lt;p&gt;While searching for a solution to get mono and silverlight and the whole M$ stuff working under my debian installation i just found &lt;a href=&quot;http://openphotovr.org/#a90&quot;&gt;OpenPhotoVR&lt;/a&gt;. OpenPhotoVR is a pseudo-3D photo browser using Flash instead of silverlight. However the matching of the images is not done automatically.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-294&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;object width=&quot;400&quot; height=&quot;300&quot;&gt;  &lt;br /&gt;
&lt;param name=&quot;movie&quot; value=&quot;http://openphotovr.org/main.swf&quot;&gt;&lt;/param&gt;  &lt;br /&gt;
&lt;param name=&quot;FlashVars&quot; value=&quot;id=a299&quot;&gt;&lt;/param&gt;  &lt;br /&gt;
&lt;embed src=&quot;http://openphotovr.org/main.swf&quot;   FlashVars=&quot;id=a299&quot;   type=&quot;application/x-shockwave-flash&quot;     width=&quot;400&quot; height=&quot;300&quot; &gt;&lt;/embed&gt;  &lt;br /&gt;
&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/0f5NuHzGXJA?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;Since the &lt;a href=&quot;http://phototour.cs.washington.edu/bundler/&quot;&gt;bundler code&lt;/a&gt; which is used to match images in images is free it should be possible to create an automatically way of matching the images.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Projective Textures with OpenSceneGraph</title>
   <link href="http://www.jotschi.de/fundgrube/gfx/2009/05/31/projective-textures-with-openscenegraph.html"/>
   <updated>2009-05-31T21:55:15+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/gfx/2009/05/31/projective-textures-with-openscenegraph</id>
   <content type="html">&lt;p&gt;I finally managed to get projective textures working using &lt;span class=&quot;caps&quot;&gt;GLSL&lt;/span&gt; shaders rather than fixed pipeline functionality. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-284&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/osg/projection_fixedfunctionality.jpg&quot; alt=&quot;Projective Texturing Example&quot; /&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &lt;iostream&gt;&lt;br /&gt;
#include &amp;lt;osg/Notify&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/MatrixTransform&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/ShapeDrawable&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/PositionAttitudeTransform&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/Geometry&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/Texture2D&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/Geode&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/LightSource&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/TexGenNode&amp;gt;&lt;br /&gt;
#include &amp;lt;osg/TexMat&amp;gt;&lt;br /&gt;
#include &amp;lt;osgDB/WriteFile&amp;gt;&lt;br /&gt;
#include &amp;lt;osgUtil/Optimizer&amp;gt;&lt;br /&gt;
#include &amp;lt;osgDB/Registry&amp;gt;&lt;br /&gt;
#include &amp;lt;osgDB/ReadFile&amp;gt;&lt;br /&gt;
#include &amp;lt;osgViewer/Viewer&amp;gt;&lt;/p&gt;
&lt;p&gt;osg::StateSet* createProjectorState() {&lt;/p&gt;
&lt;p&gt;osg::StateSet* stateset = new osg::StateSet;&lt;/p&gt;
&lt;p&gt;/* 1. Load the texture that will be projected &lt;strong&gt;/&lt;br /&gt;
	osg::Texture2D&lt;/strong&gt; texture = new osg::Texture2D();&lt;br /&gt;
	texture&amp;#8594;setImage(osgDB::readImageFile(&amp;#8220;foo.jpg&amp;#8221;));&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_S, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_T, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	texture&amp;#8594;setWrap(osg::Texture::WRAP_R, osg::Texture::CLAMP_TO_BORDER);&lt;br /&gt;
	stateset&amp;#8594;setTextureAttributeAndModes(1, texture, osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;// set up tex gens&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_S,&lt;br /&gt;
	osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_T,&lt;br /&gt;
	osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_R,&lt;br /&gt;
	osg::StateAttribute::ON);&lt;br /&gt;
	stateset&amp;#8594;setTextureMode(1, GL_TEXTURE_GEN_Q,&lt;br /&gt;
	osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;/* 2. Load the Shaders */&lt;br /&gt;
	osg::ref_ptr&lt;osg::Program&gt; projProg(new osg::Program);&lt;br /&gt;
	osg::ref_ptr&lt;osg::Shader&gt; projvertexShader(osg::Shader::readShaderFile(&lt;br /&gt;
			osg::Shader::&lt;span class=&quot;caps&quot;&gt;VERTEX&lt;/span&gt;, &amp;#8220;VertexShader.glsl&amp;#8221;));&lt;br /&gt;
	osg::ref_ptr&lt;osg::Shader&gt; projfragShader(osg::Shader::readShaderFile(&lt;br /&gt;
			osg::Shader::&lt;span class=&quot;caps&quot;&gt;FRAGMENT&lt;/span&gt;, &amp;#8220;FragmentShader.glsl&amp;#8221;));&lt;br /&gt;
	projProg&amp;#8594;addShader(projvertexShader.get());&lt;br /&gt;
	projProg&amp;#8594;addShader(projfragShader.get());&lt;/p&gt;
&lt;p&gt;/* 3. Handover the texture to the fragment shader via uniform &lt;strong&gt;/&lt;br /&gt;
	osg::Uniform&lt;/strong&gt; texUniform = new osg::Uniform(osg::Uniform::SAMPLER_2D,&lt;br /&gt;
			&amp;#8220;projectionMap&amp;#8221;);&lt;br /&gt;
	texUniform&amp;#8594;set(1);&lt;br /&gt;
	stateset&amp;#8594;addUniform(texUniform);&lt;/p&gt;
&lt;p&gt;/* 4. set Texture matrix*/&lt;br /&gt;
	osg::TexMat* texMat = new osg::TexMat;&lt;br /&gt;
	osg::Matrix mat;&lt;br /&gt;
	osg::Vec3 projectorPos = osg::Vec3(0.0f, 0.0f, 324.0f);&lt;br /&gt;
	osg::Vec3 projectorDirection = osg::Vec3(osg::inDegrees(0.0f),&lt;br /&gt;
			osg::inDegrees(280.0f), osg::inDegrees(-460.0f));&lt;br /&gt;
	float projectorAngle = 110;&lt;br /&gt;
	osg::Vec3 up(0.0f, 0.0f, 1.0f);&lt;br /&gt;
	mat = osg::Matrixd::lookAt(projectorPos, projectorPos + projectorDirection,&lt;br /&gt;
			up) * osg::Matrixd::perspective(projectorAngle, 1.0, 0.1, 100);&lt;br /&gt;
	texMat&amp;#8594;setMatrix(mat);&lt;br /&gt;
	stateset&amp;#8594;setTextureAttributeAndModes(1, texMat, osg::StateAttribute::ON);&lt;/p&gt;
&lt;p&gt;stateset&amp;#8594;setAttribute(projProg.get());&lt;br /&gt;
	return stateset;&lt;br /&gt;
}&lt;br /&gt;
osg::Node* createModel() {&lt;br /&gt;
	osg::Group* root = new osg::Group;&lt;/p&gt;
&lt;p&gt;/* Load the terrain which will be the receiver of out projection &lt;strong&gt;/&lt;br /&gt;
	osg::Node&lt;/strong&gt; terr = osgDB::readNodeFile(&amp;#8220;Terrain2.3ds&amp;#8221;);&lt;br /&gt;
	osg::Image* shot = new osg::Image();&lt;/p&gt;
&lt;p&gt;/* Scale the terrain and move it. */&lt;br /&gt;
	osg::Matrix m;&lt;br /&gt;
	osg::ref_ptr&lt;osg::MatrixTransform&gt; mt = new osg::MatrixTransform;&lt;br /&gt;
	m.makeTranslate(112.f, 410.f, -2.f);&lt;br /&gt;
	m.makeScale(2.f, 2.f, 2.f);&lt;br /&gt;
	mt&amp;#8594;setMatrix(m);&lt;br /&gt;
	mt&amp;#8594;addChild(terr);&lt;/p&gt;
&lt;p&gt;/* Add the transformed node to our graph */&lt;br /&gt;
	root&amp;#8594;addChild(mt.get());&lt;/p&gt;
&lt;p&gt;/* Enable projective texturing for all objects of this node &lt;strong&gt;/&lt;br /&gt;
	root&amp;#8594;setStateSet(createProjectorState());&lt;br /&gt;
	return root;&lt;br /&gt;
}&lt;br /&gt;
int main(int, char *&lt;/strong&gt;) {&lt;br /&gt;
	osgViewer::Viewer viewer;&lt;br /&gt;
	viewer.setSceneData(createModel());&lt;br /&gt;
	viewer.setUpViewInWindow(0, 0, 1024, 768);&lt;br /&gt;
	return viewer.run();&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Fragment Shader:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
uniform sampler2D projectionMap;&lt;br /&gt;
varying vec4 projCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;br /&gt;
	vec4 dividedCoord = projCoord / projCoord.w ;&lt;br /&gt;
	vec4 color =  texture2D(projectionMap,dividedCoord.st);&lt;br /&gt;
  	gl_FragColor =	 color * gl_Color;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Vertex Shader:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
varying vec4 projCoord;&lt;br /&gt;
void main()&lt;br /&gt;
{&lt;br /&gt;
     	projCoord = gl_TextureMatrix&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; * gl_Vertex;&lt;br /&gt;
		gl_Position = ftransform();&lt;br /&gt;
		gl_FrontColor = gl_Color;&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ATI fglrx video tearing vsync problem with dual-head</title>
   <link href="http://www.jotschi.de/technik/2009/05/19/ati-fglrx-video-tearing-vsync-problem-with-dual-head.html"/>
   <updated>2009-05-19T22:23:59+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/05/19/ati-fglrx-video-tearing-vsync-problem-with-dual-head</id>
   <content type="html">&lt;p&gt;I got problem with video playback when using the fglrx drivers as you can tell by the image below.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-278&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/images/ati/crappy_video.png&quot;&gt;&lt;img src=&quot;/images/ati/crappy_video.png&quot; alt=&quot;&quot; title=&quot;crappy_video&quot; width=&quot;200&quot; height=&quot;152&quot; class=&quot;alignnone size-medium wp-image-277&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Playing movies which include rapid motions produce these teared video frames. This problem is cause by the missing vsync. Apparently fglrx does not support vsync for xv yet ( fglrxinfo: 2.1.8591 / Driver Package: 8.602-1 / Installer Package: ati-driver-installer-9-4-x86.&amp;#215;86_64.run )&lt;/p&gt;
&lt;p&gt;You can enable vsync for OpenGL:&lt;br /&gt;
&lt;code&gt;sudo aticonfig --overlay-type=Xv
sudo sudo aticonfig --sync-video=on
sudo aticonfig --vs=on&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Thus now you can use mplayer -vo gl somefile.mkv to play your movies with vsync enabled. Of course gl output is a lot slower than xv.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Xv currently has no vsync with fglrx, so there is no other way than using opengl as output.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://www.phoronix.com/forums/showthread.php?t=11891&quot;&gt;http://www.phoronix.com/forums/showthread.php?t=11891&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Update: That workaround gave me a better image on one monitor (less tearing) but there is still tearing in the image.&lt;/p&gt;
&lt;p&gt;If someone knows a solution for this issue please let me know.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>fglrx and Debian testing on amd64 - 2.6.26-2-amd64</title>
   <link href="http://www.jotschi.de/technik/2009/05/19/fglrx-and-debian-testing-on-amd64-2626-2-amd64.html"/>
   <updated>2009-05-19T20:33:46+00:00</updated>
   <id>http://www.jotschi.de/technik/2009/05/19/fglrx-and-debian-testing-on-amd64-2626-2-amd64</id>
   <content type="html">&lt;p&gt;I finally managed to get fglrx working with dri and dual head using the latest ati driver: &lt;br /&gt;
ati-driver-installer-9-4-x86.&amp;#215;86_64.run&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;br /&gt;
works also with:&lt;br /&gt;
ati-driver-installer-9-5-x86.&amp;#215;86_64.run&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-269&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Some Notes:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
jotschi@NeXuS:~$ uname -r
2.6.26-2-amd64

jotschi@NeXuS:~$ fglrxinfo 
display: :0.0  screen: 0
OpenGL vendor string: ATI Technologies Inc.
OpenGL renderer string: ATI Radeon HD 4800 Series
OpenGL version string: 2.1.8591

jotschi@NeXuS:~/Desktop$ dpkg -l | grep fglrx
ii  fglrx-amdcccle                     8.602-1                     Catalyst Control Center for the ATI graphics accelerators
ii  fglrx-driver                            8.602-1                     Video driver for the ATI graphics accelerators
ii  fglrx-driver-dev                      8.602-1                     Video driver for the ATI graphics accelerators (devel files)
ii  fglrx-kernel-2.6.26-2-amd64   8.602-1+2.6.26-15           ATI binary kernel module for Linux 2.6.26-2-amd64
ii  fglrx-kernel-src                     8.602-1                     Kernel module source for the ATI graphics accelerators

jotschi@NeXuS:~/Desktop$ dpkg -l | grep xorg | head -n 4 | grep -v docs
ii  xorg                                    1:7.3+18                    X.Org X Window System
ii  xserver-xorg                         1:7.3+18                    the X.Org X server
ii  xserver-xorg-core                  2:1.4.2-11                  Xorg X server - core server
&lt;/pre&gt;&lt;p&gt;Mainly i used this guide: &lt;a href=&quot;http://wiki.cchtml.com/index.php/Debian_Installation_Guide&quot;&gt;http://wiki.cchtml.com/index.php/Debian_Installation_Guide&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There were some glitches because of missing files and creation of diverations. I belive the uninstallation of fglrx does not revert created diverations of certain libraries. (I dunno if the removeal of created diverations this is the expected behaviour of package removeal)&lt;/p&gt;
&lt;p&gt;My short Howto:&lt;br /&gt;
0. Optional: &lt;br /&gt;
I removed non-free from my source.lst and did an apt-get update and apt-get clean to make sure that the module assistent would not fetch some fglrx packages via network.&lt;/p&gt;
&lt;p&gt;1. Stop X&lt;/p&gt;
&lt;p&gt;2. unload fglrx module&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
modprobe -r fglrx 
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;3. Install additional packages you might need:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get install module-assistant build-essential fakeroot dh-make debconf bzip2 wget libstdc++5 ia32-libs
apt-get install kernel-headers-$(uname -r)
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;4. Remove all fglrx packages. You might have to change the order of command due to dependencies between the packages.&lt;br /&gt;
&lt;code&gt;dpkg -l | grep fglrx
dpkg -P  fglrx-amdcccle 
dpkg -P fglrx-driver-dev 
dpkg -P fglrx-kernel-src
dpkg -P fglrx-kernel-2.6.26-2-amd64
dpkg -P fglrx-driver&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;5. To restore the files that might have been deleted by the fglrx package removeal routines you can use:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
apt-get --reinstall install libgl1-mesa-glx
apt-get --reinstall install xserver-xorg-core
apt-get --reinstall install ia32-libs
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;6. Create the fglrx packages:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
./ati-driver-installer-9-4-x86.x86_64.run --extract fglrx_9-4
cd fglrx_9-4
cd arch/x86_64/usr/X11R6
ln -s lib64 lib
cd ../../..
./packages/Debian/ati-packager.sh --buildpkg testing
cd ..
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;7. Remove leftovers of previous installations:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
rm /usr/src/fglrx.tar.bz2
rm /usr/src/*fglrx*.deb
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;8. Install the packages. You might have to change the order due to dependencies.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
dpkg -i fglrx-driver_8.602-1_amd64.deb
dpkg -i fglrx-amdcccle_8.602-1_amd64.deb
dpkg -i fglrx-driver-dev_8.602-1_amd64.deb
dpkg -i fglrx-kernel-src_8.602-1_amd64.deb
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: diversion problem&lt;/strong&gt;&lt;br /&gt;
I got some nasty failure while installing fglrx-driver_8.602-1_amd64.deb&lt;br /&gt;
The package installation script was complaining about a failure while creating a diversion of libGL.so.1.2 because that file was used by the package xserver-xorg-core.&lt;br /&gt;
The installation terminated with:&lt;br /&gt;
&lt;code&gt;dpkg: error processing xorg-driver-fglrx&lt;/code&gt;&lt;br /&gt;
You can get rid of those failures by using the &lt;a href=&quot;http://www.debian.org/distrib/packages&quot;&gt;Debian Package Search&lt;/a&gt;. Use the last form of the page to locate the file (e.g. libGL.so.1.2)&lt;br /&gt;
As you see the file /usr/lib/libGL.so.1.2 is part of fglrx and the package libgl1-mesa-glx. I just reinstalled libgl1-mesa-glx and fixed the bug. &lt;del datetime=&quot;2009-05-19T21:01:33+00:00&quot;&gt;You may also remove the package because you wont need mesa once using hardware acceleration. (Please correct me if this is wrong &amp;#8211; I&amp;#8217;m not quite sure about this)&lt;br /&gt;
&lt;/del&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
(Reading database ... 84741 files and directories currently installed.)
Unpacking fglrx-driver (from fglrx-driver_8.612-1_amd64.deb) ...
No diversion `diversion of /usr/lib/libGL.so.1.2 to /usr/share/fglrx/diversions/libGL.so.1.2 by fglrx-driver&amp;#39;, none removed
Adding `diversion of /usr/lib/libGL.so.1.2 to /usr/lib/fglrx/diversions/libGL.so.1.2 by fglrx-driver&amp;#39;
Adding `diversion of /usr/lib/libGL.so.1 to /usr/lib/fglrx/diversions/libGL.so.1 by fglrx-driver&amp;#39;
No diversion `diversion of /emul/ia32-linux/usr/lib/libGL.so.1.2 to /usr/share/fglrx/diversions/libGL.so.1.2_32bit by fglrx-driver&amp;#39;, none removed
Adding `diversion of /emul/ia32-linux/usr/lib/libGL.so.1.2 to /emul/ia32-linux/usr/lib/fglrx/diversions/libGL.so.1.2 by fglrx-driver&amp;#39;
Adding `diversion of /emul/ia32-linux/usr/lib/libGL.so.1 to /emul/ia32-linux/usr/lib/fglrx/diversions/libGL.so.1 by fglrx-driver&amp;#39;
rmdir: failed to remove `/usr/share/fglrx/diversions&amp;#39;: No such file or directory
rmdir: failed to remove `/usr/share/fglrx&amp;#39;: No such file or directory
Leaving `diversion of /usr/lib/libGL.so.1.2 to /usr/lib/fglrx/diversions/libGL.so.1.2 by fglrx-driver&amp;#39;
Leaving `diversion of /usr/lib/libGL.so.1 to /usr/lib/fglrx/diversions/libGL.so.1 by fglrx-driver&amp;#39;
Leaving `diversion of /emul/ia32-linux/usr/lib/libGL.so.1.2 to /emul/ia32-linux/usr/lib/fglrx/diversions/libGL.so.1.2 by fglrx-driver&amp;#39;
Leaving `diversion of /emul/ia32-linux/usr/lib/libGL.so.1 to /emul/ia32-linux/usr/lib/fglrx/diversions/libGL.so.1 by fglrx-driver&amp;#39;
Adding `diversion of /usr/lib/xorg/modules/extensions/libdri.so to /usr/lib/fglrx/diversions/libdri.so by fglrx-driver&amp;#39;
dpkg - warning, overriding problem because --force enabled:
&amp;lt;strong&amp;gt; trying to overwrite `/usr/lib/xorg/modules/extensions/libglx.so&amp;#39;, which is also in package xserver-xorg-core&amp;lt;/strong&amp;gt;
dpkg: error processing 1 (--install):
 cannot access archive: No such file or directory
Setting up fglrx-driver (8.612-1) ...

Configuration file `/etc/acpi/fglrx-powermode.sh&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/acpi/events/fglrx-lid-aticonfig&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/acpi/events/fglrx-ac-aticonfig&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/init.d/atieventsd&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/default/fglrx&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/logo_mask.xbm.example&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/signature&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/control&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/atiogl.xml&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/amdpcsdb.default&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/logo.xbm.example&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/ati/authatieventsd.sh&amp;#39;, does not exist on system.
Installing new config file as you request.

Configuration file `/etc/X11/Xsession.d/70fglrx&amp;#39;, does not exist on system.
Installing new config file as you request.
update-rc.d: warning: /etc/init.d/atieventsd missing LSB information
update-rc.d: see &amp;lt;http://wiki.debian.org/LSBInitScripts&amp;gt;
Starting atieventsd: /usr/sbin/atieventsd already running.
done.
Processing triggers for man-db ...
Errors were encountered while processing:
 1
&lt;/pre&gt;&lt;p&gt;Once you get only the following error you can proceed with dpkg &amp;#8212;force-all:&lt;br /&gt;
&lt;strong&gt;trying to overwrite `/usr/lib/xorg/modules/extensions/libglx.soâ€™, which is also in package xserver-xorg-core&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Finally i had to use the &amp;#8212;force-all option to install the package. &lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
dpkg --force-all -i fglrx-driver_8.602-1_amd64.deb
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;You should try to use the procedure described above before taking this quite drastic step. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;9. Build and install the fglrx kernel module. I had not to modify the sources in any way.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
module-assistant auto-install fglrx-kernel-src
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;10. Load the module:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
modprobe fglrx
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;11. Make sure it was loaded. If it wasn&amp;#8217;t loaded use dmesg to check what happed.&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
lsmod | grep fglrx
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;12. If you want to create a new xorg.conf file which stores your monitor setup etc.:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
mv /etc/X11/xorg.conf /etc/X11/xorg.conf.backup
dpkg-reconfigure xserver-xorg (just follow the instructions)
aticonfig --initial
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;13. You are done. Now start X and run the amdcccle tool and setup your screens. I had to run those steps to get dual head working:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Enable both displays using amdcccle&lt;/li&gt;
	&lt;li&gt;Set the resolution of both displays to the same one&lt;/li&gt;
	&lt;li&gt;Enabling Xinerama&lt;/li&gt;
	&lt;li&gt;Restart X&lt;/li&gt;
	&lt;li&gt;Enabling Multi-Display Settings (Left of ..)&lt;/li&gt;
	&lt;li&gt;Restart X&lt;/li&gt;
	&lt;li&gt;Disabling Xinerama in /etc/X11/xorg.conf&lt;/li&gt;
	&lt;li&gt;Restart X&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Download my xorg.conf:&lt;br /&gt;
&lt;a href=&#39;/downloads/xorg/xorg.conf&#39;&gt;xorg.conf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Overall this is a painstaking way of setting up dual head display and drivers. Please &lt;span class=&quot;caps&quot;&gt;AMD&lt;/span&gt; / &lt;span class=&quot;caps&quot;&gt;ATI&lt;/span&gt; create an Installer that creates valid Deb. packages or even better delete it and create a deb repository that everybody can use.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Automated, Scalable, Airborne Only, 3D Modeling </title>
   <link href="http://www.jotschi.de/fundgrube/gfx/2009/04/23/automated-scalable-airborne-only-3d-modeling.html"/>
   <updated>2009-04-23T22:58:44+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/gfx/2009/04/23/automated-scalable-airborne-only-3d-modeling</id>
   <content type="html">&lt;p&gt;I just found this page which describes methods of 3D City Modeling. They use airborn and ground based lasers to get the geometric information that is needed to complete the model. Keep in mind that Google StreetView Cars are also equiped with lidar.&lt;/p&gt;
&lt;p&gt;http://www-video.eecs.berkeley.edu/~avz/aironly.htm&lt;/p&gt;
&lt;p&gt;Also take a look at this interessting techtalk:&lt;/p&gt;
&lt;p&gt;http://video.google.com/videoplay?docid=1783762882645705066&amp;amp;ei=P9XwSe2fJJ7e2gL3kJWxDA&amp;amp;q=Avideh+Zakhor&amp;amp;hl=en&amp;amp;client=iceweasel-a&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Javascript Frames Without Frames Using Ajax (JQuery)</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2009/02/21/javascript-website-clipping-using-ajax-jquery.html"/>
   <updated>2009-02-21T23:00:20+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2009/02/21/javascript-website-clipping-using-ajax-jquery</id>
   <content type="html">&lt;p&gt;Including a page into your own website using frames is no big deal. But what will you do when you don&amp;#8217;t want to use iframes? Well you could use Ajax :)&lt;/p&gt;
&lt;p&gt;Of course just fetching the &lt;span class=&quot;caps&quot;&gt;HTML&lt;/span&gt; via Ajax and replace the innerHTML of a &lt;span class=&quot;caps&quot;&gt;DIV&lt;/span&gt; element will not be enough because for example the anchors inside the faked frame should be usable too and images should be loaded correctly too. And of course you want a valid document. So you have to include only the &lt;body&gt; innerHTML content.&lt;/p&gt;
&lt;p&gt;The demo can be found here:&lt;br /&gt;
&lt;a href=&quot;/downloads/ajax_clipping/test.html&quot;&gt;JavaScript Ajax Clipping&lt;/a&gt;&lt;br /&gt;
Clicking inside a link of the clipping area will not open a new window with the page&amp;#8217;s content. Instead the page will be loaded inside of clipping area.&lt;/p&gt;
&lt;p&gt;The full example can be downloaded here: &lt;br /&gt;
&lt;a href=&#39;/downloads/javascript_clipping/javascript_clipping1.tgz&#39;&gt;javascript_clipping1.tgz&lt;/a&gt;&lt;br /&gt;
Note that i just implemented and tested this with Firefox 3.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-254&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1. Define a div like this one. All links inside this div will be ajaxified. :)&lt;br /&gt;
&lt;pre class=&quot;syntax escaped html&quot;&gt;
&amp;lt;div class=&amp;quot;clipping_area&amp;quot; id=&amp;quot;clipping_area_1&amp;quot; style=&amp;quot;background:grey&amp;quot; &amp;gt;
     This content might be replaced just by a click.&amp;lt;a href=&amp;quot;subfolder/test_frame2.html&amp;quot;&amp;gt;Click&amp;lt;/a&amp;gt;
 &amp;lt;/div&amp;gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;2. If you need links links outside of the div that are able to change the content of that div you can use such links:&lt;br /&gt;
&lt;pre lang=&quot;HTML&quot;&gt;&lt;br /&gt;
       &lt;a href=&quot;test_frame.html&quot; class=&quot;clipping_link&quot; target=&quot;clipping_area_1&quot;&gt;A Clipping Link 1 Outside Of The Definined ClippingArea&lt;/a&gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;What does work:&lt;br /&gt;
Adaption of Image &lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt;.&lt;br /&gt;
Adaption of anchors.&lt;/p&gt;
&lt;p&gt;What will most likely not work?&lt;br /&gt;
JavaScript inside of the loaded websites (untested)&lt;/p&gt;
&lt;pre class=&quot;syntax escaped javascript&quot;&gt;
// Initialise ajax links when dom is ready
$(document).ready(function(){
updateLinks();
});

/*
 * Transform all anchors within clipping areas and clipping anchors
 */
function updateLinks(url) {

   // Enable this to see which links will be transformed to ajax clipping links	
   // $(&amp;quot;#clipping_area a&amp;quot;).css(&amp;quot;border&amp;quot;,&amp;quot;3px solid red&amp;quot;);
   // $(&amp;quot;clipping_link&amp;quot;).css(&amp;quot;border&amp;quot;,&amp;quot;3px solid red&amp;quot;);

    $(&amp;quot;.clipping_area a&amp;quot;).unbind(&amp;#39;click&amp;#39;);
    $(&amp;quot;.clipping_area a&amp;quot;).bind(&amp;#39;click&amp;#39;,function(event){
      event.preventDefault();
	var node = this;
        var areaId = null;
	while(node != null) {
	   node = node.parentNode;
	   if(node.getAttribute(&amp;quot;class&amp;quot;)==&amp;#39;clipping_area&amp;#39;) {
		areaId = node.getAttribute(&amp;quot;id&amp;quot;);
		break;
	   }	
   	   alert(node);
	}
        loadPage(this.href,areaId);
    });

    $(&amp;quot;.clipping_link&amp;quot;).unbind(&amp;#39;click&amp;#39;);
    $(&amp;quot;.clipping_link&amp;quot;).bind(&amp;#39;click&amp;#39;,function(event){
      event.preventDefault();
      loadPage(this.href,this.target);
    });

    // handle images that 
    $(&amp;quot;img&amp;quot;).error(function(){

    var pageURL = url;
    var imageURL  = this.src;
    
    var imagePath = imageURL.replace(/(\/[^\/]*$)/,&amp;quot;&amp;quot;);
    var imageFileName = imageURL.replace(/^.*\//,&amp;quot;&amp;quot;);
    var pagePath =  pageURL.replace(/(\/[^\/]*$)/,&amp;quot;&amp;quot;);
    var diffPath = pagePath.replace(imagePath,&amp;quot;&amp;quot;);
    var newImageURL =  imagePath + diffPath +&amp;quot;/&amp;quot;+ imageFileName;
    // set the corrected url for the image
    this.src = newImageURL;

 });

}

/*
 * Load the given url into the clipping area with the given areaId
 */
function loadPage(url,areaId) {
    $.get(url,
       function(data) {
         setPage(data,areaId);
  	 updateLinks(url);
    });
}

/*
 * Parse the given string and create a dom object
 */
function parseXML( xml ) {
   if( window.ActiveXObject &amp;amp;&amp;amp; window.GetObject ) {
        var dom = new ActiveXObject( &amp;#39;Microsoft.XMLDOM&amp;#39; );
        dom.loadXML( xml );
        return dom;
    }
    if( window.DOMParser )
       return new DOMParser().parseFromString( xml, &amp;#39;text/xml&amp;#39; );
    throw new Error( &amp;#39;No XML parser available&amp;#39; );
} 

/*
 * Parse the given html and locate body tag. Insert html into 
 * the given clipping area by using the areaId.
 */
function setPage(html,areaId) {
   var dom = parseXML(html);
   var $dom = $(dom); 
   var strXML = dom.getElementsByTagName(&amp;#39;body&amp;#39;).item(0).innerHTML;
   $(&amp;quot;#&amp;quot;+areaId).html(strXML);
}
&lt;/pre&gt;&lt;p&gt;Update:&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;DOM&lt;/span&gt; Parsing will fail if you read an invalid html document. Using RegEx can do the same. And i fixed &lt;span class=&quot;caps&quot;&gt;URL&lt;/span&gt; handling and #target like anchors. The stylesheet of the page is now usable too but due to hirarchy problems loading it will affect also the rest of the page.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped javascript&quot;&gt;
// Initialise ajax links when dom is ready
$(document).ready( function() {
	updateLinks();
});

/*
 * Transform all anchors within clipping areas and clipping anchors
 */
function updateLinks(url) {

	$(&amp;quot;.clipping_area a&amp;quot;).unbind(&amp;#39;click&amp;#39;);
	$(&amp;quot;.clipping_area a&amp;quot;).bind(&amp;#39;click&amp;#39;, function(event) {
		event.preventDefault();

		var node = this;
		var areaId = null;
		while (node != null) {
			node = node.parentNode;
			if (node.getAttribute(&amp;quot;class&amp;quot;) == &amp;#39;clipping_area&amp;#39;) {
				areaId = node.getAttribute(&amp;quot;id&amp;quot;);
				break;
			}
			// alert(node);
		}
		var urlPart = this.href.replace(/^.*\// , &amp;quot;&amp;quot;);
		if (urlPart.match(/#.*/)) {
			window.location.hash = urlPart.replace(/#/, &amp;quot;&amp;quot;);
		} else {
			loadPage(this.href, areaId);
		}
	});

	$(&amp;quot;.clipping_link&amp;quot;).unbind(&amp;#39;click&amp;#39;);
	$(&amp;quot;.clipping_link&amp;quot;).bind(&amp;#39;click&amp;#39;, function(event) {
		event.preventDefault();
		loadPage(this.href, this.target);
	});

	// handle images that
	$(&amp;quot;img&amp;quot;).error( function() {

		var pageURL = url;
		var imageURL = this.src;

		var imagePath = imageURL.replace(/(\/[^\/]*$)/, &amp;quot;&amp;quot;);
		var imageFileName = imageURL.replace(/^.*\// , &amp;quot;&amp;quot;);
		var pagePath = pageURL.replace(/(\/[^\/]*$)/, &amp;quot;&amp;quot;);
		var diffPath = pagePath.replace(imagePath, &amp;quot;&amp;quot;);
		var newImageURL = imagePath + diffPath + &amp;quot;/&amp;quot; + imageFileName;
		// set the corrected url for the image
			this.src = newImageURL;

		});

}

/*
 * Load the given url into the clipping area with the given areaId
 */
function loadPage(url, areaId) {
	$.get(url, function(data) {
		setPage(url, data, areaId);
		updateLinks(url);
	});
}

/*
 * Parse the given html and locate body tag. Insert html into the given clipping
 * area by using the areaId.
 */
function setPage(url, html, areaId) {

	// remove encoding error while reading iso-8859 into utf-8 document
	html = html.replace(/ï¿½/g, &amp;quot;&amp;quot;);

	var style = html;
	style = style.replace(/.*[^\/]STYLE[^\&amp;gt;]*\&amp;gt;/, &amp;quot;&amp;quot;);
	style = style.replace(/\&amp;lt;\/STYLE\&amp;gt;.*/, &amp;quot;&amp;quot;);

	html = html.replace(/.*[^\/]BODY\&amp;gt;/, &amp;quot;&amp;quot;);
	// html = html.replace(/.*[^\/]body\&amp;gt;/,&amp;quot;&amp;quot;)
	html = html.replace(/\&amp;lt;\/BODY\&amp;gt;.*/, &amp;quot;&amp;quot;);

	var pagePath = url.replace(/(\/[^\/]*$)/, &amp;quot;&amp;quot;);
	Result = html.match(/HREF=\&amp;quot;[^http][^\&amp;quot;]*\&amp;quot;/g);
	if (Result) {
		for ( var i = 0; i &amp;lt; Result.length; ++i) {

			var oldPagePath = Result[i].replace(/HREF=\&amp;quot;/, &amp;quot;&amp;quot;);
			oldPagePath = oldPagePath.replace(/\&amp;quot;/, &amp;quot;&amp;quot;);
			var newURL = &amp;quot;HREF=\&amp;quot;&amp;quot; + pagePath + &amp;quot;/&amp;quot; + oldPagePath + &amp;quot;\&amp;quot;&amp;quot;;
			html = html.replace(Result[i], newURL);

		}
	}


	$(&amp;quot;#&amp;quot; + areaId).html(   &amp;quot;&amp;lt;style type=\&amp;quot;text/css\&amp;quot;&amp;gt;&amp;quot; +style+ &amp;quot;&amp;lt;/style&amp;gt;&amp;quot; + html );

}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Remote Monitoring Heap Memory Usage Using JMX RMI</title>
   <link href="http://www.jotschi.de/uncategorized/2009/01/26/remote-monitoring-heap-memory-usage-using-jmx-rmi.html"/>
   <updated>2009-01-26T00:20:03+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/01/26/remote-monitoring-heap-memory-usage-using-jmx-rmi</id>
   <content type="html">&lt;p&gt;Perhaps you want to record the memory usage of your application during runtime? Here is how to do it within java iself. Note that you won&amp;#8217;t have to add code to your target application.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-251&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;An example application that will be monitored using jmx/rmi:&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
package org.schueth.dummytest;&lt;/p&gt;
&lt;p&gt;import java.util.ArrayList;&lt;/p&gt;
&lt;p&gt;public class DummyApp {&lt;/p&gt;
&lt;p&gt;/**&lt;br /&gt;
	 * @param args&lt;br /&gt;
	 */&lt;br /&gt;
	public static void main(String[] args) throws Exception {&lt;br /&gt;
		ArrayList&lt;String&gt; anyList = new ArrayList&lt;String&gt;();&lt;br /&gt;
		while (true) {&lt;br /&gt;
			Thread.sleep(100);&lt;br /&gt;
			anyList.add(random());&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public static String random() {&lt;br /&gt;
		StringBuffer s = new StringBuffer();&lt;br /&gt;
		int i = 0;&lt;br /&gt;
		while (i &amp;lt; 400) {&lt;br /&gt;
			s.append((char) (int) (Math.random() * 10 + 65));&lt;br /&gt;
			i++;&lt;br /&gt;
		}&lt;br /&gt;
		return s.toString();&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;The application that will read the MemoryMXBean information:&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
package org.schueth.jmx;&lt;/p&gt;
&lt;p&gt;import java.lang.management.ManagementFactory;&lt;br /&gt;
import java.lang.management.MemoryMXBean;&lt;br /&gt;
import javax.management.MBeanServerConnection;&lt;br /&gt;
import javax.management.remote.JMXConnector;&lt;br /&gt;
import javax.management.remote.JMXConnectorFactory;&lt;br /&gt;
import javax.management.remote.JMXServiceURL;&lt;/p&gt;
&lt;p&gt;public class JMXTest {&lt;/p&gt;
&lt;p&gt;/**&lt;br /&gt;
	 * @param args&lt;br /&gt;
	 */&lt;br /&gt;
	public static void main(String[] args) throws Exception {&lt;/p&gt;
&lt;p&gt;JMXServiceURL u = new JMXServiceURL(&lt;br /&gt;
				&amp;#8220;service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi&amp;#8221;);&lt;br /&gt;
		JMXConnector c = JMXConnectorFactory.connect(u);&lt;br /&gt;
		MBeanServerConnection mbsc = c.getMBeanServerConnection();&lt;/p&gt;
&lt;p&gt;MemoryMXBean mbean = ManagementFactory.newPlatformMXBeanProxy(mbsc,&lt;br /&gt;
				ManagementFactory.MEMORY_MXBEAN_NAME, MemoryMXBean.class);&lt;/p&gt;
&lt;p&gt;while (true) {&lt;br /&gt;
			System.out.println(mbean.getHeapMemoryUsage());&lt;br /&gt;
			System.out.println(mbean.getNonHeapMemoryUsage());&lt;br /&gt;
			Thread.sleep(100);&lt;br /&gt;
		}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;1. Start the DummyApp with the folling params using at least java 1.5: &lt;br /&gt;
&lt;pre class=&quot;syntax bash&quot;&gt;&lt;br /&gt;
java -D -Dcom.sun.management.jmxremote.authenticate=false  -Dcom.sun.management.jmxremote.port=9999  -Dcom.sun.management.jmxremote.ssl=false  -cp bin org.schueth.dummytest.DummyApp&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Computer Vision Techniques</title>
   <link href="http://www.jotschi.de/uncategorized/2009/01/04/computer-vision-techniques.html"/>
   <updated>2009-01-04T00:45:45+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2009/01/04/computer-vision-techniques</id>
   <content type="html">&lt;p&gt;This post contains a list of some computer vision techniques.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-246&quot;&gt;&lt;/a&gt;&lt;br /&gt;
See also &lt;a href=&quot;http://en.wikipedia.org/wiki/Category:Computer_vision&quot;&gt;Wikipedia: Computer Vision&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Depth Estimation&lt;br /&gt;
Structure from Motion&lt;br /&gt;
Image Separation&lt;br /&gt;
Optical Flow&lt;br /&gt;
Face Tracking&lt;br /&gt;
Feature Detection&lt;br /&gt;
Object Removal&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Removal of Humans In Motion Pictures</title>
   <link href="http://www.jotschi.de/neuronensturm/gfx/2009/01/04/removal-of-humans-in-motion-pictures.html"/>
   <updated>2009-01-04T00:16:18+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/gfx/2009/01/04/removal-of-humans-in-motion-pictures</id>
   <content type="html">&lt;p&gt;What do we need to remove a person from a video source? &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-241&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;At first we have to identify the person in the video. This could be done by using face tracking.&lt;br /&gt;
&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/5sPh6-J9wOA?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;Once the location of a face of a moving person is identified within the video source we can outline the persons body. The outline of the person can be estimated by analyzing the optical flow of the video source. The corresponding pixels of the head that was pinpointed by using face tracking will most likely move with the same direction and speed as the pixels from other body parts. The background of the person can be used as a static plane by analyzing the camera movements. Once the background has been defined an estimation of the persons outline is more reliable because in the most cases the motion and direction of the background pixels and the motion and direction of the persons pixels vary.&lt;br /&gt;
Moreover it is also possible to use depth estimation of the image to extrapolate different layers of the image that could be assigned to the person or the background to support the identification of the persons pixels.&lt;/p&gt;
&lt;p&gt;Once the person has been identified the person can be removed and the gap can be filled by using texture synthesis.&lt;br /&gt;
&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/fWwy2gZuD6E?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;
&lt;em&gt;Harry Shum &amp;#8211; Microsoft Research Asia&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In fact is is also possible to fill the gap of the person by using pixel areas from subsequent frames were no person was covering the same area. This approach is illustrated here:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.vision.huji.ac.il/demos/removal/removal.html&quot;&gt;http://www.vision.huji.ac.il/demos/removal/removal.html&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Farewell Phoenix</title>
   <link href="http://www.jotschi.de/uncategorized/2008/12/07/farewell-phoenix.html"/>
   <updated>2008-12-07T13:06:53+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/12/07/farewell-phoenix</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt; Finishes Listening For Phoenix Mars Lander.&lt;/p&gt;
&lt;p&gt;The last signal from phoenix was received on Nov. 2. 2008. Two month passed after the main mission time was reached until the lander was no longer able to communicate with &lt;span class=&quot;caps&quot;&gt;MRO&lt;/span&gt; and therefor with earth.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-238&quot;&gt;&lt;/a&gt;&lt;br /&gt;
The mission was a full success. Phoenix found ice, water and saw even snow falling even though that this snow might be mostly frozen CO2 i believe. Phoenix demonstrated also that landing with rocket propulsion can be done well again. Some attempts of landing using rocket propulsion failed earlier.&lt;/p&gt;
&lt;p&gt;Phoenix also saw frost on the ground and melting of ice that had been uncovered from stone and ground material.&lt;/p&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/rsmlCVAzJ-U?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;Farewell, Phoenix&lt;br /&gt;
And Thank you&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Code Coverage with Emma and CruiseControl</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2008/12/03/code-coverage-with-emma-and-cruisecontrol.html"/>
   <updated>2008-12-03T22:22:09+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2008/12/03/code-coverage-with-emma-and-cruisecontrol</id>
   <content type="html">&lt;p&gt;Perhaps you want to display your coverage reports generated by emma within your cruisecontrol installation.&lt;/p&gt;
&lt;p&gt;There are at least three different ways to get this done. I used cruisecontrol-bin-2.8.1 and the way described here.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-210&quot;&gt;&lt;/a&gt;&lt;br /&gt;
1. By using the artifactspublisher you can just store your html emma reports within your artifacts and display them inside of cruise control by using an iframe. More information about this way can be found here: &lt;a href=&quot;http://markmail.org/message/oew5ope3jcdds5az&quot;&gt;http://markmail.org/message/oew5ope3jcdds5az&lt;/a&gt;&lt;br /&gt;
2. Using the method i describe within this post. It is similar to the way junit reports are included by using xsl.&lt;br /&gt;
3. Using EmmaArtifactWidget that ships with cc. I tried to find more information about this widget and how to use it but found none. Usage of widgets is badly documented within cc.&lt;/p&gt;
&lt;p&gt;At first we have to add emma code coverage tasks to the default project called &amp;#8216;connectfour&amp;#8217;.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped xml&quot;&gt;
&amp;lt;project name=&amp;quot;connectfour&amp;quot; default=&amp;quot;all&amp;quot;&amp;gt;
    &amp;lt;target name=&amp;quot;all&amp;quot; depends=&amp;quot;clean, compile, sleep, test,emma.report, jar&amp;quot;/&amp;gt;

    &amp;lt;target name=&amp;quot;clean&amp;quot;&amp;gt;
        &amp;lt;delete dir=&amp;quot;target&amp;quot; quiet=&amp;quot;true&amp;quot; /&amp;gt;
    &amp;lt;/target&amp;gt;

    &amp;lt;property name=&amp;quot;emma.dir&amp;quot; location=&amp;quot;bin/emma&amp;quot; /&amp;gt;
    &amp;lt;property name=&amp;quot;emma.thresholds&amp;quot; value=&amp;quot;class:100,method:100,block:100,line:100&amp;quot; /&amp;gt;

    &amp;lt;path id=&amp;quot;emma.lib&amp;quot;&amp;gt;
      &amp;lt;pathelement location=&amp;quot;lib/emma.jar&amp;quot; /&amp;gt;
      &amp;lt;pathelement location=&amp;quot;lib/emma_ant.jar&amp;quot; /&amp;gt;
    &amp;lt;/path&amp;gt;

    &amp;lt;taskdef resource=&amp;quot;emma_ant.properties&amp;quot; classpathref=&amp;quot;emma.lib&amp;quot; /&amp;gt;
   
    &amp;lt;target name=&amp;quot;compile&amp;quot;&amp;gt;
        &amp;lt;mkdir dir=&amp;quot;target/classes&amp;quot;/&amp;gt;
        &amp;lt;javac srcdir=&amp;quot;src&amp;quot; destdir=&amp;quot;target/classes&amp;quot; debug=&amp;quot;true&amp;quot; /&amp;gt;
    &amp;lt;/target&amp;gt;

    &amp;lt;target name=&amp;quot;sleep&amp;quot;&amp;gt;
        &amp;lt;echo message=&amp;quot;Sleeping for a while so you can see the build in the new dashboard&amp;quot; /&amp;gt;
        &amp;lt;sleep seconds=&amp;quot;0&amp;quot; /&amp;gt;
    &amp;lt;/target&amp;gt;


   &amp;lt;target name=&amp;quot;emma.instrument&amp;quot;&amp;gt;
      &amp;lt;emma enabled=&amp;quot;true&amp;quot;&amp;gt;
	  &amp;lt;instr instrpath=&amp;quot;target/classes&amp;quot; destdir=&amp;quot;target/classes&amp;quot; metadatafile=&amp;quot;target/test-results/metadata.emma&amp;quot; merge=&amp;quot;true&amp;quot; mode=&amp;quot;overwrite&amp;quot; /&amp;gt;
      &amp;lt;/emma&amp;gt;
   &amp;lt;/target&amp;gt;

    &amp;lt;target name=&amp;quot;emma.report&amp;quot;&amp;gt;
      &amp;lt;emma enabled=&amp;quot;true&amp;quot;&amp;gt;
        &amp;lt;report sourcepath=&amp;quot;src&amp;quot; sort=&amp;quot;+name&amp;quot; metrics=&amp;quot;method:83,block:83,line:74,class:88&amp;quot;&amp;gt;
        &amp;lt;fileset dir=&amp;quot;target/test-results/&amp;quot;&amp;gt;
          &amp;lt;include name=&amp;quot;*.emma&amp;quot; /&amp;gt;
          &amp;lt;include name=&amp;quot;*.ec&amp;quot; /&amp;gt;
        &amp;lt;/fileset&amp;gt;

        &amp;lt;xml outfile=&amp;quot;target/test-results/coverage.xml&amp;quot; depth=&amp;quot;method&amp;quot; /&amp;gt;
        &amp;lt;html outfile=&amp;quot;target/test-results/index.html&amp;quot; depth=&amp;quot;method&amp;quot; columns=&amp;quot;name,class,method,block,line&amp;quot; /&amp;gt;
      &amp;lt;/report&amp;gt;
      &amp;lt;/emma&amp;gt;
    &amp;lt;/target&amp;gt;

    &amp;lt;target name=&amp;quot;test&amp;quot; depends=&amp;quot;compile,emma.instrument&amp;quot;&amp;gt;
        &amp;lt;mkdir dir=&amp;quot;target/test-classes&amp;quot;/&amp;gt;
        &amp;lt;javac srcdir=&amp;quot;test&amp;quot; destdir=&amp;quot;target/test-classes&amp;quot;&amp;gt;
            &amp;lt;classpath&amp;gt;
                &amp;lt;pathelement location=&amp;quot;target/classes&amp;quot;/&amp;gt;
                &amp;lt;pathelement location=&amp;quot;lib/junit.jar&amp;quot;/&amp;gt;
            &amp;lt;/classpath&amp;gt;
        &amp;lt;/javac&amp;gt;

        &amp;lt;mkdir dir=&amp;quot;target/test-results&amp;quot;/&amp;gt;

        &amp;lt;junit haltonfailure=&amp;quot;no&amp;quot; fork=&amp;quot;yes&amp;quot; printsummary=&amp;quot;on&amp;quot;&amp;gt;
            &amp;lt;classpath &amp;gt;
                &amp;lt;pathelement location=&amp;quot;target/classes&amp;quot;/&amp;gt;
                &amp;lt;pathelement location=&amp;quot;lib/junit.jar&amp;quot;/&amp;gt;
                &amp;lt;path refid=&amp;quot;emma.lib&amp;quot; /&amp;gt;
                &amp;lt;pathelement location=&amp;quot;target/test-classes&amp;quot;/&amp;gt;
            &amp;lt;/classpath&amp;gt;

            &amp;lt;jvmarg value=&amp;quot;-Demma.coverage.out.file=target/test-results/coverage.emma&amp;quot; /&amp;gt;
	    &amp;lt;jvmarg value=&amp;quot;-Demma.coverage.out.merge=true&amp;quot; /&amp;gt;
            
            &amp;lt;formatter type=&amp;quot;brief&amp;quot; usefile=&amp;quot;false&amp;quot;/&amp;gt;
            &amp;lt;formatter type=&amp;quot;xml&amp;quot; /&amp;gt;
            &amp;lt;batchtest todir=&amp;quot;target/test-results&amp;quot; &amp;gt;
                &amp;lt;fileset dir=&amp;quot;target/test-classes&amp;quot; includes=&amp;quot;**/*Test.class&amp;quot;/&amp;gt;
            &amp;lt;/batchtest&amp;gt;
        &amp;lt;/junit&amp;gt;

    &amp;lt;/target&amp;gt;

    &amp;lt;target name=&amp;quot;jar&amp;quot; depends=&amp;quot;compile&amp;quot;&amp;gt;
        &amp;lt;jar jarfile=&amp;quot;target/connectfour.jar&amp;quot; basedir=&amp;quot;target/classes&amp;quot;/&amp;gt;
    &amp;lt;/target&amp;gt;
&amp;lt;/project&amp;gt;
&lt;/pre&gt;&lt;p&gt;You will have to change the CruiseControl project configuration. The schedule section should look like this:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped xml&quot;&gt;
 &amp;lt;schedule interval=&amp;quot;300&amp;quot;&amp;gt;
            &amp;lt;ant anthome=&amp;quot;apache-ant-1.7.0&amp;quot; buildfile=&amp;quot;build.xml&amp;quot; antWorkingDir=&amp;quot;projects/${project.name}&amp;quot;  /&amp;gt;
 &amp;lt;/schedule&amp;gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;My full &lt;strong&gt;config.xml&lt;/strong&gt;:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped xml&quot;&gt;&lt;br /&gt;
&amp;lt;cruisecontrol&amp;gt;&lt;br /&gt;
    &amp;lt;project name=&amp;quot;connectfour&amp;quot;&amp;gt;&lt;/p&gt;
&amp;lt;listeners&amp;gt;
&amp;lt;currentbuildstatuslistener file=&amp;quot;logs/${project.name}/status.txt&amp;quot;/&amp;gt;
&amp;lt;/listeners&amp;gt;
&amp;lt;bootstrappers&amp;gt;
&amp;lt;antbootstrapper anthome=&amp;quot;apache-ant-1.7.0&amp;quot; buildfile=&amp;quot;projects/${project.name}/build.xml&amp;quot; target=&amp;quot;clean&amp;quot; /&amp;gt;
&amp;lt;/bootstrappers&amp;gt;
&amp;lt;modificationset quietperiod=&amp;quot;30&amp;quot;&amp;gt;
&amp;lt;!&amp;#8212; touch any file in connectfour project to trigger a build &amp;#8212;&amp;gt;
&amp;lt;filesystem folder=&amp;quot;projects/${project.name}&amp;quot;/&amp;gt;
&amp;lt;/modificationset&amp;gt;
&amp;lt;schedule interval=&amp;quot;300&amp;quot;&amp;gt;
&amp;lt;ant anthome=&amp;quot;apache-ant-1.7.0&amp;quot; buildfile=&amp;quot;build.xml&amp;quot; antWorkingDir=&amp;quot;projects/${project.name}&amp;quot;  /&amp;gt;
&amp;lt;/schedule&amp;gt;
&amp;lt;log&amp;gt;
&amp;lt;merge dir=&amp;quot;projects/${project.name}/target/test-results&amp;quot;/&amp;gt;
&amp;lt;/log&amp;gt;
&amp;lt;publishers&amp;gt;
&amp;lt;onsuccess&amp;gt;
&amp;lt;artifactspublisher dest=&amp;quot;artifacts/${project.name}&amp;quot; file=&amp;quot;projects/${project.name}/target/${project.name}.jar&amp;quot;/&amp;gt;
&amp;lt;/onsuccess&amp;gt;
&amp;lt;/publishers&amp;gt;
&amp;lt;/project&amp;gt;
&lt;p&gt;&amp;lt;/cruisecontrol&amp;gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;Add the following section below for example your testresults tab in &lt;strong&gt;cruisecontrol-bin-2.8.1/webapps/cruisecontrol/main.jsp&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped xml&quot;&gt;
         &amp;lt;cruisecontrol:tab name=&amp;quot;emmaResults&amp;quot; label=&amp;quot;Emma Results&amp;quot; &amp;gt;
             &amp;lt;%@ include file=&amp;quot;emmadetails.jsp&amp;quot; %&amp;gt;
          &amp;lt;/cruisecontrol:tab&amp;gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Add a new file called &lt;strong&gt;emmadetails.jsp&lt;/strong&gt; in &lt;strong&gt;cruisecontrol-bin-2.8.1/webapps/cruisecontrol/&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped jsp&quot;&gt;&lt;br /&gt;
&amp;lt;%@ taglib uri=&amp;quot;/&lt;span class=&quot;caps&quot;&gt;WEB&lt;/span&gt;-&lt;span class=&quot;caps&quot;&gt;INF&lt;/span&gt;/cruisecontrol-jsp11.tld&amp;quot; prefix=&amp;quot;cruisecontrol&amp;quot;%&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;cruisecontrol:xsl xslFile=&amp;quot;/xsl/emma.xsl&amp;quot;/&amp;gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;Add a new xsl file that will parse your CruiseControl xml build log called &lt;strong&gt;emma.xsl&lt;/strong&gt; in &lt;strong&gt;cruisecontrol-bin-2.8.1/webapps/cruisecontrol/xsl/&lt;/strong&gt; :&lt;br /&gt;
&lt;pre class=&quot;syntax escaped xml&quot;&gt;&lt;br /&gt;
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;&lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8&amp;quot;?&amp;gt;&lt;br /&gt;
&amp;lt;xsl:stylesheet version=&amp;quot;1.0&amp;quot; xmlns:xsl=&amp;quot;http://www.w3.org/1999/&lt;span class=&quot;caps&quot;&gt;XSL&lt;/span&gt;/Transform&amp;quot; xmlns:fo=&amp;quot;http://www.w3.org/1999/&lt;span class=&quot;caps&quot;&gt;XSL&lt;/span&gt;/Format&amp;quot;&amp;gt;&lt;br /&gt;
	&amp;lt;xsl:output method=&amp;quot;html&amp;quot;/&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;xsl:template match=&amp;quot;/&amp;quot; mode=&amp;quot;emma&amp;quot;&amp;gt;&lt;br /&gt;
		&amp;lt;xsl:if test=&amp;quot;count(/cruisecontrol/report/data/all/package) &amp;amp;gt; 0&amp;quot;&amp;gt;&lt;br /&gt;
			&amp;lt;table align=&amp;quot;center&amp;quot; cellpadding=&amp;quot;2&amp;quot; cellspacing=&amp;quot;0&amp;quot; border=&amp;quot;0&amp;quot; width=&amp;quot;98%&amp;quot;&amp;gt;&lt;br /&gt;
				&amp;lt;tbody&amp;gt;&lt;br /&gt;
					&amp;lt;tr&amp;gt;&lt;br /&gt;
						&amp;lt;th class=&amp;quot;checkstyle-sectionheader&amp;quot; colspan=&amp;quot;5&amp;quot; align=&amp;quot;left&amp;quot;&amp;gt;Emma Results&amp;lt;/th&amp;gt;&lt;br /&gt;
					&amp;lt;/tr&amp;gt;&lt;br /&gt;
					&amp;lt;tr&amp;gt;&lt;br /&gt;
						&amp;lt;td class=&amp;quot;checkstyle-sectionheader&amp;quot;&amp;gt;Package&amp;lt;/td&amp;gt;&lt;br /&gt;
						&amp;lt;td class=&amp;quot;checkstyle-sectionheader&amp;quot;&amp;gt;Class Coverage&amp;lt;/td&amp;gt;&lt;br /&gt;
						&amp;lt;td class=&amp;quot;checkstyle-sectionheader&amp;quot;&amp;gt;Method Coverage&amp;lt;/td&amp;gt;&lt;br /&gt;
						&amp;lt;td class=&amp;quot;checkstyle-sectionheader&amp;quot;&amp;gt;Block Coverage&amp;lt;/td&amp;gt;&lt;br /&gt;
						&amp;lt;td class=&amp;quot;checkstyle-sectionheader&amp;quot;&amp;gt;Line Coverage&amp;lt;/td&amp;gt;&lt;br /&gt;
					&amp;lt;/tr&amp;gt;&lt;br /&gt;
					&amp;lt;xsl:for-each select=&amp;quot;/cruisecontrol/report/data/all/package&amp;quot;&amp;gt;&lt;br /&gt;
						&amp;lt;xsl:sort select=&amp;quot;&lt;code&gt;name&amp;amp;quot;/&amp;amp;gt;
						&amp;amp;lt;tr&amp;amp;gt;
							&amp;amp;lt;xsl:if test=&amp;amp;quot;position() mod 2 = 1&amp;amp;quot;&amp;amp;gt;
								&amp;amp;lt;xsl:attribute name=&amp;amp;quot;class&amp;amp;quot;&amp;amp;gt;checkstyle-oddrow&amp;amp;lt;/xsl:attribute&amp;amp;gt;
							&amp;amp;lt;/xsl:if&amp;amp;gt;
							&amp;amp;lt;td&amp;amp;gt;&amp;amp;lt;xsl:value-of select=&amp;amp;quot;&lt;/code&gt;name&amp;quot;/&amp;gt;&amp;lt;/td&amp;gt;&lt;br /&gt;
								&amp;lt;xsl:for-each select=&amp;quot;coverage&amp;quot;&amp;gt;&lt;br /&gt;
								&amp;lt;td&amp;gt;&lt;br /&gt;
									&amp;lt;xsl:value-of select=&amp;quot;@value&amp;quot;/&amp;gt;	&lt;br /&gt;
								&amp;lt;/td&amp;gt;&lt;br /&gt;
							&amp;lt;/xsl:for-each&amp;gt;&lt;br /&gt;
						&amp;lt;/tr&amp;gt;&lt;br /&gt;
					&amp;lt;/xsl:for-each&amp;gt;&lt;br /&gt;
				&amp;lt;/tbody&amp;gt;&lt;br /&gt;
			&amp;lt;/table&amp;gt;&lt;br /&gt;
		&amp;lt;/xsl:if&amp;gt;&lt;br /&gt;
	&amp;lt;/xsl:template&amp;gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;xsl:template match=&amp;quot;/&amp;quot;&amp;gt;&lt;br /&gt;
        &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;emma&amp;quot;/&amp;gt;&lt;br /&gt;
    &amp;lt;/xsl:template&amp;gt;&lt;br /&gt;
&amp;lt;/xsl:stylesheet&amp;gt;&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>StarTrek Quotes</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/traumzone/2008/12/02/startrek-quotes.html"/>
   <updated>2008-12-02T23:06:00+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/traumzone/2008/12/02/startrek-quotes</id>
   <content type="html">&lt;p&gt;Some Star Trek Quotes i like.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-203&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;And he piled upon the whale&amp;#8217;s white hump the sum of all the rage and hate felt by his whole race. If his chest had been a cannon, he would have shot his heart upon it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(Jean-Luc Picard: Star Trek 8: Der Erste Kontakt &amp;#8220;First Contact&amp;#8221;)&lt;br /&gt;
&lt;br/&gt;&lt;br/&gt;
&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/Qe0vMHBkiyk?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>AsynchronousBufferedInputStreamWrapper</title>
   <link href="http://www.jotschi.de/uncategorized/2008/12/02/asynchronousbufferedinputstreamwrapper.html"/>
   <updated>2008-12-02T21:53:16+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/12/02/asynchronousbufferedinputstreamwrapper</id>
   <content type="html">&lt;p&gt;Some time ago i was looking for a nice and quiet fast implementation for a buffered inputstream. I found some pieces and finally i came up with this one.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-199&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Just create a new AsynchronousBufferedInputStreamWrapper by using your unbuffered InputStream and the buffersize of your choice (eg. 512*256)&lt;/p&gt;
&lt;p&gt;Invoke startBuffering() to start the buffering.&lt;/p&gt;
&lt;p&gt;getBufferLevel() will return the current level of the buffer in percent of maximum.&lt;/p&gt;
&lt;p&gt;This implementation is untested but it might be useful for someone. Please note also that you might have to change my logger implementation.&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
import java.io.BufferedInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.concurrent.ConcurrentLinkedQueue;
import java.util.concurrent.TimeUnit;

import org.apache.log4j.Logger;
import org.schueth.snplayer.utils.SimpleLogger;

public class AsynchronousBufferedInputStreamWrapper extends InputStream {

	Thread thread;
	BufferingThread buffering;
	Logger logger = SimpleLogger.getLogger();

	public AsynchronousBufferedInputStreamWrapper(InputStream inputStream,
			int bufferSizeInBytes) {

		buffering = new BufferingThread(this, new BufferedInputStream(
				inputStream, bufferSizeInBytes), bufferSizeInBytes);
	}

	public float getBufferLevel() {
		return buffering.getBufferLevel();
	}

	public void startBuffering() {
		logger.debug(&amp;quot;Buffering started&amp;quot;);
		thread = new Thread(buffering);
		thread.start();
	}

	@Override
	public int read() throws IOException {

		if (this.thread == null) {
			logger.info(&amp;quot;MANUAL OVERRIDE!&amp;quot;);
			startBuffering();
		}
		waitForCurrentByteBuffer();
		if (reachedEndOfStream()) {
			return -1;
		}

		byte b = buffering.currentByteBuffer[buffering.currentBufferPosition];
		buffering.currentBufferPosition++;
		buffering.overallBytesConsumed++;
		return b &amp;amp; 0xFF;
	}

	private boolean reachedEndOfStream() {
		return buffering.overallBytesConsumed == buffering.overallBytesBuffered;
	}

	private void waitForCurrentByteBuffer() {
		if (buffering.currentByteBuffer == null
				|| buffering.currentBufferPosition &amp;gt; buffering.currentByteBuffer.length - 1) {
			buffering.currentByteBuffer = null;
			while (buffering.currentByteBuffer == null &amp;amp;&amp;amp; !reachedEndOfStream()) {
				// System.out.println(&amp;quot;Getting Queue element&amp;quot;);
				buffering.currentByteBuffer = buffering.dataQueue.poll();
				buffering.currentBufferPosition = 0;
				try {
					TimeUnit.MILLISECONDS.sleep(5L);
				} catch (InterruptedException e) {
					logger.error(e);
				}
			}
		}
	}

	@Override
	public void close() throws IOException {
		super.close();
		this.thread.stop();
	}
}

class BufferingThread implements Runnable {

	AsynchronousBufferedInputStreamWrapper reference;
	Logger logger = SimpleLogger.getLogger();

	public static final int DEFAULT_BUFFER_SEGMENTSIZE = 128 * 1024;
	volatile boolean eof = false;

	volatile BufferedInputStream wrappedInputStream;
	volatile ConcurrentLinkedQueue&amp;lt;byte[]&amp;gt; dataQueue;
	int maxDataQueueSize;
	volatile int overallBytesConsumed = 0;
	int currentBufferPosition;

	volatile int totalBufferSizeInBytes;
	volatile int bufferSizeInBytes;
	volatile int overallBytesBuffered;
	int lastCurrentBytesBuffered;
	int currentBytesBuffered;
	byte[] currentByteBuffer;

	public BufferingThread(AsynchronousBufferedInputStreamWrapper reference,
			BufferedInputStream wrappedInputStream, int totalBufferSizeInBytes) {

		this.reference = reference;
		this.wrappedInputStream = wrappedInputStream;
		this.dataQueue = new ConcurrentLinkedQueue&amp;lt;byte[]&amp;gt;();

		this.totalBufferSizeInBytes = totalBufferSizeInBytes;
		this.maxDataQueueSize = totalBufferSizeInBytes
				/ DEFAULT_BUFFER_SEGMENTSIZE;
		this.bufferSizeInBytes = DEFAULT_BUFFER_SEGMENTSIZE;

		logger.info(&amp;quot;totalBufferSizeInBytes: &amp;quot; + totalBufferSizeInBytes);
		logger.info(&amp;quot;maxDataQueueSize: &amp;quot; + maxDataQueueSize);
		logger.info(&amp;quot;bufferSizeInBytes: &amp;quot; + bufferSizeInBytes);

	}

	public float getBufferLevel() {
		logger.debug(&amp;quot;overallBytesBuffered: &amp;quot; + overallBytesBuffered);
		logger.debug(&amp;quot;overallBytesConsumed: &amp;quot; + overallBytesConsumed);
		logger.debug(&amp;quot;dataQueue.size(): &amp;quot; + dataQueue.size());
		logger.debug(&amp;quot;totalBufferSizeInBytes: &amp;quot; + totalBufferSizeInBytes);
		if (overallBytesBuffered == 0 || (overallBytesBuffered==overallBytesConsumed)) {
			return 0;
		}
			
		return (((float)overallBytesConsumed / (float)overallBytesBuffered)-1 )*-1;

	}

	public void run() {

		currentBytesBuffered = overallBytesBuffered - overallBytesConsumed;

		while (!eof) {

			try {

				// check if buffer is not full
				if (dataQueue.size() &amp;lt; maxDataQueueSize) {

					// System.out.println(&amp;quot;Buffering...&amp;quot;);
					ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

					// check if buffer is not full
					while (currentBytesBuffered &amp;lt; bufferSizeInBytes) {
						byte[] buffer = new byte[bufferSizeInBytes];
						int bytesRead = wrappedInputStream.read(buffer);

						if (bytesRead == -1) { 
							// EOF
							logger.error(&amp;quot;EOF&amp;quot;);
							wrappedInputStream.close();
							eof = true;
							break;
						}

						// writing bytes to os
						byteArrayOutputStream.write(buffer, 0, bytesRead);
						overallBytesBuffered += bytesRead;

						currentBytesBuffered = overallBytesBuffered
								- overallBytesConsumed;

					}

					if (!eof) {
						// Adding byte array to queue
						dataQueue.add(byteArrayOutputStream.toByteArray());
						currentBytesBuffered = 0;
					}

				} else {
					TimeUnit.MILLISECONDS.sleep(4L);
				}
			} catch (Exception e) {
				logger.error(e);
			}
		}

		logger.info(&amp;quot;Finished Buffering&amp;quot;);
	}
}
&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Bandwidth Controlling for Apache2 (Lenny)</title>
   <link href="http://www.jotschi.de/uncategorized/2008/12/02/bandwidth-controlling-for-apache2-lenny.html"/>
   <updated>2008-12-02T21:41:09+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/12/02/bandwidth-controlling-for-apache2-lenny</id>
   <content type="html">&lt;p&gt;Sometimes its usefull to throttle your bandwith within apache. There are two modules available &lt;strong&gt;mod_cband&lt;/strong&gt; or &lt;strong&gt;mod_bw&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-182&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I just tested mod_bw which can be downloaded here: &lt;a href=&quot;http://www.ivn.cl/apache/&quot;&gt;http://www.ivn.cl/apache/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Installed Apache Versions:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
ii  apache2-mpm-prefork  2.2.9-10     Apache HTTP Server - traditional non-threade
ii  apache2-prefork-dev    2.2.9-10     Apache development headers - non-threaded MP
ii  apache2-utils                2.2.9-10     utility programs for webservers&amp;lt;/blockquote&amp;gt;
&lt;/pre&gt;&lt;p&gt;1. apt-get install apache2-prefork-dev &lt;br /&gt;
2. download and extract mod_bw-0.8.tgz&lt;br /&gt;
3. sudo apxs2 -i -a -c mod_bw.c &lt;br /&gt;
4. Add the following line to httpd.conf:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
LoadModule bw_module /usr/lib/apache2/modules/mod_bw.so
&lt;/pre&gt;&lt;p&gt;5. Add limitation to VirtualHost (sites-available/default)&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
&amp;lt;VirtualHost *:80&amp;gt;
        ServerAdmin webmaster@localhost

        BandwidthModule On
        ForceBandWidthModule On
        Bandwidth all 10240
        MinBandwidth all -1

        DocumentRoot /var/www/
        &amp;lt;Directory /&amp;gt;
                Options +ExecCGI +Includes
                AllowOverride None
                Allow from all
        &amp;lt;/Directory&amp;gt;
        ErrorLog /var/log/apache2/error.log
        LogLevel warn
        CustomLog /var/log/apache2/access.log combined
        ServerSignature On
&amp;lt;/VirtualHost&amp;gt;
&lt;/pre&gt;&lt;p&gt;Another blogpost that contains also an howto based on mod_cband &lt;a href=&quot;http://www.uno-code.com/?q=node/64&quot;&gt;http://www.uno-code.com/?q=node/64&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>An Engineers Delight</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/11/30/an-engineers-delight.html"/>
   <updated>2008-11-30T23:20:12+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/11/30/an-engineers-delight</id>
   <content type="html">&lt;p lang=&quot;en&quot;&gt;
&lt;p&gt;As an introduction of an press conference about phoenix mars landing Berry Goldstein shows the image below. The image shows the Phoenix Mars Lander in its descent phase within &lt;span class=&quot;caps&quot;&gt;EDL&lt;/span&gt;. The parachute is deployed and you even can see the wires that connect the parachute with the lander.&lt;/p&gt;
&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;
&lt;p&gt;Zu Beginn einer Press Konferenz zur Landung von Phoenix zeigte Barry Goldstein das untere Bild. Auf dem Bild lässt sich der Lander in seiner Landephase beobachten. Der Fallschirm ist entfaltet und man kann sogar die Seile erkennen die den Fallschirm mit dem Lander verbinden.&lt;/p&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-156&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;/images/mars/psp_008579_9020_descent_800-600.jpg&quot;&gt;&lt;img src=&quot;/images/mars/psp_008579_9020_descent_800-600.jpg&quot; alt=&quot;Phoenix Descent&quot; title=&quot;psp_008579_9020_descent_800-600&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Phoenix Mars Lander &amp;#8211; Press Briefing &amp;#8211; May 26. 2008&lt;br /&gt;
Barry Goldstein shows another boring engineering picture&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;httpv://de.youtube.com/watch?v=2nmflvzJBu0&lt;/p&gt;
&lt;p&gt;Credit &lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;/Nasa&lt;br /&gt;
&lt;a href=&quot;http://hirise.lpl.arizona.edu/phoenix-descent.php&quot;&gt;http://hirise.lpl.arizona.edu/phoenix-descent.php&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>SNPlayer</title>
   <link href="http://www.jotschi.de/uncategorized/2008/11/30/snplayer.html"/>
   <updated>2008-11-30T01:50:23+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/11/30/snplayer</id>
   <content type="html">&lt;p&gt;The approach of this project is to create an icecast radio stream that is controllable via web interface by multiple users. The source of the tracks should mainly be focused on Last.FM. Depending on user/community input to the web interface the taste of music will be adapted and playlist changes slightly.&lt;/p&gt;
&lt;p&gt;2009-02-01: Project discontinued.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://code.google.com/p/snplayer/&quot;&gt;http://code.google.com/p/snplayer/&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Projects</title>
   <link href="http://www.jotschi.de/uncategorized/2008/11/30/projects.html"/>
   <updated>2008-11-30T01:47:16+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/11/30/projects</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;/?page_id=793&quot;&gt;&lt;span class=&quot;caps&quot;&gt;DIY&lt;/span&gt; Dual Screen &lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/?page_id=149&quot;&gt;SNPlayer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/?page_id=320&quot;&gt;Generating City Models By Using Panorama Images&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/?page_id=493&quot;&gt;Aloha Editor Wordpress Plugin&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Dual Head on i810 - 945GM - Debian Lenny</title>
   <link href="http://www.jotschi.de/technik/2008/06/15/dual-head-on-i810-945gm-debian-lenny.html"/>
   <updated>2008-06-15T16:02:29+00:00</updated>
   <id>http://www.jotschi.de/technik/2008/06/15/dual-head-on-i810-945gm-debian-lenny</id>
   <content type="html">&lt;p&gt;I just did a dist upgrade and broke my old xorg.conf dual head configuration. Here is my new one.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-141&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Using:&lt;br /&gt;
Debian Lenny (12.06.2008) &amp;#8211; 2.6.23&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
ii  xserver-xorg                         1:7.3+10                        the X.Org X server
ii  xserver-xorg-core                  2:1.4.1~git20080517-1    Xorg X server - core server
ii  xserver-xorg-video-i810          2:2.3.1-1                       X.Org X server -- Intel i8xx, i9xx display d
ii  xserver-xorg-video-intel          2:2.3.1-1                       X.Org X server -- Intel i8xx, i9xx display d
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Here is the xorg.conf that i used.&lt;a href=&#39;/downloads/xorg/xorgconf.dualheadi810&#39;&gt;xorgconf&lt;/a&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;&lt;br /&gt;
Section &amp;quot;Files&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/misc:unscaled&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/Type1&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/&lt;span class=&quot;caps&quot;&gt;TTF&lt;/span&gt;&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/corefonts&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/freefonts&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/terminus&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/ttf-bitstream-vera&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/unifont&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/75dpi:unscaled&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/100dpi:unscaled&amp;quot;&lt;br /&gt;
	FontPath    &amp;quot;/usr/share/fonts/artwiz&amp;quot; &lt;br /&gt;
EndSection&lt;/p&gt;
&lt;p&gt;Section &amp;quot;Module&amp;quot;&lt;br /&gt;
        Load &amp;quot;i2c&amp;quot;&lt;br /&gt;
        Load &amp;quot;bitmap&amp;quot;&lt;br /&gt;
        Load &amp;quot;ddc&amp;quot;&lt;br /&gt;
        Load &amp;quot;dri&amp;quot;&lt;br /&gt;
        Load &amp;quot;extmod&amp;quot;&lt;br /&gt;
        #Load &amp;quot;freetype&amp;quot;&lt;br /&gt;
        Load &amp;quot;glx&amp;quot;&lt;br /&gt;
        Load &amp;quot;int10&amp;quot;&lt;br /&gt;
        Load &amp;quot;vbe&amp;quot; &lt;br /&gt;
EndSection&lt;/p&gt;
&lt;p&gt;Section &amp;quot;InputDevice&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;Generic Keyboard&amp;quot;&lt;br /&gt;
        Driver          &amp;quot;kbd&amp;quot;&lt;br /&gt;
        Option          &amp;quot;CoreKeyboard&amp;quot;&lt;br /&gt;
        Option          &amp;quot;XkbRules&amp;quot;      &amp;quot;xorg&amp;quot;&lt;br /&gt;
        Option          &amp;quot;XkbModel&amp;quot;      &amp;quot;pc105&amp;quot;&lt;br /&gt;
        Option          &amp;quot;XkbLayout&amp;quot;     &amp;quot;de&amp;quot;&lt;br /&gt;
	Option          &amp;quot;XkbVariant&amp;quot;    &amp;quot;nodeadkeys&amp;quot;&lt;br /&gt;
EndSection&lt;/p&gt;
&lt;p&gt;Section &amp;quot;InputDevice&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;Configured Mouse&amp;quot;&lt;br /&gt;
        Driver          &amp;quot;evdev&amp;quot;&lt;br /&gt;
        #Option          &amp;quot;Name&amp;quot; &amp;quot;Logitech &lt;span class=&quot;caps&quot;&gt;USB&lt;/span&gt;-PS/2 Optical Mouse&amp;quot;&lt;br /&gt;
	#Option          &amp;quot;CorePointer&amp;quot;&lt;br /&gt;
        Option          &amp;quot;Device&amp;quot;                &amp;quot;/dev/input/mice&amp;quot;&lt;br /&gt;
        Option          &amp;quot;Protocol&amp;quot;              &amp;quot;ImPS/2&amp;quot;&lt;br /&gt;
        Option          &amp;quot;Emulate3Buttons&amp;quot;       &amp;quot;true&amp;quot;&lt;br /&gt;
EndSection&lt;/p&gt;
&lt;p&gt;Section &amp;quot;InputDevice&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;Synaptics Touchpad&amp;quot;&lt;br /&gt;
        Driver          &amp;quot;synaptics&amp;quot;&lt;br /&gt;
        Option          &amp;quot;SendCoreEvents&amp;quot;        &amp;quot;true&amp;quot;&lt;br /&gt;
        Option          &amp;quot;Device&amp;quot;                &amp;quot;/dev/psaux&amp;quot;&lt;br /&gt;
        #This is useful to let gsynaptics change the behaviour of the touchpad (eg. disable tapping)&lt;br /&gt;
        Option          &amp;quot;SHMConfig&amp;quot;             &amp;quot;true&amp;quot;&lt;br /&gt;
        Option          &amp;quot;Protocol&amp;quot;              &amp;quot;auto-dev&amp;quot;&lt;br /&gt;
        Option          &amp;quot;HorizScrollDelta&amp;quot;      &amp;quot;0&amp;quot;&lt;br /&gt;
EndSection&lt;/p&gt;
&lt;p&gt;Section &amp;quot;Device&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;Intel 945GM&amp;quot;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Both drivers worked for me.&lt;br /&gt;
        #Driver          &amp;quot;intel&amp;quot;&lt;br /&gt;
	Driver 		&amp;quot;i810&amp;quot;&lt;/li&gt;
	&lt;li&gt;Identify the different Monitors for your Device (Important part for dual head!)&lt;br /&gt;
        Option  &amp;quot;Monitor-&lt;span class=&quot;caps&quot;&gt;TMDS&lt;/span&gt;-1&amp;quot;        &amp;quot;&lt;span class=&quot;caps&quot;&gt;TMDS&lt;/span&gt; Monitor&amp;quot;&lt;br /&gt;
        Option  &amp;quot;Monitor-&lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt;&amp;quot;          &amp;quot;&lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; Monitor&amp;quot;&lt;br /&gt;
EndSection&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; is the laptop display&lt;br /&gt;
Section &amp;quot;Monitor&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;&lt;span class=&quot;caps&quot;&gt;LVDS&lt;/span&gt; Monitor&amp;quot;&lt;br /&gt;
        Option          &amp;quot;&lt;span class=&quot;caps&quot;&gt;DPMS&lt;/span&gt;&amp;quot;&lt;br /&gt;
        Option  &amp;quot;LeftOf&amp;quot; &amp;quot;&lt;span class=&quot;caps&quot;&gt;TMDS&lt;/span&gt; Monitor&amp;quot;&lt;br /&gt;
        Option &amp;quot;PreferredMode&amp;quot; &amp;quot;1280&amp;#215;800&amp;quot;&lt;br /&gt;
        Option &amp;quot;Position&amp;quot; &amp;quot;1280 0&amp;quot;&lt;br /&gt;
EndSection&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;span class=&quot;caps&quot;&gt;TMDS&lt;/span&gt; is the device connected to the &lt;span class=&quot;caps&quot;&gt;VGA&lt;/span&gt; port&lt;br /&gt;
Section &amp;quot;Monitor&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;&lt;span class=&quot;caps&quot;&gt;TMDS&lt;/span&gt; Monitor&amp;quot;&lt;br /&gt;
        Option          &amp;quot;&lt;span class=&quot;caps&quot;&gt;DPMS&lt;/span&gt;&amp;quot;&lt;br /&gt;
        #HorizSync      65-70&lt;br /&gt;
        #VertRefresh    59-60&lt;br /&gt;
        HorizSync 64-83&lt;br /&gt;
        VertRefresh 56-75&lt;br /&gt;
        Option  &amp;quot;PreferredMode&amp;quot; &amp;quot;1280&amp;#215;1024&amp;quot;&lt;br /&gt;
EndSection&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
	&lt;li&gt;Define the virtual screen&lt;br /&gt;
Section &amp;quot;Screen&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;The Screen&amp;quot;&lt;br /&gt;
        Device          &amp;quot;Intel 945GM&amp;quot;&lt;br /&gt;
        SubSection &amp;quot;Display&amp;quot;&lt;br /&gt;
                Virtual 2560 1024&lt;br /&gt;
        EndSubsection&lt;br /&gt;
EndSection&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Section &amp;quot;ServerLayout&amp;quot;&lt;br /&gt;
        Identifier      &amp;quot;Default Layout&amp;quot;&lt;br /&gt;
        Screen          &amp;quot;The Screen&amp;quot;&lt;br /&gt;
        InputDevice     &amp;quot;Generic Keyboard&amp;quot;&lt;br /&gt;
        InputDevice     &amp;quot;Configured Mouse&amp;quot;&lt;br /&gt;
        InputDevice     &amp;quot;Synaptics Touchpad&amp;quot;&lt;br /&gt;
EndSection&lt;br /&gt;
&lt;/pre&gt;&lt;/notextile&gt;&lt;/p&gt;
&lt;p&gt;After you start your xserver you might encounter another problem. My external display supports a larger resolution than my laptop display. To set the external display to the desired resolution you can use xrandr. As soon as i know how to automatically workaround this issue i will do a post.&lt;/p&gt;
&lt;p&gt;Set external display to highest resolution &lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
xrandr --output VGA --mode &amp;quot;1280x1024&amp;quot;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;If you get very large windows and texts you might find this command useful:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
startx -- -dpi 96
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Phoenix Lander - Touchdown!</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/05/26/phoenix-lander-touchdown.html"/>
   <updated>2008-05-26T02:23:18+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/05/26/phoenix-lander-touchdown</id>
   <content type="html">&lt;p&gt;Touchdown hieß es im &lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt; Control Room um ca. 01:53 (GMT+2h). Ohne jegliche Probleme landete Phoenix im Zielgebiet. Die &lt;span class=&quot;caps&quot;&gt;EDL&lt;/span&gt; verlief sogar besser als erwartet, denn der erwartete Kontaktabbruch in der Atmosphären Eintrittsphase blieb aus. Der Lander weißt nahezu keinerlei Neigungen auf was auf einen sehr flachen Untergrund hindeutet.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-138&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#39;/images/mars/230077main_ss000eff896228288_10c96l1m1_8820_516-387.jpg&#39;&gt;&lt;img src=&quot;/images/mars/230077main_ss000eff896228288_10c96l1m1_8820_516-387.jpg&quot; alt=&quot;&quot; title=&quot;230077main_ss000eff896228288_10c96l1m1_8820_516-387&quot; width=&quot;500&quot; height=&quot;500&quot; class=&quot;alignnone size-full wp-image-139&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Photo credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech/University of Arizona&lt;br /&gt;
Phoenix Footpad&lt;/p&gt;
&lt;p&gt;&lt;a href=&#39;/images/mars/230070main_phoenixlandingfirstestimatenogridsmall.jpg&#39;&gt;&lt;img src=&quot;/images/mars/230070main_phoenixlandingfirstestimatenogridsmall.jpg&quot; alt=&quot;&quot; title=&quot;230070main_phoenixlandingfirstestimatenogridsmall&quot; width=&quot;500&quot; height=&quot;399&quot; class=&quot;alignnone size-full wp-image-140&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Photo credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech/University of Arizona&lt;br /&gt;
Estimated landing ellipse&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Mars Phoenix - Landing Ellipse - Update</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/05/25/mars-phoenix-landing-ellipse-update.html"/>
   <updated>2008-05-25T22:04:00+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/05/25/mars-phoenix-landing-ellipse-update</id>
   <content type="html">&lt;p&gt;The last pre &lt;span class=&quot;caps&quot;&gt;EDL&lt;/span&gt; mission briefing revealed that the latest OD (orbit determination solution) changed the 99% probability landing ellipse slightly. &lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-135&quot;&gt;&lt;/a&gt;&lt;br /&gt;
I did a overlapping image of both images to show the difference. As you can see the new landing ellipse (blue) is not that far extended than the previous predicted landing ellipse (red). My calculations based on these images reveal that the new landing ellipse extends about 66km in length compared to the old one with about 70km.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#39;/images/mars/250508phoenix-landingelipse.png&#39;&gt;&lt;img src=&quot;/images/mars/250508phoenix-landingelipse.png&quot; alt=&quot;&quot; title=&quot;250508phoenix-landingelipse&quot; width=&quot;500&quot; height=&quot;375&quot; class=&quot;alignnone size-full wp-image-134&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Image Credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Nasa TV - High Quality </title>
   <link href="http://www.jotschi.de/fundgrube/2008/05/25/nasa-tv-high-quality.html"/>
   <updated>2008-05-25T11:14:34+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/2008/05/25/nasa-tv-high-quality</id>
   <content type="html">&lt;p&gt;&lt;del datetime=&quot;2011-09-03T14:08:53+00:00&quot;&gt;There is an alternativ source for nasa tv available. (640&amp;#215;480)&lt;br /&gt;
Enjoy :)&lt;br /&gt;
mplayer -playlist http://playlist.yahoo.com/makeplaylist.dll?id=1368163&lt;br /&gt;
&lt;/del&gt;&lt;br /&gt;
Update &amp;#8211; 2011-09-03: The stream is no longer active. Please use &lt;a href=&quot;http://www.Jotschi.de/?p=632&quot;&gt;this solution&lt;/a&gt; now.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Mars Phoenix - Trajectory</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-trajectory.html"/>
   <updated>2008-05-24T21:47:09+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-trajectory</id>
   <content type="html">&lt;p&gt;View the different trajectories of mars phoenix polar lander.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-131&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;script type=&quot;text/javascript&quot;&gt;  
var now = new Date();  
var cday = now.getUTCDate();
var cmon = now.getUTCMonth() + 1;
if(cmon&lt;=9)
{ cmon=&#39;0&#39;+cmon; }
var cyear = now.getUTCFullYear();
var ch = now.getUTCHours() + 1;
var cm = now.getUTCMinutes();
var cs = now.getUTCSeconds();
document.write(&#39;Date:&#39; + cday + &#39;.&#39; + cmon + &#39;.&#39; + cyear + &#39; - &#39; + ch + &#39;:&#39; + cm + &#39;:&#39; + cs +&#39;&lt;br&gt;&#39;);
document.write(&#39;&lt;img width=&quot;700&quot; src=&quot;http://space.jpl.nasa.gov/cgi-bin/wspace?tbody=-84&amp;vbody=1001&amp;month=&#39;+cmon+&#39;&amp;day=&#39;+cday+&#39;&amp;year=&#39;+cyear+&#39;&amp;hour=&#39;+ch+&#39;&amp;minute=&#39;+cm+&#39;&amp;rfov=2&amp;fovmul=-1&amp;bfov=80&amp;porbs=1&amp;showsc=1&quot;&gt;&#39;);
&lt;/script&gt;&lt;p&gt;25.05.08 &amp;#8211; 15:00&lt;br /&gt;
&lt;img src=&quot;http://space.jpl.nasa.gov/cgi-bin/wspace?tbody=-84&amp;vbody=1001&amp;month=05&amp;day=25&amp;year=2008&amp;hour=15&amp;minute=00&amp;rfov=2&amp;fovmul=-1&amp;bfov=80&amp;porbs=1&amp;showsc=1&quot;&gt;&lt;/p&gt;
&lt;p&gt;25.05.08 &amp;#8211; 22:00&lt;br /&gt;
&lt;img src=&quot;http://space.jpl.nasa.gov/cgi-bin/wspace?tbody=-84&amp;vbody=1001&amp;month=05&amp;day=25&amp;year=2008&amp;hour=22&amp;minute=00&amp;rfov=2&amp;fovmul=-1&amp;bfov=80&amp;porbs=1&amp;showsc=1&quot;&gt;&lt;/p&gt;
&lt;p&gt;25.05.08 &amp;#8211; 23:26&lt;br /&gt;
&lt;img src=&quot;http://space.jpl.nasa.gov/cgi-bin/wspace?tbody=-84&amp;vbody=1001&amp;month=05&amp;day=25&amp;year=2008&amp;hour=23&amp;minute=26&amp;rfov=2&amp;fovmul=-1&amp;bfov=90&amp;porbs=1&amp;showsc=1&quot;&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Mars Phoenix Lander - Landing Site</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-lander-landing-site.html"/>
   <updated>2008-05-24T16:28:28+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-lander-landing-site</id>
   <content type="html">&lt;p&gt;The Landing will hopefully take place in an area called Green Valley which is placed in Vastitas Borealis on Mars. This area was choosen because it is very flat and besides of the polar caps it contains the highes amount of water ice.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-123&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#39;/images/mars/226782main_5296.jpg&#39;&gt;&lt;img src=&quot;/images/mars/226782main_5296-300x202.jpg&quot; alt=&quot;Image Credit: NASA/JPL-Caltech&quot; title=&quot;226782main_5296&quot; width=&quot;300&quot; height=&quot;202&quot; class=&quot;alignnone size-medium wp-image-124&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Image Credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech&lt;/p&gt;
&lt;p&gt;The Location is about:&lt;br /&gt;
Latitude 68.0 Â°&lt;br /&gt;
Longitude 234.9 Â°&lt;/p&gt;
&lt;p&gt;&lt;a href=&#39;/images/mars/226801main_6412m.png&#39;&gt;&lt;img src=&quot;/images/mars/226801main_6412m-300x214.png&quot; alt=&quot;&quot; title=&quot;226801main_6412m&quot; width=&quot;300&quot; height=&quot;214&quot; class=&quot;alignnone size-medium wp-image-130&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Image Credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech&lt;/p&gt;
&lt;p&gt;&lt;a href=&#39;/images/mars/229829main_topo_may23_3sig_notcm_516b.jpg&#39;&gt;&lt;img src=&quot;/images/mars/229829main_topo_may23_3sig_notcm_516b-300x225.jpg&quot; alt=&quot;&quot; title=&quot;229829main_topo_may23_3sig_notcm_516b&quot; width=&quot;300&quot; height=&quot;225&quot; class=&quot;alignnone size-medium wp-image-132&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
Image Credit: &lt;span class=&quot;caps&quot;&gt;NASA&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt;-Caltech&lt;/p&gt;
&lt;p&gt;Mars Express (&lt;span class=&quot;caps&quot;&gt;MEX&lt;/span&gt;):&lt;br /&gt;
&amp;#8212; High Resolution Stereo Camera (&lt;span class=&quot;caps&quot;&gt;HRSC&lt;/span&gt;): &lt;a href=&quot;http://hrscview.fu-berlin.de/cgi-bin/ion-p?ION__E1=UPDATE%3Aion%3A%2F%2Fhrscview.ion&amp;image=1587_0000&amp;lat=68.093&amp;lon=233.659&amp;mode=footprint&amp;zoom=2&amp;scale=12.5&amp;pview=South&amp;exag=1&amp;viewport=900x600&amp;UPDATE.x=427&amp;UPDATE.y=296&amp;image0=1587_0000&amp;code=55654040&quot;&gt;&lt;span class=&quot;caps&quot;&gt;HRSC&lt;/span&gt; Viewer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Mars Reconnaissance Orbiter (&lt;span class=&quot;caps&quot;&gt;MRO&lt;/span&gt;):&lt;br /&gt;
&lt;del&gt;- Context Imager (&lt;span class=&quot;caps&quot;&gt;CTX&lt;/span&gt;): &lt;a href=&quot;http://pds-imaging.jpl.nasa.gov/search/index.jsp&quot;&gt;http://pds-imaging.jpl.nasa.gov/search/index.jsp&lt;/a&gt;&lt;br /&gt;
-&lt;/del&gt; Mars Color Imager (&lt;span class=&quot;caps&quot;&gt;MARCI&lt;/span&gt;): &lt;a href=&quot;http://hirise.lpl.arizona.edu/apotelesmata.php?q=phoenix&amp;order=release_date&amp;submit=Search&quot;&gt;&lt;span class=&quot;caps&quot;&gt;HIRSE&lt;/span&gt; Blog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Mars Global Surveyor (&lt;span class=&quot;caps&quot;&gt;MGS&lt;/span&gt;):&lt;br /&gt;
&amp;#8212; Mars Orbiter Camera (&lt;span class=&quot;caps&quot;&gt;MOC&lt;/span&gt;): &lt;a href=&quot;http://ida.wr.usgs.gov/&quot;&gt;http://ida.wr.usgs.gov/&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Mars Phoenix Lander - Time Schedule</title>
   <link href="http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-lander-time-schedule.html"/>
   <updated>2008-05-24T13:16:47+00:00</updated>
   <id>http://www.jotschi.de/das%20kalte%20nichts/2008/05/24/mars-phoenix-lander-time-schedule</id>
   <content type="html">&lt;p&gt;Zeitplan für die Landung: (26.05.08)&lt;br /&gt;
Die Sonde wird voraussichtlich um  00:30:40 GMT+1 in die Mars Atmosphäre eintreten. Da Mars und Erde aber zur Zeit einen Abstand von 275 Millionen Kilometer zueinander haben braucht das Signal 15 Minuten und 20 Sekunden um die Erde zu erreichen.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-122&quot;&gt;&lt;/a&gt;Dies bedeutet das wir erst um 01:46:00 GMT+1 die Nachricht vom Eintritt erhalten. (19:46 &lt;span class=&quot;caps&quot;&gt;EDT&lt;/span&gt;) &amp;#8211; (23:46 &lt;span class=&quot;caps&quot;&gt;UTC&lt;/span&gt;) Die ersten Bilder sollten dann um ca. 02:30 GMT+1 eintreffen. Das erste Bild wird die Solarzellen zeigen um die korrekte Entfaltung sicherzustellen.&lt;/p&gt;
&lt;p&gt;&lt;del&gt;- Gelegenheit ein Bahnkorrektur Manöver auszuführen (TCM6X), 17:46:00&lt;br /&gt;
-&lt;/del&gt; News briefing 21:00:00&lt;br /&gt;
&lt;del&gt;- Beginn der nicht kommentierten live Übertragung aus dem &lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt; Kontroll Raum, 00:00:00&lt;br /&gt;
-&lt;/del&gt; Beginn der kommentierten live Übertragung aus dem &lt;span class=&quot;caps&quot;&gt;JPL&lt;/span&gt; Kontroll Raum, 00:30:00 &lt;br /&gt;
&lt;del&gt;- Antriebssystem wird unter Druck gesetzt, 01:16:00 &amp;#8211; (&lt;b&gt;26.05.08&lt;/b&gt;)&lt;br /&gt;
-&lt;/del&gt; Beginn der &amp;#8220;bent-pipe&amp;#8221; gekoppelten Weiterleitung (Kontinuierliche Transmissionen von Phoenix Data wie sie eintreffen) durch NASA&amp;#8217;s Mars Odyssey spacecraft zu Goldstone, Calif., Deep Space Network Station, 01:38:00&lt;br /&gt;
&lt;del&gt;- Green Bank, W. Va., Radio Teleskop horcht von direkten &lt;span class=&quot;caps&quot;&gt;UHF&lt;/span&gt; Transmissionen von Phoenix, 01:38:00&lt;br /&gt;
-&lt;/del&gt; Cruise Stage trennt sich vom Lander, 01:39:00&lt;br /&gt;
&lt;del&gt;- Die Sonde dreht sich für den Atmosphären Eintritt, 01:40:00&lt;br /&gt;
-&lt;/del&gt; Die Sonde tritt in die Mars Atmosphäre ein, 01:46:33&lt;br /&gt;
&lt;del&gt;- Übliche  Blackout Periode da heißes Plasma das Raumschiff umhüllt, 01:47:00 bis 01:49:00&lt;br /&gt;
-&lt;/del&gt; Fallschirm entfaltet sich, 01:50:15, +- ca. 13 Sekunden&lt;br /&gt;
&lt;del&gt;- Hitze Schild wird ab gesprengt, 01:50:30, +&lt;/del&gt; ca. 13 Sekunden&lt;br /&gt;
&lt;del&gt;- Landebeine werden ausgefahren, 01:50:40, +&lt;/del&gt; ca. 13 Sekunden&lt;br /&gt;
&lt;del&gt;- Radar aktiviert 00:51:30&lt;br /&gt;
-&lt;/del&gt; Lander trennt sich vom Backshell, 01:53:09, +- ca. 46 Sekunden&lt;br /&gt;
&lt;del&gt;- Übertragungslücke während des Wechsels zur Helix Antenne 01:53:08 bis 01:53:14&lt;br /&gt;
-&lt;/del&gt; Abstiegsdüsen fahren hoch, 01:53:12&lt;br /&gt;
&lt;del&gt;- Konstante Beschleunigungsphase beginnt, 01:53:34, +&lt;/del&gt; ca. 46 Sekunden&lt;br /&gt;
&lt;del&gt;- Touchdown, 01:53:52, +&lt;/del&gt; ca. 46 Sekunden&lt;br /&gt;
&lt;del&gt;- Lander Funk aus 01:54:52, +&lt;/del&gt; ca. 46 Sekunden&lt;br /&gt;
&lt;del&gt;- Beginn der Entfaltung der Solarzellen (während Funk Pause) 02:13:00&lt;br /&gt;
-&lt;/del&gt; Der NASA&amp;#8217;s Mars Reconnaissance Orbiter spielt die aufgezeichneten Phoenix Übertragungen noch einmal ab die er während der &lt;span class=&quot;caps&quot;&gt;EDL&lt;/span&gt; gemacht hat., 02:28, Diese Daten stehen erst einige Stunden später zur Verfügung.&lt;br /&gt;
&lt;del&gt;- Mars Express spielt die aufgezeichneten Phoenix Übertragungen noch einmal ab die er während der &lt;span class=&quot;caps&quot;&gt;EDL&lt;/span&gt; gemacht hat, 02:30. Diese Daten stehen erst einige Stunden später zur Verfügung.&lt;br /&gt;
-&lt;/del&gt; Post-landing Aufgaben von Subsystemen Teams über den Status des Landers, 02:30:00&lt;br /&gt;
&lt;del&gt;- Mars Odyssey &amp;#8220;bent-pipe&amp;#8221; Weiterleitung von Transmissionen von Phoenix, mit System Daten und möglicherweise den ersten Bildern, 03:43:00 bis 04:02:00. Daten können bis zu 30 zusätzlichen Minuten in der Pipeline verbringen bis sie schließlich verfügbar sind. Falls alles gut geht, live Übertragungen vom Control Room zeigen vielleicht die ersten Bilder so wie sie eintreffen. &lt;br /&gt;
-&lt;/del&gt; News briefing, 01:05 (27.05.08)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Canon MX300 - Debian Lenny</title>
   <link href="http://www.jotschi.de/technik/2008/05/23/canon-mx300-debian-lenny.html"/>
   <updated>2008-05-23T23:38:46+00:00</updated>
   <id>http://www.jotschi.de/technik/2008/05/23/canon-mx300-debian-lenny</id>
   <content type="html">&lt;p lang=&quot;en&quot;&gt;
&lt;p&gt;Canon MX300 with Debian Lenny&lt;br&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;
&lt;p&gt;Canon MX300 unter Debian Lenny&lt;br&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-121&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;
&lt;p&gt;Mittels &lt;span class=&quot;caps&quot;&gt;CVS&lt;/span&gt; Version von Sane (22.05.2008)&lt;br&gt;
1. Sane auschecken, bauen und installieren.&lt;br&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;p lang=&quot;en&quot;&gt;
&lt;p&gt;Using the &lt;span class=&quot;caps&quot;&gt;CVS&lt;/span&gt; version of Sane (22.05.2008)&lt;br&gt;
1. checkout sane, build and install.&lt;br&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;pre&gt;
  cvs -z3 -d:pserver:anonymous@cvs.alioth.debian.org:/cvsroot/sane co sane-backends
&lt;/pre&gt;
&lt;p lang=&quot;de&quot;&gt;
&lt;p&gt;2. Gruppe &amp;#8216;scanner&amp;#8217; anlegen (falls dies nicht schon gemacht wurde)&lt;br&gt;
3. Der Benutzer der scannen darf muss der Gruppe &amp;#8216;scanner&amp;#8217; hinzugefügt werden.&lt;br&gt;
4. UDev Rule anlegen&lt;br /&gt;
5. Scanner anschließen&lt;br /&gt;
6. xsane ausführen&lt;/p&gt;
&lt;/p&gt;
&lt;p lang=&quot;en&quot;&gt;
&lt;p&gt;2. Add group &amp;#8216;scanner&amp;#8217; (if not yet been done already)&lt;br&gt;
3. The user that scans must be added to the group &amp;#8216;scanner&amp;#8217;.&lt;br&gt;
4. Add matching UDev rule.&lt;br /&gt;
5. Connect your scanner.&lt;br /&gt;
6. execute xsane&lt;/p&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br&gt;
uDev Rule:&lt;br&gt;
&lt;pre&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Canon &lt;span class=&quot;caps&quot;&gt;PIXMA&lt;/span&gt; MX300&lt;br /&gt;
SYSFS{idVendor}&quot;04a9&quot;, SYSFS{idProduct}&amp;#8220;1727&amp;#8221;, &lt;span class=&quot;caps&quot;&gt;MODE&lt;/span&gt;=&amp;#8220;0664&amp;#8221;, &lt;span class=&quot;caps&quot;&gt;GROUP&lt;/span&gt;=&amp;#8220;scanner&amp;#8221;, ENV{libsane_matched}=&amp;#8220;yes&amp;#8221;&lt;br /&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Search for Mars Polar Lander (crashed 1999)</title>
   <link href="http://www.jotschi.de/uncategorized/2008/05/15/search-for-mars-polar-lander-crashed-1999.html"/>
   <updated>2008-05-15T21:00:16+00:00</updated>
   <id>http://www.jotschi.de/uncategorized/2008/05/15/search-for-mars-polar-lander-crashed-1999</id>
   <content type="html">&lt;p&gt;The HiRISE Team invited people to search their image data for the missing polar lander that crashed 1999 on Mars.&lt;br /&gt;
&lt;a href=&quot;http://hirise.lpl.arizona.edu/HiBlog/?p=134&quot;&gt;http://hirise.lpl.arizona.edu/HiBlog/?p=134&lt;/a&gt;&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-117&quot;&gt;&lt;/a&gt;&lt;br /&gt;
The lander itself looks like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www2.jpl.nasa.gov/files/images/browse/98lander-top.gif&quot; alt=&quot;Mars Polar Lander from above&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I joined and tried to find the lander. I found these places:&lt;/p&gt;
&lt;p&gt;I found this one:&lt;br /&gt;
PSP_005958_1025_RED.JP2 &amp;#8211; X: 12020px  &amp;#8211; Y: 3930px&lt;br /&gt;
&lt;a href=&#39;/images/mars/found_2_12020_3930.png&#39;&gt;&lt;img src=&quot;/images/mars/found_2_12020_3930-300x229.png&quot; alt=&quot;Lander?&quot; title=&quot;found_2_12020_3930&quot; width=&quot;300&quot; height=&quot;229&quot; class=&quot;alignnone size-medium wp-image-119&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
With some imagination it looks like a crashed lander with two solar panels in the north of the object.&lt;/p&gt;
&lt;p&gt;I found this one:&lt;br /&gt;
PSP_005958_1025_RED.JP2 &amp;#8211; X: 9644px  &amp;#8211; Y: 5586px&lt;br /&gt;
&lt;a href=&#39;/images/mars/found_1_9644_5585.png&#39;&gt;&lt;img src=&quot;/images/mars/found_1_9644_5585-300x149.png&quot; alt=&quot;Smoker&quot; title=&quot;found_1_9644_5585&quot; width=&quot;300&quot; height=&quot;149&quot; class=&quot;alignnone size-medium wp-image-118&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It might be just a small cloud above a small hill or a dust devil (not possible so far north?) or it might be something else.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>mplayer still picture extraction</title>
   <link href="http://www.jotschi.de/fundgrube/2008/04/06/mplayer-still-picture-extraction.html"/>
   <updated>2008-04-06T21:09:25+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/2008/04/06/mplayer-still-picture-extraction</id>
   <content type="html">&lt;p&gt;Do you want to extract one specific frame from a movie using mplayer?&lt;/p&gt;
&lt;pre&gt; 
mplayer -ss [second] -frames 1 -vo png [moviefile]
&lt;/pre&gt;
&lt;p&gt;Example:&lt;br /&gt;
&lt;pre&gt; &lt;br /&gt;
mplayer -ss 0.04166666667 -frames 1 -vo png test.mov&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Dual Head on i810 - 945GM - Amilo Pro </title>
   <link href="http://www.jotschi.de/fundgrube/technik/2008/02/09/dual-head-on-i810-945gm-amilo-pro.html"/>
   <updated>2008-02-09T13:50:27+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2008/02/09/dual-head-on-i810-945gm-amilo-pro</id>
   <content type="html">&lt;p lang=&quot;en&quot;&gt;
&lt;p&gt;If you want to set up a dual head configuration you might want to take a look at my xorg.conf&lt;br /&gt;
&lt;strong&gt;&lt;span class=&quot;caps&quot;&gt;UPDATE&lt;/span&gt;:&lt;/strong&gt;Using latest Lenny? See here: &lt;a href=&quot;/?p=141&quot;&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-115&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
Section &amp;quot;Files&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/misc&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/misc&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/cyrillic&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/cyrillic&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/100dpi/:unscaled&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/100dpi/:unscaled&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/75dpi/:unscaled&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/75dpi/:unscaled&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/Type1&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/Type1&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/100dpi&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/100dpi&amp;quot;
	FontPath	&amp;quot;/usr/share/fonts/X11/75dpi&amp;quot;
	FontPath	&amp;quot;/usr/X11R6/lib/X11/fonts/75dpi&amp;quot;
	# path to defoma fonts
	FontPath	&amp;quot;/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType&amp;quot;
EndSection

Section &amp;quot;Module&amp;quot;
	Load    &amp;quot;GLcore&amp;quot;
	Load	&amp;quot;bitmap&amp;quot;
	Load	&amp;quot;dbe&amp;quot;
	Load	&amp;quot;ddc&amp;quot;
	Load	&amp;quot;dri&amp;quot;
	Load	&amp;quot;extmod&amp;quot;
	Load	&amp;quot;freetype&amp;quot;
	Load	&amp;quot;glx&amp;quot;
	Load	&amp;quot;int10&amp;quot;
	Load	&amp;quot;record&amp;quot;
	Load	&amp;quot;type1&amp;quot;
	Load	&amp;quot;vbe&amp;quot;
EndSection

Section &amp;quot;InputDevice&amp;quot;
	Identifier	&amp;quot;Generic Keyboard&amp;quot;
	Driver		&amp;quot;kbd&amp;quot;
	Option		&amp;quot;CoreKeyboard&amp;quot;
	Option		&amp;quot;XkbRules&amp;quot;	&amp;quot;xorg&amp;quot;
	Option		&amp;quot;XkbModel&amp;quot;	&amp;quot;pc105&amp;quot;
	Option		&amp;quot;XkbLayout&amp;quot;	&amp;quot;de&amp;quot;
	Option		&amp;quot;XkbVariant&amp;quot;	&amp;quot;nodeadkeys&amp;quot;
EndSection

Section &amp;quot;InputDevice&amp;quot;
	Identifier	&amp;quot;Configured Mouse&amp;quot;
	Driver		&amp;quot;evdev&amp;quot;
	Option		&amp;quot;CorePointer&amp;quot;
	Option          &amp;quot;Name&amp;quot; &amp;quot;Logitech USB-PS/2 Optical Mouse&amp;quot;
EndSection

Section &amp;quot;InputDevice&amp;quot;
	Identifier	&amp;quot;Synaptics Touchpad&amp;quot;
	Driver		&amp;quot;synaptics&amp;quot;
	Option		&amp;quot;SendCoreEvents&amp;quot;	&amp;quot;true&amp;quot;
	Option		&amp;quot;Device&amp;quot; 		&amp;quot;/dev/psaux&amp;quot;
	Option          &amp;quot;SHMConfig&amp;quot;		&amp;quot;true&amp;quot;
	Option		&amp;quot;Protocol&amp;quot;		&amp;quot;auto-dev&amp;quot;
	Option		&amp;quot;HorizScrollDelta&amp;quot;	&amp;quot;0&amp;quot;
EndSection

Section &amp;quot;Device&amp;quot;
	Identifier	&amp;quot;Device LCD dual&amp;quot;
	Driver		&amp;quot;i810&amp;quot;
	BusID		&amp;quot;PCI:0:2:0&amp;quot;
	Screen		0
	Option          &amp;quot;MonitorLayout&amp;quot; &amp;quot;CRT,LFP&amp;quot;
EndSection

Section &amp;quot;Device&amp;quot;
	Identifier	&amp;quot;Device CRT dual&amp;quot;
	Driver		&amp;quot;i810&amp;quot;
	BusID		&amp;quot;PCI:0:2:0&amp;quot;
	Screen		1
EndSection

Section &amp;quot;Monitor&amp;quot;
        Identifier      &amp;quot;Monitor LCD&amp;quot;
        Option          &amp;quot;DPMS&amp;quot;
EndSection

Section &amp;quot;Monitor&amp;quot;
	Identifier	&amp;quot;Monitor CRT&amp;quot;
	HorizSync     50-80
	VertRefresh   60
EndSection

Section &amp;quot;Screen&amp;quot;
	Identifier	&amp;quot;Screen CRT dual&amp;quot;
	Device		&amp;quot;Device CRT dual&amp;quot;
	Monitor		&amp;quot;Monitor CRT&amp;quot;
	DefaultDepth	24
	SubSection &amp;quot;Display&amp;quot;
		Depth	24
		Modes   &amp;quot;1280x1024&amp;quot;
	EndSubSection
EndSection

Section &amp;quot;Screen&amp;quot;
	Identifier	&amp;quot;Screen LCD dual&amp;quot;
	Device		&amp;quot;Device LCD dual&amp;quot;
	Monitor		&amp;quot;Monitor LCD&amp;quot;
	DefaultDepth	24
	SubSection &amp;quot;Display&amp;quot;
		Depth	24
		Modes	&amp;quot;1280x800&amp;quot;
	EndSubSection
EndSection

Section &amp;quot;ServerLayout&amp;quot;
	Identifier	&amp;quot;Default Layout&amp;quot;
	Screen		0 &amp;quot;Screen LCD dual&amp;quot;
	Screen		1 &amp;quot;Screen CRT dual&amp;quot; RightOf &amp;quot;Screen LCD dual&amp;quot;
	InputDevice	&amp;quot;Generic Keyboard&amp;quot;
	InputDevice	&amp;quot;Configured Mouse&amp;quot;
	InputDevice	&amp;quot;Synaptics Touchpad&amp;quot;
	Option		&amp;quot;Xinerama&amp;quot; &amp;quot;true&amp;quot;
EndSection

Section &amp;quot;DRI&amp;quot;
	Mode	0666
EndSection
&lt;/pre&gt;&lt;p&gt;Note: You might need to change the input devices to match your current hardware. The secondary display device does not work with Option &amp;#8220;&lt;span class=&quot;caps&quot;&gt;DPMS&lt;/span&gt;&amp;#8221;. Just fetch the right properties of your display and change the matching values for HorizSync and VertRefresh and you will get a higher resoultion on the device attached to secondary output.&lt;/p&gt;&lt;/p&gt;
&lt;p&gt;Download:&lt;br /&gt;
&amp;lt;a href=&amp;#8216;/downloads/xorg/xorg.conf.i810&amp;#8217; title=&amp;#8216;&amp;#8217;wp-title-mark&amp;#8217; id=&amp;#8216;wp-title-2&amp;#8217;&amp;gt;&lt;/span&gt;Dual Head Xorg.conf&amp;#8217;&amp;gt;&lt;span class=&#39;wp-title-mark&#39; id=&#39;wp-title-2&#39;&gt;&lt;/span&gt;Dual Head Xorg.conf&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multitouch Userinterface with WiiMote</title>
   <link href="http://www.jotschi.de/neuronensturm/technik/2008/01/28/multitouch-userinterface-with-wiimote.html"/>
   <updated>2008-01-28T02:11:11+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/technik/2008/01/28/multitouch-userinterface-with-wiimote</id>
   <content type="html">&lt;p lang=&quot;en&quot;&gt;Using the WiiMote you can create a multitouch userinterface. Johnny Chung Lee, Carnegie Mellon University demonstrate this in one of his videos:&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-108&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;Mittels WiiMote lässt sich einfach ein multitouch userinterface erstellen. Johnny Chung Lee, Carnegie Mellon University zeigt dies in einem seiner videos:&lt;/p&gt;
&lt;p&gt;&lt;embed src=&quot;http://www.youtube.com/v/5s5EvhHy7eQ&amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; height=&quot;355&quot; width=&quot;425&quot;&gt;&lt;/embed&gt;&lt;/p&gt;
&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;Er benutzt einen Lightpen mit einer eingebauten Infrarot &lt;span class=&quot;caps&quot;&gt;LED&lt;/span&gt; um einen Punkt zu erzeugen welcher von der WiiMote Infrarot Kamera erfasst werden kann. Ich denke es möglich auch ohne einen solchen LightPen ein Touchpad zu realisieren. Dies wäre ein ein Touchpad mit dem man direkt über die Finger wie z.B. beim Touchpad vom Laptop Benutzereingaben erzeugen kann. Durch die Berührung des Touchpads vertieft sich die berührte Stellen minimal. Platziert man nun unterhalb des Touchpads eine direktionale Infrarotlichtquelle, mit einer Ausrichtung die parallel zur Touchpadfläche verläuft, erhält man bei genauer Abstimmung einen Strahlenverlauf welcher direkt unterhalb der Touchpadfläche verläuft. Bei ausreichendem Druck &amp;#8220;biegt&amp;#8221; sich nun das Touchpad soweit durch das es den Bereich berührt welcher durch Infrarotlicht durchsetzt ist. Aus Folge davon wird die durchgedehnte Stelle unterhalb des Touchpads nun von Infrarotlicht beleuchtet und somit sichtbar für den WiiMote Infrarot Sensor.&lt;/p&gt;
&lt;p lang=&quot;en&quot;&gt;He uses a lightpen with a build in infrared &lt;span class=&quot;caps&quot;&gt;LED&lt;/span&gt; to get a tracking point for the wiimote infrared camera.I think it is possible to build a touchpad/touchtable where you don&amp;#8217;t need any pen to interact with the userinterface.Touching the upper layer of the touchpad will lower the layer section in this place and cross the directional lightbeams which are arranged underneath the touchpad. Therefor the place where the touchpad was touched is marked with IR light and can be tracked by the wii controler which is placed under the touchpad area. The infrared camera points to the touchpad and &amp;#8216;sees&amp;#8217; the places where the material crosses the lightbeams. The video illustrates this process.&lt;/p&gt;
&lt;p&gt;&lt;embed src=&quot;http://www.youtube.com/v/YUGGAuENsZA&amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; height=&quot;355&quot; width=&quot;425&quot;&gt;&lt;/embed&gt;&lt;/p&gt;
&lt;p lang=&quot;de&quot;&gt;Eine weitere Möglichkeit berührte Gebiete auf dem TouchPad zu erfassen könnte man mit einem speziellen Material der oberen Schicht erreichen. Die Oberseite des Touchpads kann im Grunde jedes relativ gut verformbare Material sein. Die Unterseite hingegen sollte Licht reflektieren können. Wenn nun ein Infrarot Strahl auf dieses Material fällt wird dieser in eine bestimmte Richtung reflektiert werden. Wie man aus der Schule weiß ergibt sich aus dem Einfallswinkel automatisch bei einer flachen Oberfläche der Reflektionswinkel. Würden wir unsere Infrarotlichtquelle nun in einem Winkel von 45 Grad zu  der reflektierenden Fläche ausrichten, würde kein Licht zum WiiMote geworfen werden wenn dieser direkt unter der reflektierenden Fläche platziert wäre. Eine Berührung des Touchpads würde nun zu einer Verformung der Oberfläche führen. Die relektierende Fläche wäre nicht mehr eben und würde somit an der verformten Stelle Licht in viele Richtungen reflektieren. Eben diese Reflektion könnte die WiiMote erfassen und somit die Position an dem das Touchpad berührt wurde erfassen.&lt;/p&gt;
&lt;p lang=&quot;en&quot;&gt;Another way to detect touched areas on the touchpad might work with a special material of the upper layer. The top of the touchpad layer can be anything you like but the bottom layer should be something reflective. When you point an infrared lightsource to this reflective material the light will bounce off to another direction. As we know from school the angle of the incoming light will result to the angle of the reflected light when using a flat surface. We just put our lightsource relative to the reflective layer so that we reach an angle about 45 degree. The incoming light will bounce off and never reache the WiiMote which is placed directly underneath the reflective layer. Touching the layer will cause the surface to be bended so that the light will bounce in nearly every direction. The toucharea is now visible to our WiiMote because some lightrays beeing reflected to the WiiMote.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/holo/lightbeams.png&quot; alt=&quot;Lightbeams&quot; /&gt;&lt;br /&gt;
&lt;img src=&quot;/images/holo/lightbeams2.png&quot; alt=&quot;Lightbeams2&quot; /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Inflatable VR hemisphere</title>
   <link href="http://www.jotschi.de/neuronensturm/technik/gfx/2008/01/21/inflatable-vr-hemisphere.html"/>
   <updated>2008-01-21T03:18:58+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/technik/gfx/2008/01/21/inflatable-vr-hemisphere</id>
   <content type="html">&lt;p&gt;Using an inflatable hemisphere as base for a virtual reality cave is in my mind a very good idea because you don&amp;#8217;t need any structures that stabilize the cave and you might only need one beamer to get a full 360° view shown inside the cave. This is done by projecting the image from above the cave onto its material.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-107&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The movie gives a brief impression of what iam talking:&lt;br /&gt;
&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/3llN2gHXDC4?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Virtual Reality Freedom</title>
   <link href="http://www.jotschi.de/neuronensturm/technik/gfx/2008/01/20/virtual-reality-freedom.html"/>
   <updated>2008-01-20T22:29:49+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/technik/gfx/2008/01/20/virtual-reality-freedom</id>
   <content type="html">&lt;p&gt;Using robotic features and neuronal sensors it should be possible to create a robot that react on movements to simulate movement while realy &amp;#8220;standing still&amp;#8221; on the ground. Combined with virtual retinal displays or cyber glasses you could realy move inside the virtual reality without controling the movements of your virtual reality avatar by buttons or something else.&lt;/p&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/14C2bDrZr4I?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Holodeck v2.0</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2008/01/16/holodeck-20.html"/>
   <updated>2008-01-16T14:27:19+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2008/01/16/holodeck-20</id>
   <content type="html">&lt;p&gt;Ein weiterer Ansatz in die tiefen der virtuellen Welt vorzustoßen bieten &lt;a href=&quot;http://en.wikipedia.org/wiki/Head-mounted_display&quot;&gt;Video &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; Brillen&lt;/a&gt; / &lt;a href=&quot;http://de.wikipedia.org/wiki/Head-Mounted_Display&quot;&gt;&lt;span class=&quot;caps&quot;&gt;HMD&lt;/span&gt;&lt;/a&gt; oder &lt;a href=&quot;http://en.wikipedia.org/wiki/Virtual_retinal_display&quot;&gt;Virtual retinal Display&lt;/a&gt; bei dem das erzeugte Bild direkt auf die Netzhaut projiziert wird.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-96&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ansatz:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In Verbindung mit einer hochauflösenden Stereokamera, welche auf dem getragenen Display montiert ist, wäre es möglich die Umgebung zu filmen und dieses Bildmaterial auf den Displayes dazustellen. Klingt im Grund sehr unsinnig da man das selbe Bild auch ohne jegliche technische Spielereien sehen könnte. Diese Vorgehensweise bietet jedoch eine weitere interessante Möglichkeit. Es ist nun Möglich in das gewonnene Bildmaterial neue Objekte einzublenden bzw. das nun sichtbare Bildmaterial zu verändern. So erhält man eine &lt;a href=&quot;http://de.wikipedia.org/wiki/Erweiterte_Realit%C3%A4t&quot; target=&quot;_blank&quot;&gt;erweiterte Realität&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Reale Umsetzung:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;An der Universität Paderborn habe ich z.B. eine &lt;a href=&quot;http://www.cs.uni-paderborn.de/fachgebiete/ag-domik/studienarbeiten/2003/bjoern-schwerdtfeger.html&quot; target=&quot;_blank&quot;&gt;solche Technik&lt;/a&gt; testen könnnen. Es wurde jedoch nur eine Kamera eingesetzt bei der sich somit nur ein zwei dimensionales Bild erfassen ließ. Zusätzlich wurde in das aufgenommene Bild ein 3D Objekt eingeblendet. So konnte die Kamera ein Muster auf einer weißen Fläche erfassen und aus dem Muster die Position und Orientierung der Fläche ermitteln. Dadurch war es möglich in Echtzeit ein Objekt in den Raum zu &amp;#8220;projiziert.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cs.uni-paderborn.de/fachgebiete/ag-domik/studienarbeiten/2005/andreas-pfau.html&quot; target=&quot;_blank&quot;&gt;Entwicklung im Jahr 2005&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Alternativ würde sich auch eine Videobrille anbieten die über durchscheinende Displays verfügt. Wie z.B. bei einem &lt;span class=&quot;caps&quot;&gt;HUD&lt;/span&gt; Display (Siehe Bild unten) . Bei dieser Technik trägt eine Person eine Projektionsfläche vor dem Auge. Diese Fläche ist in der Regel durchscheinend und ermöglicht zum Teil den Blick auf ein &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; Display. Perfekt wäre jedoch ein &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; ähnliches Display welches eine Art Alpha/Transparenz Effekt ermöglicht.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/holo/hud.jpg&quot; onclick=&quot;return false;&quot; title=&quot;Direct link to file&quot;&gt;&lt;br /&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mögliche Anwendungen: &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Durch diese Technik wäre z.B. Möglich Bilder in einen Raum zu erzeugen die real natürlich nicht vorhanden sind.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Holodeck v1.0</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2008/01/16/holodeck-v10.html"/>
   <updated>2008-01-16T01:00:08+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2008/01/16/holodeck-v10</id>
   <content type="html">&lt;p&gt;Ich bin auf ein paar interessante Dinge gestoßen mit denen sich mit Hilfe von relativ wenigen Mitteln ein &amp;#8220;Holodeck&amp;#8221; aufbauen lassen sollte. Im Grunde hat es wohl sogar rein gar nichts mit einem Holodeck gemeinsam.&lt;/p&gt;
&lt;p&gt;Ich bin bei YouTube auf ein paar &lt;a href=&quot;http://youtube.com/profile?user=jcl5m&quot; target=&quot;_blank&quot;&gt;Videos &lt;/a&gt;von &lt;a href=&quot;http://www.cs.cmu.edu/~johnny/projects/wii/&quot; title=&quot;Johnny Chung Lee&quot; target=&quot;_blank&quot;&gt;Johnny Chung Lee&lt;/a&gt; gestoßen.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-95&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Es ist möglich die &amp;#8220;alte&amp;#8221; Shutter Brillen Technologie wieder rauszukramen und sie mittels &lt;span class=&quot;caps&quot;&gt;DLP&lt;/span&gt; Beamer zu nutzen. Bei der Shutter Technologie wird vom Beamer jeweils ein Bild für das linke Auge und ein Bild für das rechte Auge gezeigt. Für diese Technik benötigt man also reaktionsschnelle Geräte. &lt;span class=&quot;caps&quot;&gt;LCD&lt;/span&gt; bietet dies in der Regel nicht. Zudem ist bei LCDs das Bild polarisiert. Um einen 3D Effekt zu erkennen wäre wahrscheinlich eine Drehung des Displays um 90Â° notwendig. Die sogenannte Shutterbrille sorgt nun dafür das jeweils nur das entsprechende Bild für ein Auge sichtbar ist indem ein Flüssigkristal in der Brille sich verdunkelt bzw. klar bleibt. Brillenaktivität und Beamerwiederholfrequenz werden also synchronisiert um die Bilder zu trennen.&lt;/p&gt;
&lt;p&gt;Video:&lt;/p&gt;
&lt;p&gt;&lt;embed src=&quot;http://www.youtube.com/v/aCi2yfWwNzI&amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; width=&quot;425&quot; height=&quot;355&quot;&gt;&lt;/embed&gt;&lt;/p&gt;
&lt;p&gt;Würde man Beispielsweise auf eine größe Halbkugel ein Bild projizieren können, so dass das Bild durch die Wand dieser Kugel durchscheint. (&lt;a href=&quot;http://de.wikipedia.org/wiki/R%C3%BCckprojektion&quot;&gt;Rückprojektion&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Video:&lt;br /&gt;
&lt;embed src=&quot;http://www.youtube.com/v/b0pRPhe52bk&amp;amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; height=&quot;355&quot; width=&quot;425&quot;&gt;&lt;/embed&gt;Und würde man weiter von einer Person die sich innerhalb dieser Kugel aufhält die Kopfposition und Blickrichtung kenne. (z.B. mittels &lt;a href=&quot;http://www.youtube.com/watch?v=Jd3-eiid-Uw&quot;&gt;Headtracking via Wii Mote (siehe Johnny Lee)&lt;/a&gt;)Konzept Visualisierung:&lt;a href=&quot;/images/holo/holodeck.png&quot; title=&quot;Holodeck&quot;&gt;&lt;br /&gt;
&lt;img src=&quot;/images/holo/holodeck.thumbnail.png&quot; alt=&quot;Holodeck&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Video:&lt;br /&gt;
&lt;embed src=&quot;http://www.youtube.com/v/Jd3-eiid-Uw&amp;amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; height=&quot;355&quot; width=&quot;425&quot;&gt;&lt;/embed&gt;Der User steht innerhalb der Halbkugel während diese über Rückprojektion von aussen beleuchtet wird. Es ist denkbar mehrere Beamer einzusetzen und zudem mehrere Wii Remote Controler um für alle Winkel des Users ein Bild liefern zu können.Noch ein paar Worte zu seiner Realtime Beamer on Surface Kalibrierung. Ich könnte mir auch vorstellen Lidar zu verwenden um ein räumliches Profil von der Zieloberfläche zu erschaffen. Durch die Lidar Laserabtastung würde man eine Punktwolke erhalten aus der sich eine Oberfläche extrapolieren lassen könnte. Dadurch wäre es möglich auf jede beliebige Anordnung von Objekten ein unverzerrtes 2D Bild zu projizieren. Dieses könnte wiederum genutzt werden um ein 3D Bild auf den Objekten zu erzeugen.&lt;/p&gt;
&lt;p&gt;Lidar Beispiel:&lt;/p&gt;
&lt;p&gt;&lt;embed src=&quot;http://www.youtube.com/v/GZ7iufRuZLQ&amp;amp;rel=1&quot; type=&quot;application/x-shockwave-flash&quot; wmode=&quot;transparent&quot; height=&quot;355&quot; width=&quot;425&quot;&gt;&lt;/embed&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>XHTML 2.0 vs. HTML 5</title>
   <link href="http://www.jotschi.de/technik/2008/01/12/xhtml-20-vs-html-5.html"/>
   <updated>2008-01-12T01:23:57+00:00</updated>
   <id>http://www.jotschi.de/technik/2008/01/12/xhtml-20-vs-html-5</id>
   <content type="html">&lt;p&gt;Als ich mich kürzlich über die verschiedenen &lt;span class=&quot;caps&quot;&gt;HTML&lt;/span&gt; Standards informiert habe bin ich auf einen wirklich sehr lesenswerten Artikel von Golem.de gestoßen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.golem.de/0707/53062.html&quot;&gt;Webtechnologien im Umbruch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-92&quot;&gt;&lt;/a&gt; Durch die mit den neuen Standards kommenden neuen Features würden sich wirklich interessante Möglichkeiten erschließen. Durch den Tag Artikel ließe sich z.B. per Knopfdruck eine bestehende Website mit ihrem Layout in ein Browserinternes Artikel Preview Layout transformieren. Dies würde das ungestörte Lesen von Artikeln ermöglichen. Ob Betreiber von größeren Websites dies jedoch anwenden werden ist fraglich, da sich so leicht eine Website hijaken lassen könnte.&lt;/p&gt;
&lt;p&gt;Auch der Tag &amp;lt;comment&amp;gt; wäre denkbar. Ich bin gespannt was uns Webtechnologisch in diesem Bereich erwartet. Immerhin werden wir noch einige Zeit warten müssen bis es soweit ist. Für HTML5 wird eine Entwicklungszeit von 15 Jahren angestrebt. Es ist natürlich auch die Frage in wie weit sich alte Standards verdrängen lassen bzw. von neuen abgelöst werden.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Auswandern nach Österreich - Ausbildung in Wien - Mein Erfahrungsbericht</title>
   <link href="http://www.jotschi.de/life/2008/01/12/auswandern-nach-osterreich-ausbildung-in-wien-mein-erfahrungsbericht.html"/>
   <updated>2008-01-12T00:44:02+00:00</updated>
   <id>http://www.jotschi.de/life/2008/01/12/auswandern-nach-osterreich-ausbildung-in-wien-mein-erfahrungsbericht</id>
   <content type="html">&lt;p&gt;Für mich stand schon lange Zeit fest das ich gerne nach Österreich auswandern wollte. Und so schwer ist es gar nicht.&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-91&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Als Zutaten benötigt man:&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;ein Reisedokument ( Reisepass oder Personalausweis)&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt;eine Wohnung zum Leben&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;Ich schildere im weiteren einfach meine Erfahrungen die ich in Wien gesammelt habe und den Amtsweg der mich dort erwartet hat.&lt;/p&gt;
&lt;p&gt;1. Anmelden:&lt;/p&gt;
&lt;p&gt;Als erstes besorgst du dir einen Meldezettel. Einfach runterladen und ausdrucken:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.wien.gv.at/verwaltung/meldeservice/pdf/meldezettel.pdf&quot;&gt;Meldezettel (&lt;span class=&quot;caps&quot;&gt;PDF&lt;/span&gt;)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Als nächstest suchst du den Meldeservice für deinen Ort/Bezirk. Die Liste für Wien gibt es hier:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.wien.gv.at/verwaltung/meldeservice/stellen.html&quot;&gt;Stellen&lt;/a&gt;&lt;br /&gt;
Einfach vorbei schauen. Das Anmelden geht in der Regel sehr schnell.&lt;/p&gt;
&lt;p&gt;2. Abmelden:&lt;/p&gt;
&lt;p&gt;Wenn du nicht vor hast deinen Wohnsitz in Österreich als Nebenwohnsitz laufen zu lassen empfiehlt es sich den Hauptwohnsitz in Deutschland abzumelden. Dies muss allerdings bei dem Einwohnermeldeamt in Deutschland geschehen wo du bisher gemeldet warst.&lt;/p&gt;
&lt;p&gt;4. &lt;span class=&quot;caps&quot;&gt;AMS&lt;/span&gt; Dienste:&lt;/p&gt;
&lt;p&gt;Wenn du in irgendeiner Weise vom Arbeitsmarkt Service bürokratische offizielle Dienste in Anspruch nehmen möchtest brauchst du eine Österreichische Sozialversicherungsnummer. Ich habe vom &lt;span class=&quot;caps&quot;&gt;AMS&lt;/span&gt; ein Formular bekommen mit dem ich zu Zentralen Gebietskrankenkasse gehen musste. Wichtig! Achtet darauf das euer Formular abgestempelt. Signiert und mit dem Namen des Sachbearbeiters versehen wurde. Wegen diesen &amp;#8220;Kleinigkeiten&amp;#8221; durfte ich schon so einiges durch machen.&lt;/p&gt;
&lt;p&gt;3. Österreichische Sozialversicherungsnummer:&lt;/p&gt;
&lt;p&gt;Am besten ihr geht relativ früh zur Gebietskrankenkasse. In Wien habe ich dort ziemlich lange warten müssen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ausbildung&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Wenn du eine Ausbildung in Österreich bzw. in Wien oder im Ausland planst kannst du einen Antrag auf Berufsausbildungsbeihilfe stellen. Diesen Antrag kannst du bei deinem örtlichen Arbeitsamt in Deutschland stellen. Du solltest allerdings einen Termin für die Antragsstellung vereinbaren. In meinem Fall bin ich einfach mit der Tür ins Haus gefallen und habe erklärt das ich bereits am nächsten Tag umziehen werde. Daraufhin habe ich den Antrag als Ausdruck erhalten.&lt;/p&gt;
&lt;p&gt;Für den Antrag müssen einige Kriterien erfüllt werden:&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;Die Ausbildung in Österreich muss einer Ausbildung in Deutschland gleichwertig sein. Dies überprüft die Wirtschafskammer in Deutschland.&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt;Die Ausbildung im Ausland muss begründet werden. z.B. dadurch das man in einem Land indem nicht Deutsch gesprochen wird zusätzliche Sprach Erfahrungen sammeln kann.&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt; Das Einkommen der Eltern darf nicht besonders hoch sein.&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;und noch einige andere die mir im Moment nicht einfallen.&lt;/p&gt;
&lt;p&gt;Für manche Ausbildungsberufe gibt es explizit eine Liste mit deren Inhalten. Es kann nicht schaden eine solche Liste dem Antrag beizufügen und in einem gesonderten Schreiben auf dieses hinzuweisen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Banken&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Banken gibt es in Österreich, wie auch in Deutschland einige.&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;Volksbank:&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;Vorteil: Überall verfügbar, Abbuchungen von Geldautomaten in ganz Europa ohne Extra Gebühren, bietet Studentenkonto an welches evtl. auch für Auszubildende in Frage kommen könnte. (Hierzu beim ersten mal Fragen und beim zweiten mal mit dem Ausbildungsvertrag vorbei schauen, die Mitarbeiter nicht überrumpeln, Termin vereinbaren )&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;ErsteBank:&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;k.a.&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;Bank Austria:&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;Vorteil: Gutes Image?&lt;/p&gt;
&lt;p&gt;Nachteil: Diese Bank bot mir kein Studentenkonto als Auszubildenden an, Informationspolitik  sehr schlecht.&lt;br /&gt;
Sie bieten einen großen  Hochglanzflyer ohne Fakten. Schönes Design aber das wars dann auch.&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;Raiffeisen:&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;Nachteil: eher kleinere Bank?&lt;br /&gt;
&lt;ul&gt;&lt;br /&gt;
	&lt;li&gt;Postbank:&lt;/li&gt;&lt;/p&gt;
&lt;/ul&gt;
&lt;p&gt;k.a.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Finanzen&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Vorsicht beim Geldabheben mit Deutscher Bankkarte! Je nachdem bei welchem Kreditinstitut ihr seit kann es euch einiges Kosten. Abheben von 10€ führt z.B. zu einer Kontobelastung von 13,50€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Einkaufen&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ganz anders sieht es jedoch beim Bezahlen an der Kasse mit Karte aus.&lt;/p&gt;
&lt;p&gt;Mit Maestrokarte zahlt ihr hier nichts extra. ( Getestet bei Thalia )&lt;/p&gt;
&lt;p&gt;Billa akzeptiert leider nur Österreichische Maestrokarten.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Handy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Wer viel telefoniert dem ist sicherlich ein Vertragshandy empfohlen. Ich dagegen telefoniere mit meinem Handy seltener, dafür schreibe ich mehr &lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt;. Da ich keinen neuen Mobilfunkvertrag abschließen wollte habe ich mich auf PrePaid suche begeben.&lt;/p&gt;
&lt;p&gt;Bei Telering bin ich fündig geworden.&lt;/p&gt;
&lt;p&gt;Das Prepaid Angebot Mücke &lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; konnte ich für 9,95 ergattern. Enthalten waren ausserdem 5 Euro Startguthaben.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; ins Österreichische Mobilfunknetz kosten in diesem Tarif nur 3 Cent!&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; ins Deutsche Mobilfunknetz kosten 15 Cent.&lt;/p&gt;
&lt;p&gt;Eine Gesprächsminute in Österreich nach Deutschland kostet im Mücke &lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; Tarif  70 Cent.&lt;/p&gt;
&lt;p&gt;Eine Gesprächsminute in Österreich nach Österreich kostet im Mücke &lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; Tarif 9 Cent.&lt;/p&gt;
&lt;p&gt;Um in den &lt;span class=&quot;caps&quot;&gt;SMS&lt;/span&gt; Tarif zu wechseln muss man zusätzlich eine Gebühr von 2,50 Euro bezahlen. Diese wird automatisch von dem 5 Euro Guthaben abgezogen. Interessant ist zudem das man beim Kauf der &lt;span class=&quot;caps&quot;&gt;SIM&lt;/span&gt; Karte keinerlei Personen spezifische Daten angeben muss.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Java Global Keyboard/Mouse Hook - JNI</title>
   <link href="http://www.jotschi.de/technik/2008/01/06/java-global-keyboard-hook-jni.html"/>
   <updated>2008-01-06T14:39:01+00:00</updated>
   <id>http://www.jotschi.de/technik/2008/01/06/java-global-keyboard-hook-jni</id>
   <content type="html">&lt;h2&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;UPDATE&lt;/span&gt;:&lt;br /&gt;
This code was written a long time ago and does not work with Windows Vista/7. &lt;br /&gt;
Please check out a newer version which was rewritten by Kristian Kraljic.&lt;/p&gt;
&lt;/h2&gt;
&lt;p&gt;&amp;gt;&amp;gt; &lt;a href=&quot;http://ksquared.de/blog/2011/07/java-global-system-hook/&quot;&gt;Java Global (low level) Keyboard / Mouse Hook &lt;span class=&quot;caps&quot;&gt;JNI&lt;/span&gt;&lt;/a&gt; &amp;lt;&amp;lt;&lt;/p&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-90&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Global Keyboard/Mouse Hook für Java Applikationen. Der Standart Keyboard Listener für Java Applikationen liefert leider keine Ergebnisse sobald die Applikation den Fokus verliert. Dies ist z.B. bei Minimierung eines Fensters der Fall. Um trotzdem jedoch Interaktionen von dem Benutzer abzufangen ist es notwendig auf &lt;span class=&quot;caps&quot;&gt;JNI&lt;/span&gt; (Java Nativ Interface) zurückzugreifen und mittels externer Libary (&lt;span class=&quot;caps&quot;&gt;DLL&lt;/span&gt; unter Windows) bereitzustellen.&lt;/p&gt;
&lt;p&gt;Quellen: &lt;a href=&quot;/downloads/keyhook/KeyHookSRC.zip&quot; target=&quot;_blank&quot;&gt;KeyHookSRC.zip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Code Listing:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SysHook.cpp:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
#include &amp;lt;windows.h&amp;gt;&lt;br /&gt;
#include &amp;#8220;SysHook.h&amp;#8221;&lt;br /&gt;
#include &amp;lt;jni.h&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;HINSTANCE&lt;/span&gt; hInst = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;JavaVM * jvm = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
jobject hookObj_kb = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
jobject hookObj_ms = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
jobject g_kl = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;/p&gt;
&lt;p&gt;jmethodID processKeyID_kb = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
jmethodID processKeyID_ms = &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;DWORD&lt;/span&gt; hookThreadId = 0;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;LONG&lt;/span&gt;    g_mouseLocX = -1;    // x-location of mouse position&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;LONG&lt;/span&gt;    g_mouseLocY = -1;    // y-location of mouse position&lt;/p&gt;
&lt;p&gt;extern &amp;#8220;C&amp;#8221;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;BOOL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;APIENTRY&lt;/span&gt; DllMain(&lt;span class=&quot;caps&quot;&gt;HINSTANCE&lt;/span&gt; &lt;em&gt;hInst, &lt;span class=&quot;caps&quot;&gt;DWORD&lt;/span&gt; reason, &lt;span class=&quot;caps&quot;&gt;LPVOID&lt;/span&gt; reserved)&lt;br /&gt;
{&lt;br /&gt;
	switch (reason)&lt;br /&gt;
	{&lt;br /&gt;
		case DLL_PROCESS_ATTACH:&lt;br /&gt;
			printf(&amp;quot;C++: DllMain &amp;#8211; DLL_PROCESS&lt;/em&gt;&lt;span class=&quot;caps&quot;&gt;ATTACH&lt;/span&gt;.\n&amp;quot;);&lt;br /&gt;
			hInst = _hInst;&lt;br /&gt;
			break;&lt;br /&gt;
		default:&lt;br /&gt;
			break;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;return &lt;span class=&quot;caps&quot;&gt;TRUE&lt;/span&gt;;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;LRESULT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;CALLBACK&lt;/span&gt; MouseTracker(int nCode, &lt;span class=&quot;caps&quot;&gt;WPARAM&lt;/span&gt; wParam, &lt;span class=&quot;caps&quot;&gt;LPARAM&lt;/span&gt; lParam)&lt;br /&gt;
{&lt;br /&gt;
	JNIEnv * env;&lt;br /&gt;
	&lt;span class=&quot;caps&quot;&gt;KBDLLHOOKSTRUCT&lt;/span&gt; * p = (&lt;span class=&quot;caps&quot;&gt;KBDLLHOOKSTRUCT&lt;/span&gt; *)lParam;&lt;/p&gt;
&lt;p&gt;if (jvm-&amp;gt;AttachCurrentThread((void **)&amp;amp;env, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) &amp;gt;= 0)&lt;br /&gt;
	{&lt;/p&gt;
&lt;p&gt;if (nCode==HC_ACTION)&lt;br /&gt;
		{&lt;br /&gt;
			MOUSEHOOKSTRUCT* pStruct = (MOUSEHOOKSTRUCT*)lParam;&lt;br /&gt;
			if (pStruct-&amp;gt;pt.x != g_mouseLocX || pStruct-&amp;gt;pt.y != g_mouseLocY)&lt;br /&gt;
			{&lt;br /&gt;
				env-&amp;gt;CallVoidMethod(hookObj_ms, processKeyID_ms, (jint)pStruct-&amp;gt;pt.x,(jint)pStruct-&amp;gt;pt.y, g_kl);&lt;br /&gt;
				g_mouseLocX = pStruct-&amp;gt;pt.x;&lt;br /&gt;
				g_mouseLocY = pStruct-&amp;gt;pt.y;&lt;br /&gt;
			}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: LowLevelKeyboardProc &amp;#8211; Error on the attach current thread.\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;return CallNextHookEx(&lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;, nCode, wParam, lParam);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;LRESULT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;CALLBACK&lt;/span&gt; LowLevelKeyboardProc(int nCode, &lt;span class=&quot;caps&quot;&gt;WPARAM&lt;/span&gt; wParam, &lt;span class=&quot;caps&quot;&gt;LPARAM&lt;/span&gt; lParam)&lt;br /&gt;
{&lt;br /&gt;
	JNIEnv * env;&lt;br /&gt;
	&lt;span class=&quot;caps&quot;&gt;KBDLLHOOKSTRUCT&lt;/span&gt; * p = (&lt;span class=&quot;caps&quot;&gt;KBDLLHOOKSTRUCT&lt;/span&gt; *)lParam;&lt;/p&gt;
&lt;p&gt;if (jvm-&amp;gt;AttachCurrentThread((void **)&amp;amp;env, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;) &amp;gt;= 0)&lt;br /&gt;
	{&lt;br /&gt;
		switch (wParam)&lt;br /&gt;
		{&lt;br /&gt;
			case WM_KEYDOWN:&lt;br /&gt;
			case WM_SYSKEYDOWN:&lt;br /&gt;
				env-&amp;gt;CallVoidMethod(hookObj_kb, processKeyID_kb, (jboolean)&lt;span class=&quot;caps&quot;&gt;TRUE&lt;/span&gt;, p-&amp;gt;vkCode,g_kl);&lt;br /&gt;
				break;&lt;br /&gt;
			case WM_KEYUP:&lt;br /&gt;
			case WM_SYSKEYUP:&lt;br /&gt;
				env-&amp;gt;CallVoidMethod(hookObj_kb, processKeyID_kb, (jboolean)&lt;span class=&quot;caps&quot;&gt;FALSE&lt;/span&gt;, p-&amp;gt;vkCode,g_kl);&lt;br /&gt;
				break;&lt;br /&gt;
			default:&lt;br /&gt;
				break;&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: LowLevelKeyboardProc &amp;#8211; Error on the attach current thread.\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;return CallNextHookEx(&lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;, nCode, wParam, lParam);&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void MsgLoop()&lt;br /&gt;
{&lt;br /&gt;
	&lt;span class=&quot;caps&quot;&gt;MSG&lt;/span&gt; message;&lt;br /&gt;
	while (GetMessage(&amp;amp;message, &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;, 0, 0))&lt;br /&gt;
{&lt;/p&gt;
&lt;p&gt;TranslateMessage(&amp;amp;message);&lt;br /&gt;
DispatchMessage(&amp;amp;message);&lt;br /&gt;
}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;JNIEXPORT&lt;/span&gt; void &lt;span class=&quot;caps&quot;&gt;JNICALL&lt;/span&gt; Java_SysHook_registerHook(JNIEnv * env, jobject obj,jobject kl)&lt;br /&gt;
{&lt;br /&gt;
	&lt;span class=&quot;caps&quot;&gt;HHOOK&lt;/span&gt; hookHandle_ms = SetWindowsHookEx(WH_MOUSE_LL, MouseTracker, hInst, 0);&lt;br /&gt;
	&lt;span class=&quot;caps&quot;&gt;HHOOK&lt;/span&gt; hookHandle_kb = SetWindowsHookEx(WH_KEYBOARD_LL, LowLevelKeyboardProc, hInst, 0);&lt;/p&gt;
&lt;p&gt;g_kl = kl;&lt;/p&gt;
&lt;p&gt;if (hookHandle_ms == &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;)&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Hook failed!\n&amp;#8221;);&lt;br /&gt;
		return;&lt;br /&gt;
	}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Hook successful\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;if (hookHandle_kb == &lt;span class=&quot;caps&quot;&gt;NULL&lt;/span&gt;)&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Hook failed!\n&amp;#8221;);&lt;br /&gt;
		return;&lt;br /&gt;
	}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Hook successful\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;hookObj_kb = env-&amp;gt;NewGlobalRef(obj);&lt;br /&gt;
	jclass cls_kb = env-&amp;gt;GetObjectClass(hookObj_kb);&lt;br /&gt;
	processKeyID_kb = env-&amp;gt;GetMethodID(cls_kb, &amp;#8220;processKey&amp;#8221;, &amp;#8220;(ZILGlobalEventListener;)V&amp;#8221;);&lt;/p&gt;
&lt;p&gt;hookObj_ms = env-&amp;gt;NewGlobalRef(obj);&lt;br /&gt;
	jclass cls_ms = env-&amp;gt;GetObjectClass(hookObj_ms);&lt;br /&gt;
	processKeyID_ms = env-&amp;gt;GetMethodID(cls_ms, &amp;#8220;mouseMoved&amp;#8221;, &amp;#8220;(IILGlobalEventListener;)V&amp;#8221;);&lt;/p&gt;
&lt;p&gt;env-&amp;gt;GetJavaVM(&amp;amp;jvm);&lt;br /&gt;
	hookThreadId = GetCurrentThreadId();&lt;/p&gt;
&lt;p&gt;MsgLoop();&lt;/p&gt;
&lt;p&gt;if (!UnhookWindowsHookEx(hookHandle_kb))&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Unhook failed\n&amp;#8221;);&lt;br /&gt;
	}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Unhook successful\n&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;if (!UnhookWindowsHookEx(hookHandle_ms))&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Unhook failed\n&amp;#8221;);&lt;br /&gt;
	}&lt;br /&gt;
	else&lt;br /&gt;
	{&lt;br /&gt;
		printf(&amp;#8220;C++: Java_SysHook_registerKeyHook &amp;#8211; Unhook successful\n&amp;#8221;);&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;JNIEXPORT&lt;/span&gt; void &lt;span class=&quot;caps&quot;&gt;JNICALL&lt;/span&gt; Java_SysHook_unRegisterHook(JNIEnv *env, jobject object)&lt;br /&gt;
{&lt;br /&gt;
	if (hookThreadId == 0)&lt;br /&gt;
	return;&lt;/p&gt;
&lt;p&gt;printf(&amp;#8220;C++: Java_SysHook_unRegisterKeyHook &amp;#8211; call PostThreadMessage.\n&amp;#8221;);&lt;br /&gt;
	PostThreadMessage(hookThreadId, WM_QUIT, 0, 0L);&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SysHook.h:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
 /* DO &lt;span class=&quot;caps&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;EDIT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;THIS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FILE&lt;/span&gt; &amp;#8211; it is machine generated &lt;strong&gt;/&lt;br /&gt;
#include &amp;lt;jni.h&amp;gt;&lt;br /&gt;
/&lt;/strong&gt; Header for class SysHook */&lt;/p&gt;
&lt;p&gt;#ifndef _Included_SysHook&lt;br /&gt;
#define _Included_SysHook&lt;br /&gt;
#ifdef __cplusplus&lt;br /&gt;
extern &amp;#8220;C&amp;#8221; {&lt;br /&gt;
#endif&lt;br /&gt;
/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Class:     SysHook&lt;/li&gt;
	&lt;li&gt;Method:    registerHook&lt;/li&gt;
	&lt;li&gt;Signature: (LGlobalEventListener;)V&lt;br /&gt;
*/&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;JNIEXPORT&lt;/span&gt; void &lt;span class=&quot;caps&quot;&gt;JNICALL&lt;/span&gt; Java_SysHook_registerHook  (JNIEnv *, jobject, jobject);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Class:     SysHook&lt;/li&gt;
	&lt;li&gt;Method:    unRegisterHook&lt;/li&gt;
	&lt;li&gt;Signature: ()V&lt;br /&gt;
*/&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;JNIEXPORT&lt;/span&gt; void &lt;span class=&quot;caps&quot;&gt;JNICALL&lt;/span&gt; Java_SysHook_unRegisterHook  (JNIEnv *, jobject);&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;#ifdef __cplusplus&lt;br /&gt;
}&lt;br /&gt;
#endif&lt;br /&gt;
#endif&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GlobalEventListener.java:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
public class GlobalEventListener&lt;br /&gt;
{&lt;br /&gt;
	PoolHook pt;&lt;br /&gt;
	public GlobalEventListener()&lt;br /&gt;
	{&lt;br /&gt;
		pt = new PoolHook(this);&lt;br /&gt;
		pt.start();&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;protected javax.swing.event.EventListenerList listenerList = new javax.swing.event.EventListenerList();&lt;/p&gt;
&lt;p&gt;public void addKeyboardEventListener(KeyboardEventListener listener)&lt;br /&gt;
	{&lt;br /&gt;
		listenerList.add( KeyboardEventListener.class, listener );&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void removeKeyboardEventListener(KeyboardEventListener listener)&lt;br /&gt;
	{&lt;br /&gt;
		listenerList.remove( KeyboardEventListener.class, listener );&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;void keyPressed(KeyboardEvent event)&lt;br /&gt;
	{&lt;br /&gt;
		Object[] listeners = listenerList.getListenerList();&lt;br /&gt;
		for ( int i = 0; i &amp;lt; listeners.length; i += 2 )&lt;br /&gt;
		{&lt;br /&gt;
			if ( listeners[ i ] == KeyboardEventListener.class )&lt;br /&gt;
		{&lt;br /&gt;
		( (KeyboardEventListener)listeners[i + 1] ).GlobalKeyPressed( event );&lt;br /&gt;
	}&lt;br /&gt;
}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;void keyReleased(KeyboardEvent event)&lt;br /&gt;
{&lt;br /&gt;
	Object[] listeners = listenerList.getListenerList();&lt;br /&gt;
	for ( int i = 0; i &amp;lt; listeners.length; i += 2 )&lt;br /&gt;
	{&lt;br /&gt;
		if ( listeners[ i ] == KeyboardEventListener.class )&lt;br /&gt;
		{&lt;br /&gt;
			( (KeyboardEventListener)listeners[i + 1] ).GlobalKeyReleased( event );&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;KeyboardEventListener.java:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
import java.util.*;&lt;/p&gt;
&lt;p&gt;public interface KeyboardEventListener extends EventListener&lt;br /&gt;
{&lt;br /&gt;
	public void GlobalKeyPressed( KeyboardEvent event );&lt;br /&gt;
	public void GlobalKeyReleased( KeyboardEvent event );&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;class KeyboardEvent extends EventObject&lt;br /&gt;
{&lt;br /&gt;
	private static final long serialVersionUID = 2341653211621224652L;&lt;br /&gt;
	boolean ts, ap, ek;&lt;br /&gt;
	int vk;&lt;/p&gt;
&lt;p&gt;public KeyboardEvent( Object source, boolean ts, int vk, boolean ap, boolean ek )&lt;br /&gt;
{&lt;br /&gt;
	super(source);&lt;br /&gt;
	this.ts = ts;&lt;br /&gt;
	this.vk = vk;&lt;br /&gt;
	this.ap = ap;&lt;br /&gt;
	this.ek = ek;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;public boolean getTransitionState()&lt;br /&gt;
{&lt;br /&gt;
	return ts;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;public long getVirtualKeyCode()&lt;br /&gt;
{&lt;br /&gt;
	return vk;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;public boolean isAltPressed()&lt;br /&gt;
{&lt;br /&gt;
	return ap;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;public boolean isExtendedKey()&lt;br /&gt;
{&lt;br /&gt;
	return ek;&lt;br /&gt;
}&lt;/p&gt;
&lt;p&gt;public boolean equals( KeyboardEvent event )&lt;br /&gt;
{&lt;br /&gt;
	if( event.getVirtualKeyCode() == vk )&lt;br /&gt;
	{&lt;br /&gt;
		if( event.isExtendedKey() == ek )&lt;br /&gt;
		{&lt;br /&gt;
			if( event.isAltPressed() == ap )&lt;br /&gt;
			{&lt;br /&gt;
				return true;&lt;br /&gt;
			}&lt;br /&gt;
		}&lt;br /&gt;
	}&lt;br /&gt;
return false;&lt;br /&gt;
}&lt;br /&gt;
}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SysHook.java:&lt;/strong&gt;&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
class PoolHook extends Thread&lt;br /&gt;
{&lt;br /&gt;
	SysHook hook;&lt;br /&gt;
	GlobalEventListener g_gl;&lt;/p&gt;
&lt;p&gt;PoolHook(GlobalEventListener gl)&lt;br /&gt;
	{&lt;br /&gt;
		g_gl = gl;&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void run()&lt;br /&gt;
	{&lt;br /&gt;
		hook = new SysHook();&lt;br /&gt;
		hook.registerHook(g_gl);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;class SysHook&lt;br /&gt;
{&lt;/p&gt;
&lt;p&gt;static&lt;br /&gt;
	{&lt;br /&gt;
		System.loadLibrary(&amp;#8220;SysHook&amp;#8221;);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;void processKey(  boolean ts  ,int vk, GlobalEventListener gl)&lt;br /&gt;
	{&lt;br /&gt;
		KeyboardEvent event = new KeyboardEvent( this, ts, vk,false, false );&lt;br /&gt;
		gl.keyPressed(event);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;void mouseMoved(int cord_x, int cord_y, GlobalEventListener gl)&lt;br /&gt;
	{&lt;br /&gt;
		//MouseEvent event = new MouseEvent( this, cord_x, cord_y);&lt;br /&gt;
		//gl.mouseMoved(event);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;native void registerHook(GlobalEventListener gl);&lt;br /&gt;
	native void unRegisterHook();&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Example Java Program:&lt;br /&gt;
&lt;pre class=&quot;syntax java&quot;&gt;&lt;br /&gt;
public class Example  implements KeyboardEventListener&lt;br /&gt;
{&lt;/p&gt;
&lt;p&gt;static GlobalEventListener gl;&lt;/p&gt;
&lt;p&gt;public static void main(String[] args) throws Exception&lt;br /&gt;
	{&lt;br /&gt;
		Example inst = new Example();&lt;br /&gt;
		gl = new GlobalEventListener();&lt;br /&gt;
		gl.addKeyboardEventListener(inst);&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void GlobalKeyPressed( KeyboardEvent event )&lt;br /&gt;
	{&lt;br /&gt;
		System.out.println( &amp;quot;Key Pressed: &amp;quot; + event.getVirtualKeyCode() );&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;public void GlobalKeyReleased( KeyboardEvent event )&lt;br /&gt;
	{&lt;br /&gt;
		System.out.println( &amp;quot;Key Released: &amp;quot; + event.getVirtualKeyCode() );&lt;br /&gt;
	}&lt;/p&gt;
&lt;p&gt;}&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Windows Autostart Programm</title>
   <link href="http://www.jotschi.de/technik/2008/01/05/windows-autostart-programm.html"/>
   <updated>2008-01-05T01:16:32+00:00</updated>
   <id>http://www.jotschi.de/technik/2008/01/05/windows-autostart-programm</id>
   <content type="html">&lt;p&gt;CD-Rom Autorun&lt;br /&gt;
This small program will be called by Autorun.ini. The program itself just executes Index.html. This means Index.html will be opened in the default webbrowser. In comparision to some other methods i discovered while searching for a solution this one won&amp;#8217;t open a consol window or something else.&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-89&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;br /&gt;
Compile with:&lt;/p&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
gcc  -o open.exe  start.c res.o -mwindows
&lt;/pre&gt;&lt;p&gt;Code:&lt;br /&gt;
&lt;pre class=&quot;syntax escaped c&quot;&gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;windows.h&amp;gt;
int WINAPI WinMain(HINSTANCE hinst,HINSTANCE hprev,LPSTR cmdline,int cmdshow)
{
  HINSTANCE hInst = ShellExecute(0   ,&amp;quot;open&amp;quot;,&amp;quot;index.html&amp;quot;,NULL , 0,  SW_SHOW);
return 0;
}
&lt;/pre&gt;&lt;br /&gt;
&lt;br /&gt;
Note: You may need to change the &amp;quot; in &amp;#8217;.</content>
 </entry>
 
 <entry>
   <title>Ipw3945 - Kill Switch Problem - Solved</title>
   <link href="http://www.jotschi.de/technik/2007/08/24/ipw3945-kill-switch-problem-solved.html"/>
   <updated>2007-08-24T17:27:09+00:00</updated>
   <id>http://www.jotschi.de/technik/2007/08/24/ipw3945-kill-switch-problem-solved</id>
   <content type="html">&lt;p&gt;Wireless Network Interface verschwunden? &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-86&quot;&gt;&lt;/a&gt;Ipw3945 gibt folgenden Hinweis aus?&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
[17179602.488000] ipw3945: Radio Frequency Kill Switch is On:
[17179602.488000] Kill switch must be turned off for wireless networking to work.
&lt;/pre&gt;
&lt;p&gt;Dies bedeutet, das der WLan Chip deaktiviert wurde (geschieht normalerweise mittels Taste am Notebook)&lt;/p&gt;
&lt;p&gt;rf_kill sollte in dem Fall wahrscheinlich 2 liefern:&lt;/p&gt;
&lt;pre&gt;
amilo:/sys/bus/pci/drivers/ipw3945/0000:04:00.0# cat rf_kill
2
&lt;/pre&gt;
&lt;p&gt;Um den killswitch unter Linux zum laufen zu bringen benötigt man (beim Amilo Pro 3505 zumindest) die Acer Hotkey Treiber.&lt;/p&gt;
&lt;p&gt;Diese gibt es unter &lt;a href=&quot;http://www.cakey.de/acerhk/&quot; target=_blank&gt;http://www.cakey.de/acerhk/&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
make
make install
modprobe acerhk
&lt;/pre&gt;
&lt;p&gt;Sollte das Modul nicht bauen weil es die config.h nicht findet genügt es in acerhk.c (Line 38) den Include von linux/config.h auf linux/autoconf.h zu ändern.&lt;/p&gt;
&lt;p&gt;Mit dem folgenden Befehl aktiviert man das &lt;span class=&quot;caps&quot;&gt;WLAN&lt;/span&gt; wieder:&lt;/p&gt;
&lt;pre class=&quot;syntax c&quot;&gt;
echo 1 &amp;gt; /proc/driver/acerhk/wirelessled 
&lt;/pre&gt;
&lt;p&gt;rf_kill sollte nun 0 zurückliefern:&lt;br /&gt;
&lt;pre class=&quot;syntax c&quot;&gt;&lt;br /&gt;
amilo:/sys/bus/pci/drivers/ipw3945/0000:04:00.0# cat rf_kill&lt;br /&gt;
0&lt;br /&gt;
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;Getestet mit:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Distro:       Debian Etch&lt;/li&gt;
	&lt;li&gt;Notebook: Amilo Pro 3505&lt;/li&gt;
	&lt;li&gt;Treiber:    Ipw3945-1.2.2 / acerhk-0.5.34&lt;/li&gt;
	&lt;li&gt;Kernel:     2.6.21.5&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Lighthouse GDG2 Projekt SS07</title>
   <link href="http://www.jotschi.de/technik/gfx/2007/07/27/lighthouse-gdg2-projekt-ss07.html"/>
   <updated>2007-07-27T02:28:55+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2007/07/27/lighthouse-gdg2-projekt-ss07</id>
   <content type="html">&lt;p&gt;Lighthouse ist eine Anwendung die ich zusammen mit Manuel Deil im Zuge meines Studium als Projektaufgabe entwickeln musste. &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-83&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Screenshot:&lt;br /&gt;
&lt;a href=&#39;/images/lighthouse/bildschirmfoto.png&#39; title=&#39;Screenshot&#39;&gt;&lt;img src=&#39;/images/lighthouse/bildschirmfoto.thumbnail.png&#39; alt=&#39;Screenshot&#39; /&gt;&lt;/a&gt;&lt;br /&gt;
Es handelt sich hierbei um eine Anwendung, die die Prinzipien des Schattenwurfs von verschiedenen Objekten und verschiedenen Lichtquellen verdeutlichen soll.&lt;br /&gt;
Wir haben uns hierbei auf drei Lichtquellen beschränkt. &lt;br /&gt;
(Single Light) &amp;#8211; punktförmige Lichtquelle&lt;br /&gt;
(Dual Light)  &amp;#8211; zwei punktförmige Lichtquellen&lt;br /&gt;
(Area Light) &amp;#8211; flächenförmige Lichtquelle&lt;/p&gt;
&lt;p&gt;Als technische Grundlage für dieses Projekt habe ich einen Java OpenGL Wrapper benutzt (&lt;span class=&quot;caps&quot;&gt;JOGL&lt;/span&gt;). Hierbei verwendete ich &lt;a href=&quot;http://xith.org/&quot; target=_new&gt;Xith&lt;/a&gt; als Scenengraph und &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; für Hilfsfunktionen. An dieser Stelle möchte ich ein dickes Lob an die Xith Community los werden denn ohne deren rasche Hilfe wäre ich nicht fertig geworden. Die Funktionen für den Schattenwurf habe ich komplett selber implementiert. Allerdings muss ich dazu sagen das es an einigen Stellen noch Probleme gibt. Aufgrund von bestimmten Aspekten unseres Programms (z.B. zwei überlagernde Schatten) musste ich von der typischen Stencilbuffer-technik abweichen. Daher empfehle ich den jenigen die sich für Shadowcasting in 3D Anwendungen interessieren sich kein Beispiel an meiner Implementierung zunehmen. Allein schon für die Bestimmung der Siluette gibt es wesentlich effizientere Methoden.&lt;br /&gt;
Ich habe eine Methode verwendet die in diesem &lt;span class=&quot;caps&quot;&gt;PDF&lt;/span&gt; beschrieben wird: &lt;a href=&quot;http://www.scherfgen-software.net/downloads/book/excerpt.pdf&quot; target=_new&gt;Link&lt;/a&gt;&lt;br /&gt;
Eine effizientere Methode wird von Tom Hall in diesem Paper beschrieben: &lt;a href=&quot;http://www.geocities.com/tom_j_hall/SilhouetteTracking.pdf&quot; target=_new&gt;Link&lt;/a&gt;&lt;br /&gt;
Die dort beschrieben Methode basiert auf &lt;em&gt;Markosian&amp;#8217;s Randomized silhouette&lt;/em&gt; Algorithmus. Wenn mich nicht alles täuscht verwendet die Occluder Klasse von Xith genau diesen Algorithmus. Allerdings funktioniert die dort enthaltene Implementierung im Moment (07/2007) aufgrund von &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; Changes nicht.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/downloads/lighthouse/lighthouse.7z&quot; target=_new&gt;Download Lighthouse incl. src&lt;/a&gt; &lt;br /&gt;
Das Archiv enthält Lighthouse welches lauffähig unter Linux und Windows ist. Macintosh Support ist vorhanden aber wurde nicht getestet.&lt;br /&gt;
Die verwendete XithAPI ist nicht enthalten. Zur Entwicklung verwendete ich einen &lt;span class=&quot;caps&quot;&gt;SVN&lt;/span&gt; Trunk von 07/2007. Ein neuerer Trunk wird wahrscheinlich viele &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt; Changes enthalten. Diese sind in Xith Forum allerdings sehr gut dokumentiert.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Fast Orientated Desktop Item Transfer</title>
   <link href="http://www.jotschi.de/neuronensturm/technik/2007/07/27/fast-orientated-desktop-item-transfer.html"/>
   <updated>2007-07-27T01:25:37+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/technik/2007/07/27/fast-orientated-desktop-item-transfer</id>
   <content type="html">&lt;p&gt;Wer kennt es nicht? Das nahezu alltägliche Problem.. Man sitzt an seinem Laptop und möchte eine Datei vom Desktop des Laptops auf seinen Desktop-PC verschieben. Sicher es gibt schon unzählige Techniken (&lt;span class=&quot;caps&quot;&gt;FTP&lt;/span&gt;, unison, E-Mail, Samba) und ich möchte auch nicht das Rad komplett neu erfinden aber..&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-81&quot;&gt;&lt;/a&gt; wäre es nicht viel Interessanter und auch spannender man könnte einfach das gewählte Objekt auf dem Desktop nach links bzw. rechts zum Rand schieben und jenes Objekt würde dann auf dem Desktop des jeweiligen Rechners erscheinen. Markierungen am Rand des jeweiligen Desktops könnten Informationen darüber bieten in welcher Richtung sich der nächste erreichbare und auch öffentliche bzw. freigeschaltete Desktop befindet. Natürlich fehlt für diesen Fall allerdings Hardware, die heraus findet ob sich ein weiterer Rechner links oder rechts oder vor oder hinter dem aktuell betriebenen Rechner befindet. Die Idee kam mir da ich selbst viel mit Multihead arbeite und oft den Laptop auf dem Schreibtisch stehen habe. Datentransfer kann unter solchen Umständen etwas lästig werden.&lt;br /&gt;
Besonders aber im schulischen Umfeld oder bei Projektarbeiten könnte sich ein solches Verfahren durchaus als praktisch erweisen. Vielleicht ist aber auch einfach nur eine Spielerei. Über Sinn und Unsinn möge man ruhig streiten.&lt;/p&gt;
&lt;p&gt;Nachtrag:&lt;/p&gt;
&lt;p&gt;Ich bin auf Synergy gestoßen. Hiermit ist es möglich Maus und Tastatur über das Netzwerk zu Sharen. Ein Synergy Server wird entsprechend der Rechnerplatzirung konfiguriert. Besitzt man Beispielsweise zwei Rechner, so ist es möglich mit der Maus des einen Rechners den anderen zu steuern indem man einfach mit der Maus je nach Konfiguration den Desktopbereich in einer Richtung verlässt und somit den Desktop des anderen Rechners erreicht.&lt;/p&gt;
&lt;p&gt;Synergy ist unter Windows und Linux lauffähig.&lt;br /&gt;
Link: &lt;a href=&quot;http://synergy2.sourceforge.net/&quot;&gt;Synergy&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Der Erlenrouter</title>
   <link href="http://www.jotschi.de/fundgrube/technik/2007/04/13/der-erlenrouter.html"/>
   <updated>2007-04-13T17:28:04+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/technik/2007/04/13/der-erlenrouter</id>
   <content type="html">&lt;p&gt;Zwar nicht von mir aber verdammt genial :)&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-69&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Der Erlenrouter&lt;/p&gt;
&lt;p&gt;Wer routet so spät durch Nacht und Wind?&lt;br /&gt;
Es ist der Router, er routet geschwind!&lt;br /&gt;
Bald routet er hier, bald routet er dort&lt;br /&gt;
Jedoch die Pakete, sie kommen nicht fort. .&lt;/p&gt;
&lt;p&gt;Sie sammeln und drängeln sich, warten recht lange&lt;br /&gt;
in einer zu niedrig priorisierten Schlange.&lt;br /&gt;
Die Schlangen sind voll, der Router im Streß,&lt;br /&gt;
da meldet sich vorlaut der Routingprozeß&lt;br /&gt;
und ruft: &amp;#8220;All Ihr Päckchen, Ihr sorgt Euch zu viel,&lt;br /&gt;
nicht der IP-Host, nein, der Weg ist das Ziel!&amp;#8221;&lt;/p&gt;
&lt;p&gt;Es komme gar bald einem jeden zu Gute&lt;br /&gt;
eine sorgsam geplante und loopfreie Route.&lt;br /&gt;
Des Netzes verschlungene Topologie&lt;br /&gt;
entwirr&amp;#8217; ich mit Dijkstras Zeremonie.&lt;br /&gt;
Der Lohn, eine herrliche Routingtabelle,&lt;br /&gt;
dort steh&amp;#8217;n sogar Routen zu Himmel und Hölle.&lt;/p&gt;
&lt;p&gt;Vergiftet der Rückweg, das Blickfeld gespalten,&lt;br /&gt;
mit &lt;span class=&quot;caps&quot;&gt;RIP&lt;/span&gt; wird die Welt nur zum Narren gehalten.&lt;br /&gt;
Doch &lt;span class=&quot;caps&quot;&gt;OSPF&lt;/span&gt; durchsucht schnell und bequem&lt;br /&gt;
mein ganz und gar autonomes System.&lt;br /&gt;
Für kunstvolle Routen, das vergesst bitte nie,&lt;br /&gt;
benötigt man Kenntnis der Topologie.&lt;/p&gt;
&lt;p&gt;Zu Überraschungs- und Managementzwecken&lt;br /&gt;
durchsuch&amp;#8217; ich mit &lt;span class=&quot;caps&quot;&gt;RMON&lt;/span&gt; die hintersten Ecken.&lt;br /&gt;
Kein Winkel des Netzes bleibt vor mir verborgen,&lt;br /&gt;
mit &lt;span class=&quot;caps&quot;&gt;SNMP&lt;/span&gt; kann ich alles besorgen.&lt;/p&gt;
&lt;p&gt;Wohlan nun, Ihr Päckchen, die Reise beginnt,&lt;br /&gt;
Mit jeder Station Eure Lebenszeit rinnt.&lt;br /&gt;
Doch halt, Ihr Päckchen, bevor ich&amp;#8217;s vergesse:&lt;br /&gt;
&amp;#8220;Besorgt euch mit &lt;span class=&quot;caps&quot;&gt;NAT&lt;/span&gt; eine neue Adresse!&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Router, mein Router, was wird mir so bang!&lt;br /&gt;
Der Weg durch das &lt;span class=&quot;caps&quot;&gt;WAN&lt;/span&gt; ist gefährlich und lang.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Päckchen, mein Päckchen, so fürchte Dich nicht,&lt;br /&gt;
denn über Dich wacht eine Sicherungsschicht.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Router, mein Router, was wird mir so flau!&lt;br /&gt;
Dort draußen am &lt;span class=&quot;caps&quot;&gt;LAN&lt;/span&gt;-Port, da wartet die &lt;span class=&quot;caps&quot;&gt;MAU&lt;/span&gt;!&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Päckchen, mein Päckchen Dir droht nicht der Tod,&lt;br /&gt;
denn über Dich wacht ja der Manchester-Code.&lt;br /&gt;
Doch halte dich fern von der flammenden Mauer.&lt;br /&gt;
Die sorgt selbst bei mir noch für ängstliche Schauer.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Router, mein Router, wie glänzt dort voll Tücke&lt;br /&gt;
der schmale und schlüpfrige Weg auf der Brücke.&amp;#8221;&lt;br /&gt;
&amp;#8220;Oh weh! Das Netz ist mit Broadcasts geflutet.&lt;br /&gt;
Ach hätt&amp;#8217; ich doch niemals zur Brücke geroutet!&lt;/p&gt;
&lt;p&gt;Mein Päckchen, den Kopf hoch, Du musst nicht verzagen,&lt;br /&gt;
an Dich wird sich niemals ein Bitfehler wagen.&amp;quot;&lt;/p&gt;
&lt;p&gt;Schnell wie der Wind geht die Reise nun weiter&lt;br /&gt;
durch helle und funkelnde Lichtwellenleiter.&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Päckchen, mein Päckchen, willst Du mit mir gehen?&lt;br /&gt;
Die Wunder des Frame-Relay-Netzes ansehen?&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Router, mein Router, ja hörst Du denn nicht,&lt;br /&gt;
was die &lt;span class=&quot;caps&quot;&gt;WAN&lt;/span&gt;-Wolke lockend mir leise verspricht?&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Glaub mir, mein Päckchen, im &lt;span class=&quot;caps&quot;&gt;LAN&lt;/span&gt;, da entgeht&lt;br /&gt;
Dir sowieso Lebens- und Dienstqualität.&lt;br /&gt;
Reise nur weiter ganz ruhig und sacht&lt;br /&gt;
Quer durchs &lt;span class=&quot;caps&quot;&gt;ATM&lt;/span&gt;-Netz mit &lt;span class=&quot;caps&quot;&gt;FRF&lt;/span&gt;.8 .&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Router, mein Router, man hat mich verführt,&lt;br /&gt;
zerlegt, verschaltet und rekombiniert!&amp;#8221;&lt;/p&gt;
&lt;p&gt;&amp;#8220;Mein Päckchen, das macht nichts, nun sparen wir viel,&lt;br /&gt;
ein &lt;span class=&quot;caps&quot;&gt;VPN&lt;/span&gt;-Tunnel, der bringt Dich ans Ziel.&lt;/p&gt;
&lt;p&gt;DiffSERV und &lt;span class=&quot;caps&quot;&gt;TOS&lt;/span&gt;-Feld, merk&amp;#8217; Dir die Worte,&lt;br /&gt;
die öffnen zu jedem Router die Pforte.&amp;quot;&lt;/p&gt;
&lt;p&gt;Finster der Tunnel, die Bandbreite knapp,&lt;br /&gt;
wie schön war die Backplane im eigenen Hub.&lt;br /&gt;
Am Ende des Tunnels: Das Päckchen ist weg,&lt;br /&gt;
vernichtet vom Cyclic Redundancy Check.&lt;/blockquote&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Problem mit T19DS</title>
   <link href="http://www.jotschi.de/technik/2007/04/01/problem-mit-t19ds.html"/>
   <updated>2007-04-01T21:54:26+00:00</updated>
   <id>http://www.jotschi.de/technik/2007/04/01/problem-mit-t19ds</id>
   <content type="html">&lt;p&gt;Vor einiger Zeit hatte ich Probleme mit meinem &lt;span class=&quot;caps&quot;&gt;TFT&lt;/span&gt;.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-52&quot;&gt;&lt;/a&gt; Nach dem Einschalten zündet kurz die Hintergrundbeleuchtung und danach bleibt das Display dunkel. Es handelt sich hierbei um einen Fehler im Netzteil. Scheinbar fallen sehr viele Vision Magic T19DS nach ~1 Jahr Betrieb aus weil die eingebauten Kondensatoren minderwertig sind. Ich habe zwar alle Elkos ausgetauscht aber ich glaube das der im Bild rot markierte Kondenator bei mir der Hauptübeltäter war. (400V Elko)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#39;/images/t19ds/t19ds_power.jpg&#39; alt=&#39;Power&#39; /&gt;&lt;/p&gt;
&lt;p&gt;Ersatzteile gibts bei &lt;a href=&quot;http://www.pollin.de&quot;&gt;Pollin electronic&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Phantasinator</title>
   <link href="http://www.jotschi.de/neuronensturm/gfx/2007/03/31/phantasinator.html"/>
   <updated>2007-03-31T15:57:54+00:00</updated>
   <id>http://www.jotschi.de/neuronensturm/gfx/2007/03/31/phantasinator</id>
   <content type="html">&lt;p&gt;Der Phantasinator? Was mag das sein? Ein hochmodernes Gerät welches einem die tollsten Dinge vorgaukelt? Oder vielleicht ein neuer Superheld? &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-31&quot;&gt;&lt;/a&gt;&lt;br /&gt;
Nein, eigentlich ist es nur der Titel für diesen Blogeintrag.&lt;/p&gt;
&lt;p&gt;Was soll man machen wenn einem die Ideen ausgehen? Was soll man tun wenn man schon glaubt alle Phantasie und Kreativität verloren zu haben?&lt;/p&gt;
&lt;p&gt;Ich habe zwei Methoden gefunden die einem in einem solchen Fall nützlich sein können.&lt;/p&gt;
&lt;li&gt;1. Methode&lt;/li&gt;
&lt;p&gt;Bei dieser Methode verwenden wir 3D Studio Max oder jede andere 3D Software. Mit etwas Arbeit würde es sogar in Photoshop gehen. (ist aber nicht so praktisch)&lt;/p&gt;
&lt;p&gt;Zuerst erstellst du einen Quader. Es könnte auch irgendein anderes beliebiges Objekt sein. Wichtig ist hierbei nur das es relativ viel Geometrie enthält, da diese nacher von Bedeutung ist.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/3dsmax_basis.png&quot; title=&quot;3D Studio Max #1&quot;&gt;&lt;img src=&quot;/images/phantasinator/3dsmax_basis.thumbnail.png&quot; alt=&quot;3D Studio Max #1&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Jetzt erhält der Quader einen &amp;#8220;Noise Modifizer&amp;#8221; um die Geometrie zu stören. Hierbei muss man etwas experimentieren bis das gewünschte Ziel (siehe Bild) erreicht worden ist. Wichtig ist hierbei das die Geometrie animiert wird.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/3dsmax_chaos.png&quot; title=&quot;3D Studio Max #3&quot;&gt;&lt;img src=&quot;/images/phantasinator/3dsmax_chaos.thumbnail.png&quot; alt=&quot;3D Studio Max #3&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Als nächstes musst du den Blur passend einstellen. Dazu einfach Rechtsklick auf dein Objekt und Eigenschaften auswählen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/3dsmax_blur.png&quot; title=&quot;3D Studio Max #2&quot;&gt;&lt;img src=&quot;/images/phantasinator/3dsmax_blur.thumbnail.png&quot; alt=&quot;3D Studio Max #2&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Alles fertig? Dann empfiehlt es sich die komplette Sequenz in Einzelbildern herraus zu rendern. So kannst du später dir alle Bilder nach und nach anschauen und nach Strukturen etc. suchen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/2_m1.png&quot; title=&quot;Blur #2&quot;&gt;&lt;img src=&quot;/images/phantasinator/2_m1.thumbnail.png&quot; alt=&quot;Blur #2&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/1_m1.png&quot; title=&quot;Blur #1&quot;&gt;&lt;img src=&quot;/images/phantasinator/1_m1.thumbnail.png&quot; alt=&quot;Blur #1&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/images/phantasinator/3_komplex_m1.png&quot; title=&quot;Blur #4&quot;&gt;&lt;img src=&quot;/images/phantasinator/3_komplex_m1.thumbnail.png&quot; alt=&quot;Blur #4&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Es bietet sich auch an das Objekt zu clonen und zu verschieben. Zusätzlich sollte aber auch die Animation angepasst werden.&lt;br /&gt;
&lt;a href=&quot;/images/phantasinator/3_komplex_farbe_m1.png&quot; rel=&quot;attachment wp-att-34&quot; title=&quot;Blur #3&quot;&gt;&lt;img src=&quot;/images/phantasinator/3_komplex_farbe_m1.thumbnail.png&quot; alt=&quot;Blur #3&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Je nach Farbe erhält man auch etwas düstere Bilder.&lt;br /&gt;
&lt;a href=&quot;/images/phantasinator/xarlphibien.jpg&quot; title=&quot;Xarlphibien&quot;&gt;&lt;img src=&quot;/images/phantasinator/xarlphibien.thumbnail.jpg&quot; alt=&quot;Xarlphibien&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;li&gt;2. Methode&lt;/li&gt;
&lt;p&gt;Alles was du bei dieser Methode brauchst sind ein paar Textmarker, etwas Papier, ein Scanner und ein Computer.&lt;/p&gt;
&lt;p&gt;Zuerst schraffierst du ein wenig mit den Textmarkern auf dem Papier. Hier kannst du die Breite der Schraffur variieren. Wiederhol das ganze bist du ca vier bis fünf 4&amp;#215;4cm große interessante Strukturflächen hast. Diese Strukturen werden eingescannt und in Photoshop als Layer übereinander gelegt. Jetzt varrierst du solange die Überblendungsarten und stärke der Überlagerungen, sowie Kontrast der Layer und deren Position, bis du ein interessantes Bild erhälst. In diesem Bild kannst du nun nach verborgenen Strukturen suchen. Wenn du fündig geworden bist kannst du sie in Photoshop direkt weiter herrausarbeiten oder du druckst dir dein Bild aus und begibst dich mit &amp;#8220;per Hand&amp;#8221; ans Werk.&lt;/p&gt;
&lt;p&gt;Alternativ kann ich euch auch zusätzlich nur noch das in die Wolken schauen ans Herz legen.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Strom verjüngt</title>
   <link href="http://www.jotschi.de/fundgrube/das%20kalte%20nichts/2007/03/29/strom-verjungt.html"/>
   <updated>2007-03-29T03:02:19+00:00</updated>
   <id>http://www.jotschi.de/fundgrube/das%20kalte%20nichts/2007/03/29/strom-verjungt</id>
   <content type="html">&lt;p&gt;Anna hat mich heute auf &lt;em&gt;Ijon Tichy: Raumpilot&lt;/em&gt; aufmerksam gemacht. Eine Serie die mich ein wenig an &lt;a href=&quot;http://de.wikipedia.org/wiki/Captain_Cosmotic&quot;&gt;Captain Cosmotic&lt;/a&gt; erinnert. Sie ist zwar wesentlich aufwendiger produziert aber besitzt trozdem diesen trashigen Touch da man überall in der Serie Haushalsgegenstände als Requisiten auftauchen.&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-5&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Die Folgen werden wie folgt ausgestrahlt: &lt;br /&gt;
&lt;li&gt;Folge 1 &amp;#8211; Montag, 26. März 2007, 23.55 Uhr&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Folge 2 &amp;#8211; Montag, 02. April 2007, 0.10 Uhr&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Folge 3 &amp;#8211; Montag, 16. April 2007, 23.45 Uhr&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Folge 4 &amp;#8211; Montag, 23. April 2007, 23.55 Uhr&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Folge 5 &amp;#8211; Montag, 30. April 2007, 23.45 Uhr&lt;/li&gt;&lt;br /&gt;
&lt;li&gt;Folge 6 &amp;#8211; Montag, 07. Mai 2007, 0.05 Uhr &lt;/li&gt;&lt;/p&gt;
&lt;p&gt;Ihr habt eine Folge verpasst? &lt;br /&gt;
Kein Problem in der &lt;a href=&quot;http://www.zdf.de/ZDFde/inhalt/25/0,1872,5244377,00.html&quot;&gt;Mediathek von &lt;span class=&quot;caps&quot;&gt;ZDF&lt;/span&gt;&lt;/a&gt; lassen sich die Folgen als Stream anschauen.&lt;/p&gt;
&lt;p&gt;Und hier gibts noch den Trailer zu Captain Cosmotic:&lt;/p&gt;
&lt;p&gt;&lt;iframe width=&quot;560&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/J3z7R3F11wA?color=white&amp;theme=light&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Demis Maps Java Tool</title>
   <link href="http://www.jotschi.de/technik/gfx/2007/03/05/demis-maps-java-tool.html"/>
   <updated>2007-03-05T02:35:52+00:00</updated>
   <id>http://www.jotschi.de/technik/gfx/2007/03/05/demis-maps-java-tool</id>
   <content type="html">&lt;p&gt;Demis_Maps ist ein kleines Java Tool um Demis Maps mithilfe einer &lt;span class=&quot;caps&quot;&gt;KMZ&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;KML&lt;/span&gt; von Google Earth für &lt;span class=&quot;caps&quot;&gt;TTMM&lt;/span&gt; aufzubereiten.&lt;br /&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;a id=&quot;more-84&quot;&gt;&lt;/a&gt;&lt;br /&gt;
&lt;span class=&quot;caps&quot;&gt;TTMM&lt;/span&gt;  (Tom Tom Moving Map) ist ein TomTom Plugin zum darstellen von Rasterkarten. Somit ist es möglich irgendwelche Karten die man selbst erstellt hat innerhalb von TomTom zu verwenden. Es ist sogar möglich Google Earth mittels Tomtom und &lt;span class=&quot;caps&quot;&gt;TTMM&lt;/span&gt; auf einem PocketPC zu simulieren. Dies ist jedoch je nach Umfang mit enormem Aufwand verbunden. &lt;br /&gt;
Demis Maps sind jedoch keine Satellitenbilder sondern eher Topografische Karten.&lt;/p&gt;
&lt;p&gt;Durch die &lt;span class=&quot;caps&quot;&gt;KMZ&lt;/span&gt;/&lt;span class=&quot;caps&quot;&gt;KML&lt;/span&gt; aus Google Earth ist es möglich einen Bereich zu definieren dieser Bereich wird in einzelnen Teilkarten herruntergeladen um so eine relativ höhere Auflösung zu erreichen.&lt;/p&gt;
&lt;p&gt;Unter demis.nl kann man einen Blick auf die möglichen Kartenvarienten werfen.&lt;/p&gt;
&lt;p&gt;Anleitung:&lt;/p&gt;
&lt;p&gt;1. Zipfile irgendwohin entpacken&lt;/p&gt;
&lt;p&gt;2. Google Earth starten und dort ein Bildoverlay hinzufügen. (irgendein Bild wählen)&lt;br /&gt;
Das Bildoverlay dient nur dazu das demis_maps weiß welchen Bereich es später herrunterladen soll.&lt;br /&gt;
Dieses Overlay im Ordner wo sich demis_maps befindet abspeichern.&lt;/p&gt;
&lt;p&gt;3. Mittels Console in jenes Verzeichnis wechseln.&lt;/p&gt;
&lt;p&gt;4. Befehl ausführen: java -classpath X:\xyz\demis_maps demis_fetch&lt;br /&gt;
(Pfad bitte anpassen)&lt;br /&gt;
(Java 1.5 oder höher empfolen)&lt;br /&gt;
(Evtl. Einstellungen vornehmen)&lt;/p&gt;
&lt;p&gt;oder&lt;/p&gt;
&lt;p&gt;java -classpath X:\xyz\demis_maps demis_fetch export.kmz&lt;br /&gt;
(export.kmz ist das exportierte Bildoverlay)&lt;/p&gt;
&lt;p&gt;5. demis_maps erstellt einen Ordner (default: demis_slice). In diesem Ordner befindet sich nun bei default settings eine kml-Datei. Diese lässt sich per Drag and Drop in Google Earth ziehen bzw. importieren. Das Ergebnis sollte direkt sichtbar sein.&lt;/p&gt;
&lt;p&gt;Die einzelnen Teile lassen sich nun je nach bedarf exportieren und für &lt;span class=&quot;caps&quot;&gt;TTMM&lt;/span&gt; verwenden.&lt;br /&gt;
Schritt 5 kann auch übersprungen werden wenn man mit &amp;#8220;-f false&amp;#8221; start.&lt;br /&gt;
Dadurch werden die einzelnen Overlays nicht in einem Ordner gespeichert sondern in einzelnen kml Dateien.&lt;/p&gt;
&lt;p&gt;Vielleicht kann jemand es ja gebrauchen. Ich finde es praktisch weil ich so die Bahnwege abspeichern kann.&lt;/p&gt;
&lt;p&gt;Download: &lt;a href=&quot;/downloads/demis/demis_maps.zip&quot;&gt;Demis_Maps&lt;/a&gt;&lt;br /&gt;
Link: &lt;a href=&quot;http://forum.pocketnavigation.de/thread.php?threadid=1026055&amp;threadview=0&amp;hilight=&amp;hilightuser=0&amp;sid=482ddaa19c4e1965e94ba18eb6f41169&amp;page=1&quot; target=_new&gt;&lt;span class=&quot;caps&quot;&gt;TTMM&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
</feed>