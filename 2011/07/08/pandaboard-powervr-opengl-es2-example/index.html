<!DOCTYPE html>


<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="alternate" href="/index.xml" type="application/rss+xml" title="Jotschi&#39;s Blog">
		<link rel="icon" href="http://jotschi.de/favicon.ico">
		<title>Cross Compile Pandaboard PowerVR OpenGL ES2 Example - Jotschi&#39;s Blog</title>
		
		<link rel="stylesheet" href="http://jotschi.de/css/highlight.js.min.css">
		<link rel="stylesheet" href="http://jotschi.de/css/bootstrap.min.css">
		<link rel="stylesheet" href="http://jotschi.de/css/bootstrap-theme.css">
		<link rel="stylesheet" href="http://jotschi.de/css/theme.css">
		<link rel="stylesheet" href="http://jotschi.de/css/bootie-docs.css">
	</head>

<body role="document">

	
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="http://jotschi.de/">Jotschi&#39;s Blog</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li ><a href="http://jotschi.de/">Home</a></li>
			
				
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Categories<span class="caret"></span></a>
						<ul class="dropdown-menu" role="menu">
						
							<li><a href="http://jotschi.de/categories/code">Code</a></li>
						
							<li><a href="http://jotschi.de/categories/electronics">Electronics</a></li>
						
							<li><a href="http://jotschi.de/categories/gfx">Gfx</a></li>
						
							<li><a href="http://jotschi.de/categories/linux">Linux</a></li>
						
							<li><a href="http://jotschi.de/categories/random">Random</a></li>
						
							<li><a href="http://jotschi.de/categories/space">Space</a></li>
						
						</ul>
					</li>
				
				</ul>
			</div>
		</div>
	</nav>

<div class="container">

<div class="row">
	<div class="col-sm-8 doc-main">
		<main role="main">
			<article>
				<a id="title"></a>
				<h1 class="doc-entry-title">Cross Compile Pandaboard PowerVR OpenGL ES2 Example</h1>
				<div class="doc-entry-meta">
					<span><time datetime="2011-07-08">July 08, 2011</time></span>
				</div>
				<section>
					<div class="paragraph">
<p>This post is about how to cross compile a very simple OpenGL ES2 example for the Pandaboard within a Debian Linux chroot environment.</p>
</div>
<div class="paragraph">
<p>&lt;a id="more"&gt;&lt;/a&gt;&lt;a id="more-594"&gt;&lt;/a&gt;</p>
</div>
<div class="paragraph">
<p><em>What do we need?</em>
* Pandaboard running Ubuntu 11 (Natty)
* x86 (i386) Workstation running Debian
* &lt;a href="http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/"&gt;pvr-omap4 orig package&lt;/a&gt; (e.g.: &lt;a href="http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz"&gt;pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz&lt;/a&gt;)
* <a href="/downloads/PandaboardPowerVROGLES2Example.tgz">Archive</a> with OpenGL ES2 example for the Pandaboard</p>
</div>
<div class="sect1">
<h2 id="_1_create_a_chroot_environment">1. Create a chroot environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At first we need a chroot environment in which we can compile our code against arm architecture.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># use debootstrap to create a chroot environment
debootstrap --arch=i386 testing rootfs/
# Switch into the chroot environment
chroot rootfs
# Install some basic tools
apt-get install vim less pdebuild-cross</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_update_our_apt_sources">2. Update our apt sources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the emdebian repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo "deb http://ftp.at.debian.org/debian/ testing main contrib non-free" &gt; /etc/apt/sources.list
echo "deb http://www.emdebian.org/debian/ testing main" &gt;&gt; /etc/apt/sources.list
apt-get install emdebian-archive-keyring
apt-get update</pre>
</div>
</div>
<div class="sect2">
<h3 id="_3_install_the_crosscompiler_tools_from_emdebian_repository">3. Install the crosscompiler tools from emdebian repository</h3>
<div class="listingblock">
<div class="content">
<pre>apt-get install g++-4.4-arm-linux-gnueabi
apt-get install gcc-4.4-arm-linux-gnueabi</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_powervr_libraries_and_headers">4. PowerVR libraries and headers</h3>
<div class="paragraph">
<p>Download the pvr-omap4 archive which contains a set of libraries for powervr. The files can be found at &lt;a href="https://launchpad.net/~tiomap-dev"&gt;Launchpad TI Dev&lt;/a&gt;. Those binaries are used to create the omap4 ubuntu packages. I used the pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz archive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre># Extract pvr-omap4 archive
cd /opt/
wget http://ppa.launchpad.net/tiomap-dev/release/ubuntu/pool/main/p/pvr-omap4/pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz
tar xvfz pvr-omap4_1.7.5.2+git20110610+9696932c.2.orig.tar.gz</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_5_get_cross_compile_dependencies">5. Get cross compile dependencies</h3>
<div class="listingblock">
<div class="content">
<pre>xapt -m -a armel libx11-dev
xapt -m -a armel libdrm-dev</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_6_extract_the_example_and_compile">6. Extract the example and compile</h3>

</div>
<div class="sect2">
<h3 id="__a_href_downloads_pandaboardpowervrogles2example_tgz_download_the_example">&lt;a href="/downloads/PandaboardPowerVROGLES2Example.tgz[Download] the example</h3>
<div class="listingblock">
<div class="content">
<pre>cd /opt/
wget http://www.jotschi.de/downloads/PandaboardPowerVROGLES2Example.tgz
tar xvfz PandaboardPowerVROGLES2Example.tgz</pre>
</div>
</div>
<div class="sect3">
<h4 id="_store_settings">Store Settings</h4>
<div class="paragraph">
<p>Contents of /opt/settings.inc</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash
export X11ROOT=/usr/arm-linux-gnueabi/
export PVR_OMAP_FILES=/opt/pvr-omap4-1.7.5.2+git20110610+9696932c.2</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_load_settings_and_compile">Load settings and compile:</h3>
<div class="listingblock">
<div class="content">
<pre>cd /opt/OGLES2PowerVRPandaboardExample
# If . does not work use source to include the settings
. /opt/settings.inc
# Invoke the build
make</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;h3&gt;Optional for pandaboard cross platform development&lt;/h3&gt;
Now i have a build arm ready binary executable within my chroot environment. To execute it straight from eclipse we have to create another script. The script will transfer our executable (in this case OGLES2HelloTriangle) to the Pandaboard OMAP4 platform and execute it there.</p>
</div>
<div class="paragraph">
<p><strong>run.sh:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#!/bin/bash
echo "Transfering"
scp ReleaseX11/OGLES2HelloTriangle  root@panda:/opt/

echo "Executing"
ssh root@panda DISPLAY=:0 /opt/OGLES2HelloTriangle</pre>
</div>
</div>
<div class="paragraph">
<p>Just create a new C/C++ Application run configuration that uses the following settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>C/C++ Application: /bin/bash</p>
</li>
<li>
<p>Program arguments: /home/myuser/workspace/MyProject/run.sh</p>
</li>
</ul>
</div>
</div>
</div>
</div>

				</section>
			</article>
		</main>
	</div> 

	
<div class="col-sm-3 col-sm-offset-1 doc-sidebar">
	<div class="sidebar-module">
		<div class="sidebar-toc">
			<h4>Table of Contents</h4>
			<ul>
				<li><strong><a href="#title">Cross Compile Pandaboard PowerVR OpenGL ES2 Example</a></strong></li>
			</ul>
			
		</div>
	</div>
	<div class="sidebar-module">
		<h4>Tags</h4>
		<div class="tag-box">
		
		</div>
	</div>
</div>

</div> 


<hr />

<div class="row">
	<div class="col-sm-8">
		<p class="doc-footer-em"><a href="#">Back to TOP</a></p>
	</div>
</div>

</div> 

<footer class="doc-footer">
	
	
</footer>



<script src="http://jotschi.de/js/jquery-1.11.2.min.js"></script>
<script src="http://jotschi.de/js/bootstrap.min.js"></script>

<script src="http://jotschi.de/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="http://jotschi.de/js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>