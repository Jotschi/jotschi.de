--- 
layout: post
status: publish
published: true
title: Ipw3945 - Kill Switch Problem - Solved
author: Jotschi
author_login: admin
author_email: webmaster@jotschi.de
author_url: http://www.Jotschi.de
excerpt: "Wireless Network Interface verschwunden? "
wordpress_id: 86
wordpress_url: /?p=86
date: 2007-08-24 17:27:09 +00:00
categories: 
- Technik
tags: 
- debian
- ipw3945
comments: []

---
Wireless Network Interface verschwunden? <a id="more"></a><a id="more-86"></a>Ipw3945 gibt folgenden Hinweis aus?

{% raw %}
<pre class="syntax c">
[17179602.488000] ipw3945: Radio Frequency Kill Switch is On:
[17179602.488000] Kill switch must be turned off for wireless networking to work.
</pre>
{% endraw %}

Dies bedeutet, das der WLan Chip deaktiviert wurde (geschieht normalerweise mittels Taste am Notebook)

rf_kill sollte in dem Fall wahrscheinlich 2 liefern:

{% raw %}
<pre>
amilo:/sys/bus/pci/drivers/ipw3945/0000:04:00.0# cat rf_kill
2
</pre>
{% endraw %}

Um den killswitch unter Linux zum laufen zu bringen benötigt man (beim Amilo Pro 3505 zumindest) die Acer Hotkey Treiber.

Diese gibt es unter <a href="http://www.cakey.de/acerhk/" target=_blank>http://www.cakey.de/acerhk/</a>.

<pre class="syntax c">
make
make install
modprobe acerhk
</pre>


Sollte das Modul nicht bauen weil es die config.h nicht findet genügt es in acerhk.c (Line 38) den Include von linux/config.h auf linux/autoconf.h zu ändern.

Mit dem folgenden Befehl aktiviert man das WLAN wieder:
{% raw %}
<pre class="syntax c">
echo 1 > /proc/driver/acerhk/wirelessled 
</pre>
{% endraw %}

rf_kill sollte nun 0 zurückliefern:
<pre class="syntax c">
amilo:/sys/bus/pci/drivers/ipw3945/0000:04:00.0# cat rf_kill
0
</pre>

Getestet mit:

* Distro:       Debian Etch
* Notebook: Amilo Pro 3505
* Treiber:    Ipw3945-1.2.2 / acerhk-0.5.34
* Kernel:     2.6.21.5
